(()=>{var e,t,a,s={4947:(e,t,a)=>{var s={"./gears-1":[345,772],"./gears-1.js":[345,772],"./gears-136":[7026,437],"./gears-136.js":[7026,437],"./gears-210":[4291,254],"./gears-210.js":[4291,254],"./gears-255":[7205,336],"./gears-255.js":[7205,336],"./gears-271":[8602,881],"./gears-271.js":[8602,881],"./gears-340":[5441,215],"./gears-340.js":[5441,215],"./gears-385":[8404,733],"./gears-385.js":[8404,733],"./gears-401":[7058,221],"./gears-401.js":[7058,221],"./gears-470":[935,225],"./gears-470.js":[935,225],"./gears-515":[8937,928],"./gears-515.js":[8937,928],"./gears-531":[2413,999],"./gears-531.js":[2413,999],"./gears-600":[1138,949],"./gears-600.js":[1138,949],"./gears-645":[2431,402],"./gears-645.js":[2431,402],"./gears-661":[8345,675],"./gears-661.js":[8345,675],"./gears-70":[4017,43],"./gears-70.js":[4017,43],"./gears-recent":[7637],"./gears-recent.js":[7637]};function i(e){if(!a.o(s,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return Promise.all(t.slice(1).map(a.e)).then((()=>a(i)))}i.keys=()=>Object.keys(s),i.id=4947,e.exports=i},5366:(e,t,a)=>{var s={"./chevron-right.svg":2256,"./help.svg":7843,"./hq.svg":196,"./jobs/ALC.svg":8594,"./jobs/ARM.svg":9294,"./jobs/AST.svg":6573,"./jobs/BLM.svg":1972,"./jobs/BLU.svg":7184,"./jobs/BRD.svg":9660,"./jobs/BSM.svg":5780,"./jobs/BTN.svg":35,"./jobs/CRP.svg":7728,"./jobs/CUL.svg":9596,"./jobs/DNC.svg":8392,"./jobs/DRG.svg":8583,"./jobs/DRK.svg":6156,"./jobs/FSH.svg":7431,"./jobs/GNB.svg":7200,"./jobs/GSM.svg":2918,"./jobs/LTW.svg":543,"./jobs/MCH.svg":8909,"./jobs/MIN.svg":1500,"./jobs/MNK.svg":8008,"./jobs/NIN.svg":5630,"./jobs/PCT.svg":9762,"./jobs/PLD.svg":8290,"./jobs/RDM.svg":6967,"./jobs/RPR.svg":9478,"./jobs/SAM.svg":4901,"./jobs/SCH.svg":7768,"./jobs/SGE.svg":9279,"./jobs/SMN.svg":7660,"./jobs/VPR.svg":3631,"./jobs/WAR.svg":4171,"./jobs/WHM.svg":9533,"./jobs/WVR.svg":8265,"./meteo.svg":595,"./more.svg":7126,"./open-in-new.svg":8467,"./sync.svg":9419};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=o,e.exports=i,i.id=5366},683:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o)()(i());r.push([e.id,'body{background-color:#f2f2f2;cursor:auto;line-height:1.15;min-width:1080px;overflow-x:auto;overflow-y:scroll;text-align:center}svg{fill:currentColor;transform:translateZ(0)}.app{color:rgba(0,0,0,.871);display:inline-block;font-family:Helvetica Neue,Helvetica,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,微软雅黑,sans-serif;font-size:14px;padding-bottom:48px;position:relative;text-align:left;text-align:initial}.app:not(.app-high-saturation) ::selection{background-color:#c8e1ff}.card{background-color:#fff;background-color:var(--mdc-theme-surface,#fff);border-radius:4px;border-radius:var(--mdc-shape-medium,4px);box-shadow:0 2px 1px -1px #0003,0 1px 1px 0 #00000024,0 1px 3px 0 #0000001f;overflow:hidden}.table{color:rgba(0,0,0,.871);line-height:36px}.table td,.table th{padding-bottom:0;padding-top:0;white-space:nowrap}.table th{color:#0009;font-weight:400;padding-top:1px}.table td{border-top:1px solid #e0e0e0}.table tbody:first-child tr:first-child td{border-top:none}.table tbody tr:hover{background-color:rgba(0,0,0,.039)}.table tbody tr.-selected{background-color:#6200ee14}.app-high-saturation .table tbody tr.-selected{background-color:#6200ee29}.badge-button .mdc-button__label{position:relative}.badge-button_badge{height:8px;min-width:8px;padding:0;right:-8px;top:-3px;transform:none}.rmwc-badge--exited{transform:scale(0)}.job-selector{margin-left:3px;position:relative}.job-selector_column{display:inline-block;padding:6px 16px 24px;position:relative;vertical-align:top;width:160px}.job-selector_group{line-height:34px}.job-selector_group:not(:first-child){margin-top:16px}.job-selector_group-name{font-weight:700;padding-left:16px}.job-selector_item{border-radius:4px;color:inherit;display:block;font-size:14px;padding-left:16px;text-decoration:none}.job-selector_icon{height:18px;margin-left:1px;vertical-align:-4px}.job-selector_background-icon{border-bottom-right-radius:4px;bottom:0;color:#6200ee;height:391px;opacity:.08;overflow:hidden;pointer-events:none;position:absolute;right:0;width:380px}.job-selector_background-icon>svg{width:480px}.job-select-panel{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f;min-width:810px;padding-top:16px}.job-select-panel_tip{bottom:13px;color:#0009;font-style:italic;line-height:1;position:absolute;right:18px}.gears_slot{margin-bottom:10px;margin-top:10px}.app-edit .gears_item[data-id]{cursor:pointer}.gears_item.-group-end+.gears_item td{border-top-color:#ededed;border-top-width:4px}.gears_inline-slot{font-size:13px;font-weight:700;margin-right:6px;vertical-align:top}.gears_left{padding-left:16px;padding-right:16px;width:320px}th.gears_left{color:rgba(0,0,0,.871);font-weight:700;text-align:left}.gears_name{display:inline-block;max-width:230px;overflow:hidden;text-overflow:ellipsis;vertical-align:top;white-space:nowrap}.app-view .gears_name{max-width:198px}.gears_color-red .gears_name{color:#721c24}.app-high-saturation .gears_color-red .gears_name{color:#9c0010}.gears_color-green .gears_name{color:#155724}.app-high-saturation .gears_color-green .gears_name{color:#007a2b}.gears_color-blue .gears_name{color:#003085}.app-high-saturation .gears_color-blue .gears_name{color:#003899}.gears_color-purple .gears_name{color:#36037c}.app-high-saturation .gears_color-purple .gears_name{color:#3e0094}.gears_hq{vertical-align:-1px;width:12px}.gears_patch{line-height:1;margin-left:4px}.gears_level,.gears_patch{color:rgba(0,0,0,.376);font-size:12px}.gears_level{float:right;line-height:34px;margin-left:12px;margin-top:2px}.gears_more{fill:#000000c4;float:right;margin:6px -10px 0 4px}.gears_toogle-all-foods{float:right;font-size:12px;height:29px;margin-right:-11px;margin-top:4px}.gears_materias{border-left:1px solid rgba(0,0,0,.122);border-right:1px solid rgba(0,0,0,.122);padding-left:13px;padding-right:13px;position:relative;width:277px;z-index:0}.gears_materias-synced{left:0;line-height:1;pointer-events:none;position:absolute;right:0;text-align:center;top:10px;z-index:2}.gears_materias-synced>svg{color:#0009;width:16px}.gears_food-utilization{margin-left:4px}.gears_food-utilization.-full{font-weight:700}.gears_stat{text-align:center;width:60px}.gears_stat.-skeleton{white-space:nowrap;width:86px}.gears_item.-food .gears_stat{line-height:1}.gears_stat-value.-full{font-weight:700}.gears_stat-value.-skeleton{display:inline-block;font-weight:700;text-align:right;width:50%}.gears_stat-value.-skeleton:last-child{margin-right:50%}.gears_stat-caps{color:#0009;display:inline-block;font-size:12px;line-height:1;padding-left:1px;text-align:left;width:50%}.gears_stat-requirement{color:#0000008a;display:block;font-size:12px;line-height:8px;margin-bottom:-2px;transform:scale(.9)}.gears_custom-stat-input{width:36px}.gears_empty{color:rgba(0,0,0,.376)}.gears_materia{border-radius:2px;display:inline-block;line-height:26px;margin:auto -2px;position:relative;text-align:center;width:54px}.gears_materia:not(:empty):after{border-bottom:2px solid;bottom:4px;content:" ";left:5px;opacity:.1;position:absolute;right:5px}.gears_materias-same-width .gears_materia:not(:empty):after{display:none}.app-edit .gears_materia:hover{background-color:rgba(0,0,0,.059);z-index:1}.app-edit .gears_materia.-active,.app-edit .gears_materia:active{background-color:rgba(0,0,0,.102);z-index:1}.app-edit .gears_materia:empty:before{border:2px solid #0000;border-radius:50%;content:" ";display:inline-block;height:16px;vertical-align:-3px;width:16px}.gears_item.-synced .gears_materia{opacity:.2}.gears_materia.-normal{color:#155724}.app-high-saturation .gears_materia.-normal{color:#007a2b}.gears_materia.-normal:empty:before{border-color:rgba(0,149,34,.235)}.gears_materia.-advanced{color:#721c24}.app-high-saturation .gears_materia.-advanced{color:#9c0010}.gears_materia.-advanced:empty:before{border-color:rgba(210,0,22,.224)}.condition{margin-top:10px;overflow:visible;position:relative}.condition_divider{background-color:rgba(0,0,0,.122);display:inline-block;height:24px;margin:9px 0;vertical-align:top;width:1px}.condition_right{float:right}.condition_job{border-radius:4px;display:inline-block;line-height:34px;margin:4px;padding:0 12px;vertical-align:top}.condition_job-icon{margin-left:-2px;padding-bottom:2px;width:20px}.condition_tip{color:#0009;display:inline-block;font-size:12px;line-height:34px;margin-top:5px;text-decoration:none;vertical-align:top}.condition_tip:hover{text-decoration:underline}.condition_tip.-highlight{color:#b00020;font-weight:700}.condition_level{display:inline-block;line-height:42px;padding-left:16px;vertical-align:top}.condition_level-value{margin-right:2px}.condition_level-input{width:36px}.condition_level-separator{margin:0 4px}.condition_button{height:34px;margin:4px 8px;min-width:48px;vertical-align:top}.condition_button+.condition_button{margin-left:-4px}.condition_text{line-height:42px;padding:0 16px;vertical-align:top}.condition_filter{margin-left:6px;margin-right:6px}.condition_setting{margin-right:6px}.condition_level-sync-icon{vertical-align:-2px;width:14px}.condition_welcome-promotion{border-radius:4px;box-shadow:0 2px 1px -1px #0003,0 1px 1px 0 #00000024,0 1px 3px 0 #0000001f;position:absolute;right:0;top:66px;transform:rotate(6deg);transform-origin:right 38%;transition:box-shadow .1s ease-in-out}.condition_welcome-promotion:hover{box-shadow:0 3px 1px -2px #0003,0 2px 2px 0 #00000024,0 1px 5px 0 #0000001f}.summary{align-items:flex-end;display:flex;overflow:visible}@media(min-width:1080px){.app-edit .summary{border-bottom-left-radius:0;border-bottom-right-radius:0;bottom:0;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f;margin-left:-12px;padding:0 12px;position:fixed}}.app-view .summary>span:not(.summary_divider){margin-bottom:2px;margin-top:-2px}.summary_divider{align-self:stretch;border-left:1px solid rgba(0,0,0,.122);margin-right:-1px}.summary_left{height:49px;position:relative;width:320px}.summary_middle{position:relative;width:277px}.summary_clan{bottom:5px;height:35px;left:4px;padding:0 12px;position:absolute}.summary_equipped-level{bottom:0;color:rgba(0,0,0,.376);font-size:12px;left:260px;line-height:44px;position:absolute}.summary_tiers-toggle{bottom:5px;height:35px;left:10px;position:absolute}.summary_stat{line-height:18px;padding-bottom:4px;padding-top:9px;text-align:center;width:60px}.summary_stat.-skeleton{width:86px}.summary_stat-tier{font-size:12px;line-height:14px;margin-top:2px}.summary_stat-next,.summary_stat-prev{display:inline-block;vertical-align:top;white-space:nowrap;width:21px}.summary_stat-prev{text-align:left}.summary_stat-next{text-align:right}.summary_stat-name{color:#000000a6;font-size:13px}.summary_stat-effect{font-size:12px;white-space:nowrap}.summary_stat-effect.-tip{cursor:default;text-decoration:underline;-webkit-text-decoration:underline dotted currentColor;text-decoration:underline dotted currentColor}.summary_stat-effect+.summary_stat-name{display:none}.summary_stat-small{display:inline-block;margin:0 -2px;transform:scale(.83) translateY(1px)}.app-view .summary_stat:last-child .summary_stat-effect-hp{transform:translateX(-4px)}.summary_damage{float:right;width:120px}.summary_damage-tip{color:#0000008c;display:inline-block;margin:-1px -6px -1px 1px;vertical-align:1px;width:16px}.about{color:rgba(0,0,0,.502);font-size:13px;line-height:19px;margin-bottom:10px;margin-top:10px;text-align:center}.about_separator{margin:0 4px}.about_version{margin-left:4px}.about_link{color:rgba(0,0,0,.502);text-decoration:none}.about_link:hover{text-decoration:underline}.filter{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f;line-height:20px;min-width:500px;padding:16px}.filter_section{margin-bottom:3px}.filter_section:not(:first-child){margin-top:20px}.filter_title{font-weight:700}.filter_sub{color:#0009;font-size:12px;line-height:1;margin-left:6px;vertical-align:-1px}.filter_controls{margin-left:-9px}.filter_controls>.mdc-form-field{display:flex;margin-bottom:-6px;margin-right:20px}.level-sync{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.level-sync .rmwc-collapsible-list__children{transition:none}.level-sync_group{font-weight:700}.level-sync_group-icon{width:24px}.level-sync_levels{margin:0 4px;width:288px}.level-sync_job-level-sync,.level-sync_level{border-radius:4px;cursor:pointer;display:inline-block;line-height:36px;text-align:center;vertical-align:top;width:48px}.-popular.level-sync_job-level-sync,.level-sync_level.-popular{font-weight:700}.-selected.level-sync_job-level-sync,.level-sync_level.-selected{background-color:#6200ee14}.app-high-saturation .-selected.level-sync_job-level-sync,.app-high-saturation .level-sync_level.-selected{background-color:#6200ee29}.level-sync_job-level-sync{float:right;padding:0 12px;width:auto}.level-sync_cancel{margin:5px 8px 0}.materia-overall{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f;overflow:visible}.materia-overall_tabbar{border-bottom:1px solid rgba(0,0,0,.122)}.materia-overall_tabbar .mdc-tab{flex-grow:0;height:40px;padding:0 12px}.materia-overall_tabbar .mdc-tab:first-child>.mdc-tab__ripple{border-top-left-radius:4px}.materia-overall_tabbar .mdc-tab__content{padding-top:2px}.materia-overall_tabbar .mdc-tab__text-label{position:relative}.materia-overall_badge{height:8px;min-width:8px;padding:0;right:-8px;top:-3px;transform:none}.materia-consumption{text-align:center}.materia-consumption th{color:inherit;width:72px}.materia-consumption td:first-child,.materia-consumption th:first-child{padding-left:15px;padding-right:8px;text-align:left}.materia-consumption_empty td:first-child{color:rgba(0,0,0,.376);padding:0;text-align:center}.materia-consumption_tip{line-height:20px}.table tbody .materia-consumption_tip:hover{background:none}.materia-consumption_tip td{padding-bottom:8px;padding-top:8px}.materia-consumption_tool-duplicates{font-weight:700;line-height:24px}.materia-consumption_tool-duplicates.-disabled{text-decoration:line-through}.materia-consumption_tool-duplicates-switch{margin-left:6px;vertical-align:-2px}.materia-det-dht-optimization{width:360px}.materia-det-dht-optimization_introduce{border-bottom:1px solid #e0e0e0;line-height:20px;padding:9px 16px 4px}.materia-det-dht-optimization_introduce p{margin-bottom:5px;margin-top:0}.materia-det-dht-optimization_solutions{width:100%}.materia-det-dht-optimization_solutions td{padding-left:16px;padding-right:16px}.materia-det-dht-optimization_use-solution{height:32px;margin-left:-7px;vertical-align:initial}.materia-det-dht-optimization_tip{border-top:1px solid #e0e0e0;padding:12px 16px 14px}.share{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f;line-height:20px;min-width:300px;padding:16px}.share_url{color:#6200ee;display:block;font-size:12px;text-decoration:none}.share_url:hover{text-decoration:underline}.share_tip{font-size:12px;font-style:italic;margin-bottom:-2px;margin-top:4px}.share_copy{bottom:8px;height:34px;position:absolute;right:8px}.import{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f;line-height:20px;padding:16px}.import_title{font-weight:700}.import_bookmarklet{border:1px dashed #6200ee99;border-radius:4px;color:#6200ee;display:block;margin:8px 0;padding:8px;text-align:center;text-decoration:none}.import_bookmarklet:hover{text-decoration:underline}.import_warn{color:#721c24;font-weight:700;margin-top:4px}.setting{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f;line-height:20px;min-width:500px;padding:8px 16px 10px}.setting_section{margin-top:8px}.setting_title{font-weight:700}.setting_sub{color:#0009;font-size:12px;line-height:1;margin-left:6px;vertical-align:-1px}.setting_controls{margin-left:-9px}.setting_controls>.mdc-form-field{margin-right:20px}.gear-menu{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f;padding:9px 0}.gear-menu_item{color:inherit;display:block;line-height:32px;padding-left:16px;padding-right:32px;text-decoration:none}.gear-menu_divider{background-color:rgba(0,0,0,.122);height:1px;margin:8px 0}.gear-menu_divider+.gear-menu_divider,.gear-menu_divider:first-child,.gear-menu_divider:last-child{display:none}.gear-menu_external{fill:currentColor;height:1em;opacity:.75;vertical-align:-2px}.materias{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.materias tbody tr:hover{background-color:#0000}.materias td{padding:0 12px}.materias td:first-child{padding-left:16px}.materias td:last-child{padding-right:16px}.materias_stat-name{border-right:1px solid rgba(0,0,0,.122);text-align:center}.materias_row.-invalid{color:#0003}.materias_grade,.materias_remove{cursor:pointer;text-align:center}.materias_grade:hover,.materias_remove:hover{background-color:rgba(0,0,0,.039)}.materias_grade:active,.materias_remove:active{background-color:rgba(0,0,0,.102)}.materias_grade.-selected,.materias_remove.-selected{background-color:#6200ee14}.app-high-saturation .materias_grade.-selected,.app-high-saturation .materias_remove.-selected{background-color:#6200ee29}td.materias_meldable{min-width:40px;padding-right:0;text-align:right}td.materias_meldable.-overflowed{color:#dc3545;font-weight:700}.materias_meldable-title{border-right:1px solid rgba(0,0,0,.122);text-align:center}.clan{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;padding:8px}.clan_race{font-weight:700;padding:0 8px;text-align:right}.clan_item{border-radius:4px;line-height:34px;padding:0 8px;text-align:center;vertical-align:top}td:not(:first-child)>.clan_item{margin-left:-2px}',""]);const n=r},4222:(e,t,a)=>{"use strict";function s(){return window.history.state?.archiveKey||void 0}function i(e){window.history.replaceState({archiveKey:e},"")}let o;function r(){if(void 0!==o){let e=s();void 0===e&&(e=function(){let e;do{e=`ffxiv-gearing.dt.archive.${Math.random().toString(36).slice(2,6)}`}while(null!==sessionStorage.getItem(e));return e}(),i(e)),sessionStorage.setItem(e,JSON.stringify(o)),o=void 0}}function n(e){o=e}function l(e){if(void 0===e?e=s():i(e),void 0!==e){let t=sessionStorage.getItem(e);return null===t&&(t=localStorage.getItem(e),null!==t&&sessionStorage.setItem(e,t)),t?JSON.parse(t):void 0}}a.d(t,{a:()=>n,z:()=>l}),setInterval(r,5e3),window.addEventListener("beforeunload",r),window.addEventListener("popstate",(()=>{o=void 0}))},6277:(e,t,a)=>{"use strict";a.r(t),a.d(t,{baseStats:()=>h,bluMdmgAdditions:()=>q,clanStats:()=>H,clans:()=>V,customStatMax:()=>u,getCaps:()=>d,getMateriaName:()=>G,jobCategories:()=>T,jobLevelModifiers:()=>p,jobLevels:()=>m,jobSchemas:()=>N,materiaGradeNames:()=>E,materiaGradeRequiredLevels:()=>C,materiaGrades:()=>L,materiaGradesAdvanced:()=>M,materiaNames:()=>I,materiaStatNames:()=>P,materiaSuccessRates:()=>k,materias:()=>D,patches:()=>s.Z,races:()=>R,statHighlight:()=>w,statNames:()=>i,syncLevelIsPopular:()=>z,syncLevelOfJobLevels:()=>F,syncLevels:()=>O});var s=a(9602);const i={STR:"力量",DEX:"灵巧",INT:"智力",MND:"精神",VIT:"耐力",CRT:"暴击",DHT:"直击",DET:"信念",SKS:"技速",SPS:"咏唱",TEN:"坚韧",PIE:"信仰",CMS:"作业精度",CRL:"加工精度",CP:"制作力",GTH:"获得力",PCP:"鉴别力",GP:"采集力",PDMG:"物理基本性能",MDMG:"魔法基本性能",DLY:"攻击间隔"},o=a(5841).Z,r=a(5153).Z,n=a(7910).Z,l={};o.level.forEach(((e,t)=>{l[e]=t}));const c={};function d(e,t){const a=t??e.level,s=e.rawSlot??e.slot,d=e.role,p=`${a},${s},${d}`;if(!(p in c)){const e={};for(const t of Object.keys(i))e[t]="DLY"===t?1/0:Math.round(o[t][l[a]]*r[t][s]*n[t][d]/1e5);c[p]=e}return c[p]}const p={50:{main:202,sub:341,div:341,det:202,detTrunc:5,ap:75,apTank:53,hp:14,vit:11.2,vitTank:15.5},60:{main:218,sub:354,div:600,det:600,detTrunc:2,ap:100,apTank:78,hp:15,vit:12.9,vitTank:17.5},70:{main:292,sub:364,div:900,det:900,detTrunc:1,ap:125,apTank:105,hp:17,vit:14,vitTank:18.8},80:{main:340,sub:380,div:1300,det:1300,detTrunc:1,ap:165,apTank:115,hp:20,vit:18.8,vitTank:26.6},90:{main:390,sub:400,div:1900,det:1900,detTrunc:1,ap:195,apTank:156,hp:30,vit:24.3,vitTank:34.6},100:{main:440,sub:420,div:2780,det:2780,detTrunc:1,ap:237,apTank:190,hp:40,vit:30.1,vitTank:43}},m=Object.keys(p).map((e=>Number(e))),g=m[m.length-1],h={STR:"main",DEX:"main",INT:"main",MND:"main",VIT:"main",CRT:"sub",DHT:"sub",DET:"main",SKS:"sub",SPS:"sub",TEN:"sub",PIE:"main",CMS:0,CRL:0,CP:180,GTH:0,PCP:0,GP:400},u=1e3,x={tank:["STR","CRT","DET","DHT","SKS","TEN","VIT"],healer:["MND","CRT","DET","DHT","SPS","PIE","VIT"],dpsStr:["STR","CRT","DET","DHT","SKS","VIT"],dpsDex:["DEX","CRT","DET","DHT","SKS","VIT"],dpsInt:["INT","CRT","DET","DHT","SPS","VIT"],crafting:["CMS","CRL","CP"],gathering:["GTH","PCP","GP"]},f=[{slot:3,name:"头部防具",uiGroup:"left"},{slot:4,name:"身体防具",uiGroup:"left"},{slot:5,name:"手部防具",uiGroup:"left"},{slot:7,name:"腿部防具",uiGroup:"left"},{slot:8,name:"脚部防具",uiGroup:"left"},{slot:9,name:"耳饰",uiGroup:"right"},{slot:10,name:"项链",uiGroup:"right"},{slot:11,name:"手镯",uiGroup:"right"},{slot:12,name:"戒指",uiGroup:"right"},{slot:-12,name:"戒指",uiGroup:"right"},{slot:-1,name:"食物",levelWeight:0,uiGroup:"misc"}],b=[{slot:13,name:"武器",levelWeight:2,uiGroup:"weapon"},...f],v=[{slot:1,name:"主工具",shortName:"主手",uiGroup:"weapon"},{slot:2,name:"副工具",shortName:"副手",uiGroup:"weapon"},...f],j=[...v.slice(0,-1),{slot:17,name:"灵魂水晶",shortName:"水晶",levelWeight:0,uiGroup:"misc"},v[v.length-1]],S=[690,710],_=[690,700],y=_,N={PLD:{name:"骑士",stats:x.tank,slots:[{slot:1,name:"武器",uiGroup:"weapon"},{slot:2,name:"盾牌",uiGroup:"weapon"},...f],defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{STR:100,VIT:110,hp:140},mainStat:"VIT",traitDamageMultiplier:1},WAR:{name:"战士",stats:x.tank,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{STR:105,VIT:110,hp:145},mainStat:"VIT",traitDamageMultiplier:1},DRK:{name:"暗黑骑士",stats:x.tank,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{STR:105,VIT:110,hp:140},mainStat:"VIT",traitDamageMultiplier:1},GNB:{name:"绝枪战士",stats:x.tank,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{STR:100,VIT:110,hp:140},mainStat:"VIT",traitDamageMultiplier:1},WHM:{name:"白魔法师",stats:x.healer,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{MND:115,VIT:100,hp:105},mainStat:"MND",traitDamageMultiplier:1.3},SCH:{name:"学者",stats:x.healer,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{MND:115,VIT:100,hp:105},mainStat:"MND",traitDamageMultiplier:1.3},AST:{name:"占星术士",stats:x.healer,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{MND:115,VIT:100,hp:105},mainStat:"MND",traitDamageMultiplier:1.3},SGE:{name:"贤者",stats:x.healer,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{MND:115,VIT:100,hp:105},mainStat:"MND",traitDamageMultiplier:1.3},MNK:{name:"武僧",stats:x.dpsStr,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{STR:110,VIT:100,hp:110,gcd:80,gcdReason:"“疾风迅雷”状态中"},mainStat:"STR",traitDamageMultiplier:1},DRG:{name:"龙骑士",stats:x.dpsStr,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{STR:115,VIT:105,hp:115},mainStat:"STR",traitDamageMultiplier:1},NIN:{name:"忍者",stats:x.dpsDex,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:110,VIT:100,hp:108,gcd:85,gcdReason:"“风遁”状态中"},mainStat:"DEX",traitDamageMultiplier:1},SAM:{name:"武士",stats:x.dpsStr,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{STR:112,VIT:100,hp:109,gcd:87,gcdReason:"“风花”状态中"},mainStat:"STR",traitDamageMultiplier:1},RPR:{name:"钐镰客",stats:x.dpsStr,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{STR:115,VIT:105,hp:115},mainStat:"STR",traitDamageMultiplier:1},VPR:{name:"Viper",stats:x.dpsDex,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:110,VIT:100,hp:111,gcd:85,gcdReason:"“疾速”状态中"},mainStat:"DEX",traitDamageMultiplier:1},BRD:{name:"吟游诗人",stats:x.dpsDex,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:115,VIT:100,hp:105},mainStat:"DEX",traitDamageMultiplier:1.2},MCH:{name:"机工士",stats:x.dpsDex,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:115,VIT:100,hp:105},mainStat:"DEX",traitDamageMultiplier:1.2},DNC:{name:"舞者",stats:x.dpsDex,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:115,VIT:100,hp:105},mainStat:"DEX",traitDamageMultiplier:1.2},BLM:{name:"黑魔法师",stats:x.dpsInt,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.3},SMN:{name:"召唤师",stats:x.dpsInt,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.3},RDM:{name:"赤魔法师",stats:x.dpsInt,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.3},PCT:{name:"绘灵法师",stats:x.dpsInt,slots:b,defaultItemLevel:S,jobLevel:g,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.3},BLU:{name:"青魔法师",stats:x.dpsInt,slots:[{slot:13,name:"武器",levelWeight:0,uiGroup:"weapon"},...f],defaultItemLevel:[520,530],jobLevel:80,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.5,partyBonus:1.01},CRP:{name:"刻木匠",stats:x.crafting,slots:j,defaultItemLevel:_,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},BSM:{name:"锻铁匠",stats:x.crafting,slots:j,defaultItemLevel:_,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},ARM:{name:"铸甲匠",stats:x.crafting,slots:j,defaultItemLevel:_,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},GSM:{name:"雕金匠",stats:x.crafting,slots:j,defaultItemLevel:_,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},LTW:{name:"制革匠",stats:x.crafting,slots:j,defaultItemLevel:_,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},WVR:{name:"裁衣匠",stats:x.crafting,slots:j,defaultItemLevel:_,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},ALC:{name:"炼金术士",stats:x.crafting,slots:j,defaultItemLevel:_,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},CUL:{name:"烹调师",stats:x.crafting,slots:j,defaultItemLevel:_,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},MIN:{name:"采矿工",stats:x.gathering,slots:v,defaultItemLevel:y,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:2},BTN:{name:"园艺工",stats:x.gathering,slots:v,defaultItemLevel:y,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:2},FSH:{name:"捕鱼人",stats:x.gathering,slots:v,defaultItemLevel:y,jobLevel:g,skeletonGears:!0}},T=a(9282).Z,w={PIE:!0,TEN:!0,DHT:!0,CRT:!0,DET:!0,SKS:!0,SPS:!0},D={PIE:[1,2,3,4,6,16,8,24,12,36,18,54],DHT:[1,2,3,4,6,16,8,24,12,36,18,54],CRT:[1,2,3,4,6,16,8,24,12,36,18,54],DET:[1,2,3,4,6,16,8,24,12,36,18,54],SPS:[1,2,3,4,6,16,8,24,12,36,18,54],SKS:[1,2,3,4,6,16,8,24,12,36,18,54],TEN:[1,2,3,4,6,16,8,24,12,36,18,54],CMS:[3,4,5,6,11,16,14,21,18,27,22,33],CRL:[1,2,3,4,7,10,9,13,12,18,15,23],CP:[1,2,3,4,6,8,7,9,8,10,9,11],GTH:[3,4,5,6,10,15,12,20,14,25,20,36],PCP:[3,4,5,6,10,15,12,20,14,25,20,36],GP:[1,2,3,4,6,8,7,9,8,10,9,11]},L=[12,11,10,9,8,7,6,5,4,3,2,1],M=[11,9,7,5,4,3,2,1],C=[15,30,45,70,160,290,420,420,560,560,690,690],k=[[90,82,70,58,17,17,17,17,17,17,17,17],[48,44,38,32,10,0,10,0,10,0,10,0],[28,26,22,20,7,0,7,0,7,0,7,0],[16,16,14,12,5,0,5,0,5,0,5,0]],I={CRT:"武略",DHT:"神眼",DET:"雄略",SKS:"战技",SPS:"咏唱",TEN:"刚柔",PIE:"信力",CMS:"名匠",CRL:"巨匠",CP:"魔匠",GTH:"达识",PCP:"博识",GP:"器识"},E=["壹","贰","叁","肆","伍","陆","柒","捌","玖","拾","拾壹","拾贰"],P={...i,CP:"CP",GP:"GP"};function G(e,t,a,s=4){return a?P[e].slice(0,2)+D[e][t-1]:I[e].slice(0,s-E[t-1].length)+E[t-1]}const R=["人族","精灵族","拉拉菲尔族","猫魅族","鲁加族","敖龙族","硌狮族","维埃拉族"],V=["中原之民","高地之民","森林之民","黑影之民","平原之民","沙漠之民","逐日之民","护月之民","北洋之民","红焰之民","晨曦之民","暮晖之民","掠日之民","迷踪之民","密林之民","山林之民"],H={STR:[22,23,20,20,19,19,22,19,22,20,19,23,23,23,20,19].map((e=>e-20)),DEX:[19,20,23,20,23,21,23,22,19,18,22,20,17,17,23,20].map((e=>e-20)),VIT:[20,22,19,19,19,18,20,18,23,23,19,22,23,23,18,19].map((e=>e-20)),INT:[23,18,22,23,22,22,19,21,18,20,20,20,17,17,21,23].map((e=>e-20)),MND:[19,20,19,21,20,23,19,23,21,22,23,18,23,23,21,22].map((e=>e-20))},O=a(3676).Z,z={300:!0,345:!0,375:!0,475:!0,605:!0,635:!0,695:!0},F={50:130,60:270,70:400,80:530,90:660,100:790},q=a(1636).Z},3805:(e,t,a)=>{"use strict";var s=a(5893),i=(a(5311),a(745)),o=a(8949),r=(a(2717),a(8843),a(2860)),n=a(2766),l=a(4184),c=a(7294);const d=c.createContext(void 0);function p(){return c.useContext(d)}var m=a(5931),g=a(6277),h=a(8872);const u=a(5366),x=c.memo((function({className:e,name:t}){const a=u("./"+t+".svg").default;return(0,s.jsx)("svg",{className:e,viewBox:a.viewBox,children:(0,s.jsx)("use",{xlinkHref:"#"+a.id})})}));var f=a(3935),b=a(7217);const v=e=>{const[t,a]=c.useState(!1),i=c.Children.only(e.children);if(!c.isValidElement(i))return null;const o=()=>f.flushSync((()=>a(!0))),r=c.cloneElement(i,{...i.props,onFocus:o,onPointerEnter:o,onTouchStart:o,onMouseEnter:o});return t?(0,s.jsx)(b.HW,{...e}):r},j=c.forwardRef((({icon:e,className:t,...a},i)=>(0,s.jsx)(v,{unbounded:!0,children:(0,s.jsx)("button",{...a,ref:i,className:l("mdc-icon-button","mdc-icon-button--dense",t),type:"button",children:(0,s.jsx)(x,{className:"mdc-icon-button__icon",name:e})})})));var S=a(4355);const _=n.Pi((e=>{const[t,a]=c.useState(!1),[i,o]=c.useState(null),r=e=>{a(!t),e&&e.stopPropagation()};return(0,s.jsxs)(s.Fragment,{children:[e.label({ref:o,expanded:t,toggle:r}),t&&(0,s.jsx)(y,{...e,setExpanded:a,labelElement:i,toggle:r})]})})),y=n.Pi((e=>{const{popper:t,placement:a,modifiers:i,strategy:o,setExpanded:r,labelElement:n,toggle:l}=e,[d,p]=c.useState(null),m=S.D(n,d,{placement:a,modifiers:i,strategy:o}),g=document.getElementById("popper");return N=e=>{const t=e.target;t&&n&&d&&(n.contains(t)||d.contains(t)||(r(!1),N=void 0,e._isClosingDropdown=!0))},T=e=>{const t=e.target;!t||"BODY"!==t.tagName&&t!==n||"Escape"!==e.key||(r(!1),T=void 0)},c.useEffect((()=>()=>{N=void 0,T=void 0}),[]),g&&f.createPortal((0,s.jsx)("div",{ref:p,style:m.styles.popper,...m.attributes.popper,onClick:e=>e.stopPropagation(),children:c.createElement(t,{toggle:l,labelElement:n})}),g)}));let N,T;window.addEventListener("click",(e=>N?.(e)),!0),window.addEventListener("keyup",(e=>T?.(e)),!0);var w=a(6964),D=a.n(w);const L=n.Pi((function({gear:e,toggle:t}){const a=p();return(0,s.jsxs)("div",{className:"gear-menu card",children:[(0,s.jsx)(v,{children:(0,s.jsx)("div",{children:(0,s.jsxs)(D(),{className:"gear-menu_item",component:"div","data-clipboard-text":e.name,onClick:t,children:["复制道具名",!e.isFood&&e.source&&("source"===a.setting.gearDisplayName||!e.isInstalled)&&"："+e.name]})})}),(0,s.jsx)("div",{className:"gear-menu_divider"}),!e.isFood&&e.source&&"name"===a.setting.gearDisplayName&&e.isInstalled&&(0,s.jsxs)("div",{className:"gear-menu_item",children:["获取途径：",e.source]}),void 0!==e.stats.PDMG&&(0,s.jsxs)("div",{className:"gear-menu_item",children:["物理基本性能：",e.stats.PDMG]}),void 0!==e.stats.MDMG&&(0,s.jsxs)("div",{className:"gear-menu_item",children:["魔法基本性能：",e.stats.MDMG]}),void 0!==e.stats.DLY&&(0,s.jsxs)("div",{className:"gear-menu_item",children:["攻击间隔：",(e.stats.DLY/1e3).toFixed(2)]}),(0,s.jsx)("div",{className:"gear-menu_divider"}),e.isInstalled&&(0,s.jsx)(v,{children:(0,s.jsxs)("a",{className:"gear-menu_item",href:"https://ff14.huijiwiki.com/wiki/%E7%89%A9%E5%93%81:"+encodeURI(e.name),target:"_blank",tabIndex:0,children:["在 最终幻想XIV中文维基 中查看 ",(0,s.jsx)(x,{className:"gear-menu_external",name:"open-in-new"})]})}),(0,s.jsx)(v,{children:(0,s.jsxs)("a",{className:"gear-menu_item",href:"http://www.garlandtools.org/db/#item/"+Math.abs(e.id),target:"_blank",tabIndex:0,children:["在 Garland Data 中查看 ",(0,s.jsx)(x,{className:"gear-menu_external",name:"open-in-new"})]})}),(0,s.jsx)(v,{children:(0,s.jsxs)("a",{className:"gear-menu_item",href:`./lodestone?jp:${Math.abs(e.id)}`,target:"_blank",tabIndex:0,children:["在 The Lodestone 中查看 ",(0,s.jsx)(x,{className:"gear-menu_external",name:"open-in-new"})]})})]})})),M=n.Pi((function({materia:e,labelElement:t}){const a=p();return(0,s.jsx)("table",{className:"materias table card",children:(0,s.jsxs)("tbody",{children:[a.schema.stats.map((a=>a in g.materias&&(0,s.jsxs)("tr",{className:l("materias_row",e.gear.currentMeldableStats[a]<=0&&"-invalid"),children:[(0,s.jsx)("td",{className:l("materias_meldable",e.gear.currentMeldableStats[a]<0&&"-overflowed"),children:e.gear.currentMeldableStats[a]}),(0,s.jsx)("td",{className:"materias_stat-name",children:g.materiaStatNames[a].slice(0,2)}),e.meldableGrades.map((i=>(0,s.jsx)("td",{className:l("materias_grade",e.stat===a&&e.grade===i&&"-selected"),onClick:()=>{if(void 0===e.stat){const e=t?.nextElementSibling;null===e&&t?.click(),0===e?.childNodes.length&&e.click()}e.meld(a,i)},children:"+"+g.materias[a][i-1]},i)))]},a))),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"materias_meldable-title",colSpan:2,children:"可镶嵌值"}),(0,s.jsx)("td",{className:l("materias_remove",void 0===e.stat&&"-selected"),colSpan:e.meldableGrades.length,onClick:()=>e.meld(void 0),children:"不镶嵌魔晶石"})]})]})})})),C=n.Pi((function({materia:e}){const t=p();return(0,s.jsx)(_,{label:({ref:a,expanded:i,toggle:o})=>(0,s.jsx)("span",{ref:a,className:l("gears_materia",e.isAdvanced?"-advanced":"-normal",i&&"-active"),onClick:t.isViewing?void 0:o,onContextMenu:t.isViewing?void 0:t=>{document.getSelection()?.toString()||(t.preventDefault(),e.meld(void 0))},children:e.name}),popper:({labelElement:t})=>(0,s.jsx)(M,{materia:e,labelElement:t}),placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[-104-50*e.index,0]}}]})})),k=n.Pi((function({gear:e,slot:t,isGroupEnd:a}){const i=p();return void 0===e?0===t?.levelWeight?null:(0,s.jsxs)("tr",{className:l("gears_item",a&&"-group-end"),children:[(0,s.jsxs)("td",{className:"gears_left",children:[void 0!==t&&(0,s.jsx)("span",{className:"gears_inline-slot",children:(t.shortName??t.name).slice(0,2)}),(0,s.jsx)("span",{className:"gears_empty",children:i.isViewing?"无装备":"无匹配"})]}),(0,s.jsx)("td",{className:"gears_materias"}),(0,s.jsx)("td",{colSpan:i.schema.stats.length})]}):(0,s.jsxs)("tr",{"data-id":e.id,className:l("gears_item",e.isFood&&"-food",!i.isViewing&&e.isEquipped&&"-selected",a&&"-group-end",!e.isFood&&void 0!==e.syncedLevel&&"-synced"),onClick:i.isViewing?void 0:t=>{t.nativeEvent._isClosingDropdown||t.timeStamp-E<200||i.equip(e)},children:[(0,s.jsxs)("td",{className:l("gears_left",`gears_color-${e.color}`),children:[void 0!==t&&(0,s.jsx)("span",{className:"gears_inline-slot",children:(t.shortName??t.name).slice(0,2)}),"source"===i.setting.gearDisplayName&&!e.isFood&&e.source?(0,s.jsxs)("span",{className:"gears_name",children:[e.source,!e.isInstalled&&(0,s.jsx)("span",{className:"gears_patch",children:e.patch})]}):e.isInstalled?(0,s.jsxs)("span",{className:"gears_name",children:[e.name,e.hq&&(0,s.jsx)(x,{className:"gears_hq",name:"hq"})]}):(0,s.jsxs)("span",{className:"gears_name",children:[(0,s.jsx)("span",{className:"gears_origin",children:e.isFood?e.name:"*"+e.source}),(0,s.jsx)("span",{className:"gears_patch",children:e.patch})]}),(0,s.jsx)(_,{label:({ref:e,toggle:t})=>(0,s.jsx)(j,{ref:e,className:"gears_more",icon:"more",onClick:t}),popper:({toggle:t})=>(0,s.jsx)(L,{gear:e,toggle:t}),placement:"bottom-end"}),(0,s.jsxs)("span",{className:"gears_level",children:["il",e.level]})]}),(0,s.jsxs)("td",{className:"gears_materias",children:[!e.isFood&&e.materias.map(((e,t)=>(0,s.jsx)(C,{materia:e},t))),e.isFood&&(i.isViewing?(0,s.jsxs)("span",{className:"gears_food-utilization",children:["利用率",e.utilization,"%"]}):(0,s.jsxs)("span",{className:l("gears_food-utilization",100===e.utilization&&"-full"),style:{opacity:e.utilizationOpacity},children:[e.utilization,"%"]})),!e.isFood&&void 0!==e.syncedLevel&&(0,s.jsx)("div",{className:"gears_materias-synced",children:(0,s.jsx)(x,{name:"sync"})})]}),i.schema.stats.map((t=>(0,s.jsxs)("td",{className:l("gears_stat",i.schema.skeletonGears&&"-skeleton"),children:[i.isViewing||e.isFood||!e.customizable||t in e.bareStats||!("DHT"!==t||e.equipLevel<=60||i.schema.stats.length<7)?(0,s.jsx)("span",{className:l("gears_stat-value",e.statHighlights[t]&&"-full",i.schema.skeletonGears&&!e.isFood&&17!==e.slot&&"-skeleton"),children:(e.isFood||e.customizable||void 0!==e.syncedLevel||i.setting.displayMeldedStats?e.stats:e.bareStats)[t]}):(0,s.jsx)(I,{displayValue:e.stats[t],editValue:e.customStats.get(t),onChange:a=>e.setCustomStat(t,a)}),i.schema.skeletonGears&&!e.isFood&&e.materias.length>0&&(0,s.jsxs)("span",{className:"gears_stat-caps",children:["/",e.caps[t]]}),!i.isViewing&&"VIT"!==t&&e.isFood&&e.requiredStats[t]&&(0,s.jsxs)("span",{className:l("gears_stat-requirement",i.equippedStatsWithoutFood[t]>=e.requiredStats[t]&&"-enough"),children:[e.requiredStats[t],"+"]})]},t)))]})})),I=n.Pi((function({displayValue:e,editValue:t,onChange:a}){const[i,o]=c.useState(e?.toString()??""),[r,n]=c.useState(e);return e!==r&&(o(e?.toString()??""),n(e)),(0,s.jsx)(h.n,{className:"gears_custom-stat-input mdc-text-field--compact",value:i,onChange:e=>{o(e.target.value)},onFocus:e=>{e.target.value=t?.toString()??"",o(e.target.value),e.target.select()},onBlur:()=>{n(-1),a(parseInt(i,10))},onClick:e=>{e.stopPropagation()},onKeyPress:e=>{"Enter"===e.key&&e.target.blur()}})}));let E=0;window.addEventListener("focusout",(e=>{"INPUT"===e.target?.tagName&&(E=e.timeStamp)}));const P=n.Pi((function({slot:e}){const t=p(),a=t.groupedGears[e.slot];return"comparable"!==t.filterFocus||a?.length>1?(0,s.jsxs)("table",{className:"gears_slot table card",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsxs)("th",{className:"gears_left",children:[e.name,-1===e.slot&&(0,s.jsx)(m.z,{className:"gears_toogle-all-foods",children:t.showAllFoods?"显示最优":"显示全部",onClick:t.toggleShowAllFoods})]}),(0,s.jsx)("th",{className:"gears_materias",children:-1===e.slot?"利用率":"魔晶石"}),t.schema.stats.map((e=>(0,s.jsx)("th",{className:l("gears_stat",t.schema.skeletonGears&&"-skeleton"),children:g.statNames[e]},e)))]})}),(0,s.jsx)("tbody",{children:void 0!==a?a.map((e=>(0,s.jsx)(k,{gear:e},e.id))):(0,s.jsx)(k,{gear:void 0})})]}):null})),G=n.Pi((function(){const e=p();return(0,s.jsxs)("table",{className:"gears_slot table card",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"gears_left-compact",children:"装备"}),(0,s.jsx)("th",{className:"gears_materias",children:"魔晶石"}),e.schema.stats.map((e=>(0,s.jsx)("th",{className:"gears_stat",children:g.statNames[e]},e)))]})}),(0,s.jsx)("tbody",{className:l(e.isMateriaNamesSameWidth&&"gears_materias-same-width"),children:e.schema.slots.map(((t,a)=>(0,s.jsx)(k,{gear:e.equippedGears.get(t.slot.toString()),slot:t,isGroupEnd:a<e.schema.slots.length-1&&t.uiGroup!==e.schema.slots[a+1].uiGroup},t.slot)))})]})}));var R=a(8947);const V=c.forwardRef((function({promotion:e,className:t,onClick:a,children:i,...o},r){const n=p();return(0,s.jsxs)(m.z,{...o,ref:r,className:l(t,"badge-button"),onClick:()=>(n.promotion.off(e),a()),children:[i,(0,s.jsx)(R.C,{className:"badge-button_badge",exited:!n.promotion.get(e)})]})})),H=n.Pi((function(){return(0,s.jsxs)("div",{className:"job-selector",children:[(0,s.jsxs)("div",{className:"job-selector_column",children:[(0,s.jsxs)(O,{name:"防护职业",children:[(0,s.jsx)(z,{job:"PLD"}),(0,s.jsx)(z,{job:"WAR"}),(0,s.jsx)(z,{job:"DRK"}),(0,s.jsx)(z,{job:"GNB"})]}),(0,s.jsxs)(O,{name:"近战职业",children:[(0,s.jsx)(z,{job:"MNK"}),(0,s.jsx)(z,{job:"DRG"}),(0,s.jsx)(z,{job:"NIN"}),(0,s.jsx)(z,{job:"SAM"}),(0,s.jsx)(z,{job:"RPR"}),(0,s.jsx)(z,{job:"VPR"})]})]}),(0,s.jsxs)("div",{className:"job-selector_column",children:[(0,s.jsxs)(O,{name:"治疗职业",children:[(0,s.jsx)(z,{job:"WHM"}),(0,s.jsx)(z,{job:"SCH"}),(0,s.jsx)(z,{job:"AST"}),(0,s.jsx)(z,{job:"SGE"})]}),(0,s.jsxs)(O,{name:"远程物理职业",children:[(0,s.jsx)(z,{job:"BRD"}),(0,s.jsx)(z,{job:"MCH"}),(0,s.jsx)(z,{job:"DNC"})]}),(0,s.jsxs)(O,{name:"远程魔法职业",children:[(0,s.jsx)(z,{job:"BLM"}),(0,s.jsx)(z,{job:"SMN"}),(0,s.jsx)(z,{job:"RDM"}),(0,s.jsx)(z,{job:"PCT"}),(0,s.jsx)(z,{job:"BLU"})]})]}),(0,s.jsx)("div",{className:"job-selector_column",children:(0,s.jsxs)(O,{name:"能工巧匠",children:[(0,s.jsx)(z,{job:"CRP"}),(0,s.jsx)(z,{job:"BSM"}),(0,s.jsx)(z,{job:"ARM"}),(0,s.jsx)(z,{job:"GSM"}),(0,s.jsx)(z,{job:"LTW"}),(0,s.jsx)(z,{job:"WVR"}),(0,s.jsx)(z,{job:"ALC"}),(0,s.jsx)(z,{job:"CUL"})]})}),(0,s.jsx)("div",{className:"job-selector_column",children:(0,s.jsxs)(O,{name:"大地使者",children:[(0,s.jsx)(z,{job:"MIN"}),(0,s.jsx)(z,{job:"BTN"}),(0,s.jsx)(z,{job:"FSH"})]})}),(0,s.jsx)("div",{className:"job-selector_background-icon",children:(0,s.jsx)(x,{name:"meteo"})})]})})),O=n.Pi((function({name:e,children:t}){return(0,s.jsxs)("div",{className:"job-selector_group",children:[(0,s.jsx)("div",{className:"job-selector_group-name",children:e}),t]})})),z=n.Pi((function({job:e}){const t=p(),a=g.jobSchemas[e];return(0,s.jsx)(v,{children:(0,s.jsxs)("a",{className:"job-selector_item",href:`?${e}`,onClick:a=>{a.preventDefault(),t.setJob(e),window.history.pushState(window.history.state,document.title,window.location.href)},children:[a.name,(0,s.jsx)(x,{className:"job-selector_icon",name:"jobs/"+e})]})})}));var F=a(5120);const q=n.Pi((function(){const e=p();return(0,s.jsxs)("div",{className:"filter card",children:[(0,s.jsxs)("div",{className:"filter_section",children:[(0,s.jsx)("span",{className:"filter_title",children:"实装版本"}),(0,s.jsx)("span",{className:"filter_sub",children:"即使选择只显示国服项目，数值（如发生过变更）也仍为国际服版本"})]}),(0,s.jsxs)("div",{className:"filter_controls",children:[(0,s.jsx)(F.Y,{label:"显示全部",checked:"all"===e.filterPatch,onChange:()=>e.setFilterPatch("all")}),(0,s.jsx)(F.Y,{label:`显示国服已实装和即将实装的项目（≤${g.patches.next}）`,checked:"next"===e.filterPatch,onChange:()=>e.setFilterPatch("next")})]}),(0,s.jsxs)("div",{className:"filter_section",children:[(0,s.jsx)("span",{className:"filter_title",children:"“聚焦”模式"}),(0,s.jsx)("span",{className:"filter_sub",children:"隐藏大部分装备，对比某几件"})]}),(0,s.jsxs)("div",{className:"filter_controls",children:[(0,s.jsx)(F.Y,{label:"不启用",checked:"no"===e.filterFocus,onChange:()=>e.setFilterFocus("no")}),(0,s.jsx)(F.Y,{label:"只显示镶嵌了魔晶石的装备",checked:"melded"===e.filterFocus,onChange:()=>e.setFilterFocus("melded")}),(0,s.jsx)(F.Y,{label:"只显示镶嵌了魔晶石的装备，并隐藏仅有一件装备可供选择的部位",checked:"comparable"===e.filterFocus,onChange:()=>e.setFilterFocus("comparable")})]})]})}));var A=a(816),B=a(9165),W=a(4173);const K=n.Pi((function({toggle:e}){const t=p();return(0,s.jsx)("div",{className:"level-sync card",children:(0,s.jsxs)(A.a,{children:[g.jobLevels.map((a=>a<=t.schema.jobLevel&&(0,s.jsx)(B.i,{defaultOpen:a===t.jobLevel,handle:(0,s.jsx)(W.ug,{className:"level-sync_group",text:`${a}级`,metaIcon:(0,s.jsx)(x,{className:"level-sync_group-icon",name:"chevron-right"})}),children:(0,s.jsxs)("div",{className:"level-sync_levels",children:[g.syncLevels[a].map((i=>(0,s.jsx)(v,{children:(0,s.jsx)("span",{className:l("level-sync_level",g.syncLevelIsPopular[i]&&"-popular",i===t.syncLevel&&"-selected"),onClick:()=>{t.setSyncLevel(i,a),e()},children:i})},i))),a!==t.schema.jobLevel&&(0,s.jsx)(v,{children:(0,s.jsx)("span",{className:l("level-sync_job-level-sync",a===t.jobLevel&&void 0===t.syncLevel&&"-selected"),onClick:()=>{t.setSyncLevel(void 0,a),e()},children:"仅同步等级"})})]})},a))),(t.jobLevel!==t.schema.jobLevel||void 0!==t.syncLevel)&&(0,s.jsx)(m.z,{className:"level-sync_cancel",onClick:()=>{t.setSyncLevel(void 0,void 0),e()},children:"取消同步"})]})})}));var U=a(1512),$=a(2430),Y=a(1037);const X=n.Pi((function(){const e=p(),t=!e.isViewing&&void 0!==e.schema.mainStat;let a=e.materiaOverallActiveTab;return 1!==a||t||(a=0),(0,s.jsxs)("div",{className:"materia-overall card",children:[(0,s.jsx)("div",{className:"materia-overall_tabbar",children:(0,s.jsxs)(U.n,{activeTabIndex:a,onActivate:t=>{e.setMateriaOverallActiveTab(t.detail.index),1===a&&e.promotion.off("materiaDetDhtOptimization")},children:[(0,s.jsx)($.O,{children:"用量预估"}),t&&(0,s.jsxs)($.O,{children:["信念/直击分配优化",(0,s.jsx)(R.C,{className:"badge-button_badge",exited:!e.promotion.get("materiaDetDhtOptimization")})]})]})}),0===a&&(0,s.jsxs)("table",{className:"materia-consumption table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"魔晶石"}),(0,s.jsx)("th",{children:"安全孔"}),(0,s.jsx)("th",{children:"期望"}),(0,s.jsx)("th",{children:"90%*"}),(0,s.jsx)("th",{children:"99%*"})]})}),(0,s.jsxs)("tbody",{children:[(()=>{const t=[],a=e.schema.stats.filter((t=>t in e.materiaConsumption));for(const i of a)for(const a of g.materiaGrades){const o=e.materiaConsumption[i][a];void 0!==o&&t.push((0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:g.getMateriaName(i,a,"stat"===e.setting.materiaDisplayName)}),(0,s.jsx)("td",{children:o.safe}),(0,s.jsx)("td",{children:o.expectation}),(0,s.jsx)("td",{children:o.confidence90}),(0,s.jsx)("td",{children:o.confidence99})]},i+a))}return t})(),0===Object.keys(e.materiaConsumption).length&&(0,s.jsx)("tr",{className:"materia-consumption_empty",children:(0,s.jsx)("td",{colSpan:5,children:"未镶嵌魔晶石"})}),(0,s.jsx)("tr",{className:"materia-consumption_tip",children:(0,s.jsxs)("td",{colSpan:5,children:["*以此总体成功率完成全部镶嵌所需的数量",e.schema.toolMateriaDuplicates>1&&(0,s.jsxs)("div",{className:l("materia-consumption_tool-duplicates",!e.duplicateToolMateria&&"-disabled"),children:[`主副手的用量按照${e.schema.toolMateriaDuplicates}套计算`,(0,s.jsx)(Y.r,{className:"materia-consumption_tool-duplicates-switch",checked:e.duplicateToolMateria,onChange:e.toggleDuplicateToolMateria})]})]})})]})]}),1===a&&(0,s.jsx)(J,{})]})})),J=n.Pi((function(){const e=p(),t=c.useMemo((()=>o.rg((()=>e.materiaDetDhtOptimized))),[]);return(0,s.jsxs)("div",{className:"materia-det-dht-optimization",children:[(0,s.jsxs)("div",{className:"materia-det-dht-optimization_introduce",children:[(0,s.jsx)("p",{children:"根据增伤期望优化配装的信念、直击魔晶石分配。"}),(0,s.jsx)("p",{children:"直击属性对必定直击型技能的固定增伤量与对一般技能期望增伤量存在小幅差距，直击类团辅也会小幅降低直击属性的收益，这些因素未被纳入考虑。"}),(0,s.jsx)("p",{children:"选中的装备中，已镶嵌信念或直击魔晶石的孔洞和空置的孔洞将被视为可使用孔洞，每个可使用孔洞将会被镶嵌此孔洞可镶嵌的最高等级魔晶石。"})]}),(0,s.jsxs)("table",{className:"materia-det-dht-optimization_solutions table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"信念"}),(0,s.jsx)("th",{children:"直击"}),(0,s.jsx)("th",{style:{width:"99%"}})]})}),(0,s.jsx)("tbody",{children:t.map(((t,a)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t.DET}),(0,s.jsx)("td",{children:t.DHT}),(0,s.jsx)("td",{children:t.DET===e.equippedStats.DET&&t.DHT===e.equippedStats.DHT?"已使用此方案":(0,s.jsx)(m.z,{className:"materia-det-dht-optimization_use-solution",onClick:()=>e.setMateriaDetDhtOptimization(t.gearMateriaStats),children:"使用此方案"})})]},a)))})]}),(0,s.jsx)("div",{className:"materia-det-dht-optimization_tip",children:"方案按增伤期望从高到低排序，所有方案的差距小于万分之三。"})]})})),Z=n.Pi((function(){const e=p();return(0,s.jsxs)("div",{className:"share card",children:[(0,s.jsx)("a",{className:"share_url",href:e.shareUrl,target:"_blank",children:e.shareUrl}),(0,s.jsx)("div",{className:"share_tip",children:"分享时只会包含选中的装备。"}),(0,s.jsx)(D(),{className:"share_copy",component:"span","data-clipboard-text":e.shareUrl,children:(0,s.jsx)(m.z,{children:"复制"})})]})})),Q=n.Pi((function(){return(0,s.jsxs)("div",{className:"import card",children:[(0,s.jsx)("div",{className:"import_title",children:"使用方法："}),(0,s.jsx)("div",{children:"将下方的链接添加为浏览器书签（一种较方便的方式是拖拽下方链接至书签栏），"}),(0,s.jsx)("div",{children:"然后打开想导入的配装所在的页面，点击此书签。"}),(0,s.jsx)("a",{ref:e=>e?.setAttribute("href",encodeURI("javascript:void(document.body.appendChild(document.createElement('script')).src='"+window.location.origin+window.location.pathname+"import.js?'+Math.random())")),className:"import_bookmarklet",onClick:e=>e.preventDefault(),children:"导入配装"}),(0,s.jsx)("div",{className:"import_title",children:"目前支持从以下配装器导入："}),(0,s.jsx)("div",{children:"Ariyala's Final Fantasy XIV Toolkit (ffxiv.ariyala.com)"}),(0,s.jsx)("div",{children:"FF14俺tools：装備シミュレータ (ffxiv.es.exdreams.net)"}),(0,s.jsx)("div",{children:"Etro (etro.gg)"}),(0,s.jsx)("div",{children:"FFXIV Teamcraft (ffxivteamcraft.com)"}),(0,s.jsx)("div",{className:"import_warn",children:"此功能可能因上述站点的设计变动而失效，如遇到不可用请反馈。"})]})})),ee=n.Pi((function(){const e=p();return(0,s.jsxs)("div",{className:"setting card",children:[(0,s.jsxs)("div",{className:"setting_section",children:[(0,s.jsx)("span",{className:"setting_title",children:"装备名显示方式"}),(0,s.jsx)("span",{className:"setting_sub",children:"国服未实装的装备总会显示为获取途径"})]}),(0,s.jsxs)("div",{className:"setting_controls",children:[(0,s.jsx)(F.Y,{label:"显示装备名",checked:"name"===e.setting.gearDisplayName,onChange:()=>e.setting.setGearDisplayName("name")}),(0,s.jsx)(F.Y,{label:"显示获取途径",checked:"source"===e.setting.gearDisplayName,onChange:()=>e.setting.setGearDisplayName("source")})]}),(0,s.jsx)("div",{className:"setting_section",children:(0,s.jsx)("span",{className:"setting_title",children:"装备颜色方案"})}),(0,s.jsxs)("div",{className:"setting_controls",children:[(0,s.jsx)(F.Y,{label:"区分竞品",checked:"source"===e.setting.gearColorScheme,onChange:()=>e.setting.setGearColorScheme("source")}),(0,s.jsx)(F.Y,{label:"按稀有度上色",checked:"rarity"===e.setting.gearColorScheme,onChange:()=>e.setting.setGearColorScheme("rarity")}),(0,s.jsx)(F.Y,{label:"不上色",checked:"none"===e.setting.gearColorScheme,onChange:()=>e.setting.setGearColorScheme("none")})]}),(0,s.jsx)("div",{className:"setting_section",children:(0,s.jsx)("span",{className:"setting_title",children:"魔晶石显示方式"})}),(0,s.jsxs)("div",{className:"setting_controls",children:[(0,s.jsx)(F.Y,{label:"显示增益的属性",checked:"stat"===e.setting.materiaDisplayName,onChange:()=>e.setting.setMateriaDisplayName("stat")}),(0,s.jsx)(F.Y,{label:"显示魔晶石本身的名字",checked:"materia"===e.setting.materiaDisplayName,onChange:()=>e.setting.setMateriaDisplayName("materia")})]}),(0,s.jsx)("div",{className:"setting_section",children:(0,s.jsx)("span",{className:"setting_title",children:"展示包含魔晶石增益的装备属性"})}),(0,s.jsxs)("div",{className:"setting_controls",children:[(0,s.jsx)(F.Y,{label:"是，展示实际生效的属性",checked:e.setting.displayMeldedStats,onChange:()=>e.setting.setDisplayMeldedStats(!0)}),(0,s.jsx)(F.Y,{label:"否，展示装备的原始属性",checked:!e.setting.displayMeldedStats,onChange:()=>e.setting.setDisplayMeldedStats(!1)})]}),(0,s.jsxs)("div",{className:"setting_section",children:[(0,s.jsx)("span",{className:"setting_title",children:"隐藏已废弃的装备"}),(0,s.jsx)("span",{className:"setting_sub",children:"部分粉色稀有度的装备、未强化的旧点数装备"})]}),(0,s.jsxs)("div",{className:"setting_controls",children:[(0,s.jsx)(F.Y,{label:"隐藏",checked:e.setting.hideObsoleteGears,onChange:()=>e.setting.setHideObsoleteGears(!0)}),(0,s.jsx)(F.Y,{label:"显示",checked:!e.setting.hideObsoleteGears,onChange:()=>e.setting.setHideObsoleteGears(!1)})]}),(0,s.jsxs)("div",{className:"setting_section",children:[(0,s.jsx)("span",{className:"setting_title",children:"高饱和度模式"}),(0,s.jsx)("span",{className:"setting_sub",children:"如果默认高亮颜色难以辨识请启用此模式"})]}),(0,s.jsxs)("div",{className:"setting_controls",children:[(0,s.jsx)(F.Y,{label:"不启用",checked:!e.setting.highSaturation,onChange:()=>e.setting.setHighSaturation(!1)}),(0,s.jsx)(F.Y,{label:"启用",checked:e.setting.highSaturation,onChange:()=>e.setting.setHighSaturation(!0)})]})]})})),te=n.Pi((function(){const e=p(),t=void 0===e.job,i=!e.isViewing&&void 0!==e.job,o=e.isViewing&&void 0!==e.job;return(0,s.jsxs)("div",{className:"condition card",style:void 0===e.job?{width:"900px"}:{},children:[t&&(0,s.jsx)("span",{className:"condition_job -empty",children:"选择一个职业开始配装"}),t&&(0,s.jsx)("a",{className:l("condition_tip",e.promotion.get("legacyLink")&&"-highlight"),href:"./ew/",children:"此工具已适配至《金曦之遗辉》资料片，如需使用《晓月之终途》版本请点击此处",onClick:e.promotion.get("legacyLink")?()=>e.promotion.off("legacyLink"):void 0,onMouseLeave:e.promotion.get("legacyLink")?()=>e.promotion.off("legacyLink"):void 0}),i&&(0,s.jsx)(_,{label:({ref:t,toggle:a})=>(0,s.jsx)(v,{children:(0,s.jsxs)("span",{ref:t,className:"condition_job",onClick:a,children:[(0,s.jsx)(x,{className:"condition_job-icon",name:"jobs/"+e.job}),(0,s.jsx)("span",{className:"condition_job-name",children:e.schema.name})]})}),popper:()=>(0,s.jsxs)("div",{className:"job-select-panel card",children:[(0,s.jsx)(H,{}),(0,s.jsx)("div",{className:"job-select-panel_tip",children:"中键点击职业（或右键菜单-在新标签页中打开链接）可新建一份空白配装"})]}),placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[-4,0]}}]}),o&&(0,s.jsxs)("span",{className:"condition_job",children:[(0,s.jsx)(x,{className:"condition_job-icon",name:"jobs/"+e.job}),(0,s.jsx)("span",{className:"condition_job-name",children:e.schema.name})]}),i&&(0,s.jsx)("span",{className:"condition_divider"}),i&&(0,s.jsxs)("span",{className:"condition_level",children:[(0,s.jsxs)("span",{className:"condition_level-value",children:[(0,s.jsx)(ae,{value:e.minLevel,onChange:t=>e.setMinLevel(t)}),(0,s.jsx)("span",{className:"condition_level-separator",children:"-"}),(0,s.jsx)(ae,{value:e.maxLevel,onChange:t=>e.setMaxLevel(t)})]}),"品级"]}),i&&(0,s.jsx)(_,{label:({ref:e,toggle:t})=>(0,s.jsx)(V,{ref:e,className:"condition_button condition_filter",promotion:"filter",onClick:t,children:"筛选"}),popper:q,placement:"bottom-start"}),(i||o)&&(0,s.jsx)("span",{className:"condition_divider"}),o&&e.schema.levelSyncable&&void 0!==e.syncLevelText&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"condition_text",children:[(0,s.jsx)(x,{className:"condition_level-sync-icon",name:"sync"}),e.syncLevelText]}),(0,s.jsx)("span",{className:"condition_divider"})]}),i&&e.schema.levelSyncable&&(0,s.jsx)(_,{label:({ref:t,toggle:a})=>(0,s.jsxs)(m.z,{ref:t,className:"condition_button",onClick:a,children:[void 0!==e.syncLevelText&&(0,s.jsx)(x,{className:"condition_level-sync-icon",name:"sync"}),e.syncLevelText??"品级同步"]}),popper:K,placement:"bottom-start"}),(i||o)&&(0,s.jsx)(_,{label:({ref:t,toggle:a})=>(0,s.jsxs)(m.z,{ref:t,className:"condition_button badge-button",onClick:a,children:["魔晶石",(0,s.jsx)(R.C,{className:"badge-button_badge",exited:e.isViewing||!e.promotion.get("materiaDetDhtOptimization")})]}),popper:X,placement:"bottom-start"}),(0,s.jsxs)("span",{className:"condition_right",children:[i&&(0,s.jsx)(_,{label:({ref:e,toggle:t})=>(0,s.jsx)(m.z,{ref:e,className:"condition_button",onClick:t,children:"分享"}),popper:Z,placement:"bottom-end"}),(t||i)&&(0,s.jsx)(_,{label:({ref:e,toggle:t})=>(0,s.jsx)(m.z,{ref:e,className:"condition_button",onClick:t,children:"导入"}),popper:Q,placement:"bottom-end"}),o&&(0,s.jsx)(m.z,{className:"condition_button",onClick:()=>{e.startEditing(),window.history.pushState(null,document.title,window.location.href.replace(/\?.*$/,""))},children:"编辑"}),(i||o)&&(0,s.jsx)(_,{label:({ref:e,toggle:t})=>(0,s.jsx)(m.z,{ref:e,className:"condition_button condition_setting",onClick:t,children:"设置"}),popper:ee,placement:"bottom-end"}),(0,s.jsx)("span",{className:"condition_divider"}),(0,s.jsxs)("span",{className:"condition_text",children:["数据版本 ",g.patches.data]})]}),t&&(0,s.jsx)(H,{}),t&&(0,s.jsx)("a",{href:"https://www.bilibili.com/video/BV1pt4y1W7pX",title:"【视频】如何自助配装？高难本配装原理详解",target:"_blank",children:(0,s.jsx)("img",{className:"condition_welcome-promotion",src:a(310).Z,srcSet:a(5520).Z+" 2x",alt:""})})]})})),ae=(()=>{let e=!1,t=null;return n.Pi((({value:a,onChange:i})=>{const[r,n]=c.useState(a.toString()),[l,d]=c.useState(a);a!==l&&(n(a.toString()),d(a));const p=c.useRef(null);c.useEffect((()=>{const e=e=>{if(e.preventDefault(),0!==e.deltaY){e.target.focus();const t=e.deltaY<0?5:-5;n((e=>(parseInt(e,10)+t).toString()))}},t=p.current;return t.addEventListener("wheel",e,{passive:!1}),()=>t.removeEventListener("wheel",e)}),[]);const m=()=>i(parseInt(r,10)||0);return(0,s.jsx)(h.n,{inputRef:p,className:"condition_level-input mdc-text-field--compact",value:r,onChange:e=>{n(e.target.value)},onFocus:t=>{t.target.select(),e=!0},onBlur:()=>{setTimeout((()=>{e?t=m:o.z((()=>{t?.(),t=null,m()}))}),0),e=!1},onKeyPress:e=>{"Enter"===e.key&&e.target.blur()}})}))})(),se=n.Pi((function({toggle:e}){const t=p();return(0,s.jsx)("div",{className:"clan card",children:(0,s.jsx)("table",{children:(0,s.jsx)("tbody",{children:g.races.map(((a,i)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"clan_race",children:a}),[2*i,2*i+1].map((a=>(0,s.jsx)("td",{children:(0,s.jsx)(v,{children:(0,s.jsx)("div",{className:"clan_item",onClick:()=>{t.setClan(a),e()},children:g.clans[a]})})},a)))]},i)))})})})})),ie=n.Pi((function(){const e=p(),t=e.equippedEffects,[a,i]=c.useState(!1);return(0,s.jsxs)("div",{className:"summary card",children:[(0,s.jsxs)("span",{className:"summary_left",children:[(0,s.jsx)(_,{label:({ref:t,toggle:a})=>(0,s.jsxs)(m.z,{ref:t,className:"summary_clan",onClick:a,children:[e.raceName," - ",e.clanName]}),popper:se,placement:"top-start",modifiers:[{name:"offset",options:{offset:[-8,0]}}],strategy:"fixed"}),(0,s.jsxs)("span",{className:"summary_equipped-level",children:["il",e.equippedLevel]})]}),(0,s.jsx)("span",{className:"summary_divider"}),(0,s.jsxs)("span",{className:"summary_middle",children:[t&&(0,s.jsx)(m.z,{className:"summary_tiers-toggle",children:(a?"隐藏":"显示")+"阈值(差值)",onClick:()=>{i(!a),document.querySelector(".app").style.paddingBottom=(a?48:64)+"px"}}),t&&(0,s.jsxs)("span",{className:"summary_stat summary_damage",children:[t.damage.toFixed(5),(0,s.jsx)("span",{className:"summary_damage-tip","aria-label":"BLU"!==e.job?"包括食物和组队加成，不包括其他任何手动施放的增益（如爆发药、连环计、身形、天语等）":"包括食物和组队加成，包括“以太复制：进攻”，不包括其他手动施放的增益",role:"tooltip",children:(0,s.jsx)(x,{name:"help"})}),(0,s.jsx)("div",{className:"summary_stat-name",children:"每威力伤害期望"})]})]}),(0,s.jsx)("span",{className:"summary_divider"}),e.schema.stats.map((i=>(0,s.jsxs)("span",{className:l("summary_stat",e.schema.skeletonGears&&"-skeleton"),children:[a&&void 0!==e.equippedTiers&&void 0!==e.equippedTiers[i]&&(0,s.jsxs)("div",{className:"summary_stat-tier",children:[(0,s.jsx)("span",{className:"summary_stat-prev",children:e.equippedTiers[i].prev}),(0,s.jsxs)("span",{className:"summary_stat-next",children:["+",e.equippedTiers[i].next]})]}),e.equippedStats[i],t&&(0,s.jsxs)(s.Fragment,{children:[("SKS"===i||"SPS"===i)&&(0,s.jsx)("div",{className:l("summary_stat-effect",e.jobLevel>=80&&e.schema.statModifiers?.gcdReason&&"-tip"),"aria-label":e.jobLevel>=80?e.schema.statModifiers?.gcdReason:void 0,role:"tooltip",children:t.gcd.toFixed(2)+"s"}),"VIT"===i&&(0,s.jsxs)("div",{className:"summary_stat-effect summary_stat-effect-hp",children:[t.hp,(0,s.jsx)("span",{className:"summary_stat-small",children:"HP"})]}),"TEN"===i&&(0,s.jsxs)("div",{className:"summary_stat-effect",children:["-",(100*(t.tenDamage-1)).toFixed(1),"%"]})&&!1,"PIE"===i&&(0,s.jsxs)("div",{className:"summary_stat-effect",children:[t.mp,(0,s.jsx)("span",{className:"summary_stat-small",children:"MP"}),"/3s"]})]}),(0,s.jsx)("div",{className:"summary_stat-name",children:g.statNames[i]})]},i)))]})})),oe=n.Pi((function(){return(0,s.jsxs)("div",{className:"about",children:[(0,s.jsx)("span",{className:"about_name",children:"最终幻想14配装器"}),(0,s.jsx)("span",{className:"about_version",children:"2407f"}),(0,s.jsx)("span",{className:"about_separator",children:"·"}),(0,s.jsx)("a",{className:"about_link",href:"https://github.com/Asvel/ffxiv-gearing/blob/master/CHANGELOG.md",target:"_blank",children:"更新记录"}),(0,s.jsx)("span",{className:"about_separator",children:"·"}),(0,s.jsx)("a",{className:"about_link",href:"https://github.com/Asvel/ffxiv-gearing#license",target:"_blank",children:"许可协议"}),(0,s.jsx)("span",{className:"about_separator",children:"·"}),(0,s.jsx)("a",{className:"about_link",href:"https://github.com/Asvel/ffxiv-gearing",target:"_blank",children:"源代码"})]})})),re=n.Pi((function({store:e}){return e.isLoading?null:(0,s.jsx)(d.Provider,{value:e,children:(0,s.jsxs)("div",{className:l("app",`app-${e.mode}`,e.setting.highSaturation&&"app-high-saturation"),children:[(0,s.jsx)(te,{}),void 0!==e.job&&(e.isViewing?(0,s.jsx)(G,{}):e.schema.slots.map((e=>(0,s.jsx)(P,{slot:e},e.slot)))),void 0!==e.job&&(0,s.jsx)(ie,{}),(0,s.jsx)(oe,{}),(0,s.jsx)("div",{id:"popper"})]})})}));var ne=a(3379),le=a.n(ne),ce=a(7795),de=a.n(ce),pe=a(569),me=a.n(pe),ge=a(3565),he=a.n(ge),ue=a(9216),xe=a.n(ue),fe=a(4589),be=a.n(fe),ve=a(683),je={};je.styleTagTransform=be(),je.setAttributes=he(),je.insert=me().bind(null,"head"),je.domAPI=de(),je.insertStyleElement=xe(),le()(ve.Z,je),ve.Z&&ve.Z.locals&&ve.Z.locals,o.EH((()=>{void 0===r.h.job||r.h.isLoading||(document.title=`${r.h.schema.name}(il${r.h.equippedLevel}) - 最终幻想14配装器`)}));const Se=document.createElement("div");document.body.appendChild(Se),i.s(Se).render((0,s.jsx)(re,{store:r.h})),navigator.serviceWorker?.register("./serviceworker.js")},5311:()=>{"use strict";if(null===localStorage.getItem("ffxiv-gearing.dt.promotion")&&null!==localStorage.getItem("ffxiv-gearing.ew.promotion")){const e=Array.from({length:localStorage.length},((e,t)=>localStorage.key(t)));for(const t of e)if(t.startsWith("ffxiv-gearing.ew.")){const e=t.slice("ffxiv-gearing.ew.".length);if(e.startsWith("archive."))continue;localStorage.setItem(`ffxiv-gearing.dt.${e}`,localStorage.getItem(t))}}window.history.state?.archiveKey?.startsWith("ffxiv-gearing.ew.")&&(window.history.replaceState(window.history.state,document.title,window.location.href.replace(/\/([^\/]*)$/,"/ew/$1")),window.location.reload())},6713:(e,t,a)=>{"use strict";a.d(t,{Q:()=>u,P:()=>h});const s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=[];for(let e=0;e<s.length;e++)i[s[e].charCodeAt(0)]=BigInt(e);const o=e=>{const t={};for(let a=0;a<e.length;a++)t[e[a]]=a;return t},r=[{job:"PLD",statDecode:["CRT","DET","DHT","SKS","TEN"]},{job:"WAR",statDecode:["CRT","DET","DHT","SKS","TEN"]},{job:"DRK",statDecode:["CRT","DET","DHT","SKS","TEN"]},{job:"GNB",statDecode:["CRT","DET","DHT","SKS","TEN"]},{job:"WHM",statDecode:["CRT","DET","DHT","SPS","PIE"]},{job:"SCH",statDecode:["CRT","DET","DHT","SPS","PIE"]},{job:"AST",statDecode:["CRT","DET","DHT","SPS","PIE"]},{job:"SGE",statDecode:["CRT","DET","DHT","SPS","PIE"]},{job:"MNK",statDecode:["CRT","DET","DHT","SKS"]},{job:"DRG",statDecode:["CRT","DET","DHT","SKS"]},{job:"NIN",statDecode:["CRT","DET","DHT","SKS"]},{job:"SAM",statDecode:["CRT","DET","DHT","SKS"]},{job:"RPR",statDecode:["CRT","DET","DHT","SKS"]},{job:"VPR",statDecode:["CRT","DET","DHT","SKS"]},{job:"BRD",statDecode:["CRT","DET","DHT","SKS"]},{job:"MCH",statDecode:["CRT","DET","DHT","SKS"]},{job:"DNC",statDecode:["CRT","DET","DHT","SKS"]},{job:"BLM",statDecode:["CRT","DET","DHT","SPS"]},{job:"SMN",statDecode:["CRT","DET","DHT","SPS"]},{job:"RDM",statDecode:["CRT","DET","DHT","SPS"]},{job:"PCT",statDecode:["CRT","DET","DHT","SPS"]},{job:"BLU",statDecode:["CRT","DET","DHT","SPS"]},{job:"CRP",statDecode:["CMS","CRL","CP"]},{job:"BSM",statDecode:["CMS","CRL","CP"]},{job:"ARM",statDecode:["CMS","CRL","CP"]},{job:"GSM",statDecode:["CMS","CRL","CP"]},{job:"LTW",statDecode:["CMS","CRL","CP"]},{job:"WVR",statDecode:["CMS","CRL","CP"]},{job:"ALC",statDecode:["CMS","CRL","CP"]},{job:"CUL",statDecode:["CMS","CRL","CP"]},{job:"MIN",statDecode:["GTH","PCP","GP"]},{job:"BTN",statDecode:["GTH","PCP","GP"]},{job:"FSH",statDecode:["GTH","PCP","GP"]}],n={};for(let e=0;e<r.length;e++){const t=r[e],a=o(t.statDecode);n[t.job]={index:e,statEncode:a}}const l=[50,60,70,80,90,100],c=o(l);var d;!function(e){e[e.Special=6]="Special",e[e.Customizable=7]="Customizable"}(d||(d={}));const p=[10337,10338,10339,10340,10341,10342,10343,10344,17726],m=o(p);class g{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:77}),Object.defineProperty(this,"job",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"jobLevel",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"syncLevel",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"gearType",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"gearId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"materiaSlot",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"materiaStat",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"materiaGrade",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"specialGear",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"customStat",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_version",{enumerable:!0,configurable:!0,writable:!0,value:4})}useVersion(e){this._version=e,e>=5&&(this.job=33,this.jobLevel=6,this.syncLevel=800,this.gearType=8,this.gearId=6e4,this.materiaSlot=6,this.materiaGrade=12,this.specialGear=9,this.customStat=1001)}useJob(e){this.materiaStat=r[n[e].index].statDecode.length}}function h({job:e,jobLevel:t,syncLevel:a,gears:i}){var o;const p=new g;p.useVersion(5),p.useJob(e);const{statEncode:h}=n[e],{statDecode:u}=r[n[e].index],x=[],f=[];let b=!1;f[p.materiaGrade]=[];for(const{id:e,materias:t,customStats:a}of i)if(e in m)x[d.Special]=1;else if(void 0!==a)x[d.Customizable]=1;else{x[t.length]=1;for(const e of t)null!==e&&void 0!==h[e[0]]?(f[o=e[1]]??(f[o]=[]),f[e[1]][h[e[0]]]=1):b=!0}let v=0;for(let e=0;e<p.gearType;e++)void 0!==x[e]&&(x[e]=v,v+=1);let j=0;for(let e=p.materiaGrade;e>=1;e--)if(void 0!==f[e])for(let t=0;t<p.materiaStat;t++)void 0!==f[e][t]&&(f[e][t]=j,j+=1);b&&(j+=1);let S=0;for(;!b&&void 0===f[S];)S++;const _=[],y=[];for(const{id:e,materias:t,customStats:a}of i)if(e>0)if(e in m)y.push(e);else{const s=[];for(const e of t)s.push(null===e||void 0===h[e[0]]?j-1:f[e[1]][h[e[0]]]);_.push({id:e,materias:s,customStats:a})}else console.warn(`share.stringify: gear id ${e} invalid.`);if(0===_.length&&0===y.length)return"";let N=_.length-1;for(;0===_[N]?.materias.length;)N--;const T=_[N-1]?.id>_[N]?.id;_.sort(((e,t)=>e.id-t.id));let w=0;for(let e=1;e<_.length;e++){const t=_[e].id-_[e-1].id;t>w&&(w=t)}w+=1;let D=1;_.length>1&&((w>=_[0].id||_[1].id-_[0].id<_[_.length-1].id-_[_.length-2].id)&&(D=-1,_.reverse()),_[_.length-1].id-_[_.length-2].id==D*w-1&&(w+=1));let L=0n;const M=(e,t)=>{L=L*BigInt(t)+BigInt(e<t?e:t-1)},C=e=>M(e?1:0,2);for(let e=_.length-1;e>=0;e--){const{id:t,materias:a,customStats:s}=_[e];if(e>0){const a=(t-_[e-1].id)*D;M(a+(e===_.length-1?1:0),w)}else C(T),C(1===D),M(w,t),M(t,p.gearId);if(void 0!==s)for(let e=u.length-1;e>=0;e--)M(s[u[e]]??0,p.customStat);else for(let e=a.length-1;e>=0;e--)M(a[e],j);M(x[void 0===s?a.length:d.Customizable],v)}for(const e of y)M(m[e],p.specialGear),M(x[d.Special],v);for(let e=S;e<=p.materiaGrade;e++)if(0!==e)for(let t=p.materiaStat-1;t>=0;t--)C(void 0!==f[e]?.[t]);M(S,p.materiaGrade+1);for(let e=p.gearType-1;e>=0;e--)C(void 0!==x[e]);return void 0!==a||t!==l[p.jobLevel-1]?(M(a??0,p.syncLevel),M(c[t],p.jobLevel),C(!0)):C(!1),M(n[e].index,p.job),M(5,p.version),function(e){let t="";do{t=s[e%62n]+t,e/=62n}while(e>0);return t}(L)}function u(e){let t=function(e){let t=0n;for(const a of e)t=62n*t+i[a.charCodeAt(0)];return t}(e);const a=e=>{const a=BigInt(e),s=t%a;return t/=a,Number(s)},s=()=>1===a(2),o=new g,n=a(o.version);if(n<4)return"shb";if(n<5)return"ew";o.useVersion(n);const{job:c,statDecode:m}=r[a(o.job)];o.useJob(c);const h=s(),u=l[h?a(o.jobLevel):o.jobLevel-1],x=h&&a(o.syncLevel)||void 0,f=[];for(let e=0;e<o.gearType;e++)s()&&f.push(e);const b=a(o.materiaGrade+1),v=[];for(let e=o.materiaGrade;e>=b;e--)if(0!==e)for(let t=0;t<o.materiaStat;t++)s()&&v.push([m[t],e]);0===b&&v.push(null);const j=[];let S=0,_=0,y=!1,N=-1;for(;0n!==t;){const e=f[a(f.length)],i=[];let r;if(e!==d.Special){if(e===d.Customizable){r={};for(const e of m){const t=a(o.customStat);t>0&&(r[e]=t)}}else for(let t=0;t<e;t++)i[t]=v[a(v.length)];-1===N?(N=a(o.gearId),S=a(N),_=s()?1:-1,y=s()):N+=(a(S)-(0n===t?1:0))*_,j.push({id:N,materias:i,customStats:r})}else{const e=p[a(o.specialGear)];j.push({id:e,materias:i})}}return y!==(-1===_)&&j.reverse(),{job:c,jobLevel:u,syncLevel:x,gears:j}}},2277:(e,t,a)=>{"use strict";a.r(t);var s=a(8949),i=a(7090),o=a(6277),r=a(4222),n=a(6713),l=a(2860);const c=s.LO.box(void 0,{deep:!1});s.EH((()=>{const e=c.get();if(void 0===e||""===window.location.search)return;if(l.l9.get())return;const t={mode:"view",job:e.job,jobLevel:e.jobLevel,syncLevel:e.syncLevel,gears:{},equippedGears:{}};for(const a of e.gears)if(l.pS.has(a.id)){const{slot:e}=l.pS.get(a.id),s=void 0===t.equippedGears[e]?a.id:-a.id,i=a.materias.map((e=>({stat:null===e?void 0:e[0],grade:null===e?void 0:e[1]}))),o=a.customStats;t.gears[s]={id:s,materias:i,customStats:o},t.equippedGears[s>0?e:-e]=s}i.Xx(l.h,t)}));const d=()=>{let e=window.location.search.slice(1);if(e in o.jobSchemas)l.h.setJob(e),window.history.replaceState(window.history.state,document.title,window.location.href.replace(/\?.*$/,""));else{if(e.startsWith("import-")){const t=JSON.parse(decodeURIComponent(e.slice("import-".length)));e=n.P(t),window.history.replaceState(window.history.state,document.title,window.location.href.replace(/\?.*$/,`?${e}`))}if(e.length>3){const t=n.Q(e);if("string"==typeof t)return void(window.location.href=window.location.href.replace("/?",`/${t}/?`));for(const e of t.gears)(0,l.oG)(e.id);s.z((()=>c.set(t))),l.h.setMode("view")}}};d(),window.addEventListener("popstate",s.aD((()=>{const e=r.z();void 0!==e?i.Xx(l.h,e):(i.Xx(l.h,i.vM(l.yh.create())),d())})))},2860:(e,t,a)=>{"use strict";a.d(t,{jr:()=>u,XV:()=>m,JT:()=>x,rL:()=>f,j_:()=>d,LW:()=>c,pE:()=>n,yh:()=>j,mD:()=>k,GW:()=>C,pS:()=>S,l9:()=>y,V6:()=>M,oG:()=>w,MI:()=>L,h:()=>I});var s=a(7090),i=a(6277),o=a(4222);const r="ffxiv-gearing.dt.setting",n=s.V5.model({gearDisplayName:s.V5.optional(s.V5.string,"name"),gearColorScheme:s.V5.optional(s.V5.string,"source"),materiaDisplayName:s.V5.optional(s.V5.string,"stat"),displayMeldedStats:s.V5.optional(s.V5.boolean,!0),hideObsoleteGears:s.V5.optional(s.V5.boolean,!0),highSaturation:s.V5.optional(s.V5.boolean,!1)}).actions((e=>({afterCreate(){s.Xx(e,JSON.parse(localStorage.getItem(r)??"{}")),s.cf(e,(e=>localStorage.setItem(r,JSON.stringify(e))))},setGearDisplayName(t){e.gearDisplayName=t},setGearColorScheme(t){e.gearColorScheme=t},setMateriaDisplayName(t){e.materiaDisplayName=t},setDisplayMeldedStats(t){e.displayMeldedStats=t},setHideObsoleteGears(t){e.hideObsoleteGears=t},setHighSaturation(t){e.highSaturation=t}}))),l="ffxiv-gearing.dt.promotion",c=s.V5.model({filter:s.V5.optional(s.V5.boolean,!0),legacyLink:s.V5.optional(s.V5.boolean,!0),materiaDetDhtOptimization:s.V5.optional(s.V5.boolean,!0)}).views((e=>({get:t=>e[t]??!1}))).actions((e=>({afterCreate(){const t=localStorage.getItem(l),a=JSON.parse(t??"{}");if(null===t){for(const t of Object.keys(s.vM(e)))a[t]=!1;localStorage.setItem(l,JSON.stringify(a))}s.Xx(e,a),s.cf(e,(e=>localStorage.setItem(l,JSON.stringify(e))))},off(t){!0===e[t]&&(e[t]=!1)}}))),d=s.V5.model({stat:s.V5.maybe(s.V5.string),grade:s.V5.maybe(s.V5.number)}).views((e=>({get index(){return Number(e.$treenode.subpath)},get gear(){return s.nc(e,m)}}))).views((e=>({get name(){return void 0===e.stat?"":i.getMateriaName(e.stat,e.grade,"stat"===s.dU(e).setting.materiaDisplayName,3)},get isAdvanced(){return e.index>=e.gear.materiaSlot},get isRestricted(){return e.index>e.gear.materiaSlot},get meldableGrades(){return(this.isRestricted?i.materiaGradesAdvanced:i.materiaGrades).filter((t=>e.gear.level>=i.materiaGradeRequiredLevels[t-1]))},get successRate(){if(void 0===e.grade)return;const t=e.index-e.gear.materiaSlot;return t<0?100:i.materiaSuccessRates[t][e.grade-1]}}))).actions((e=>({meld(t,a){e.stat=t,e.grade=a}})));var p=a(8949);const m=s.V5.model("Gear",{id:s.V5.identifierNumber,materias:s.V5.optional(s.V5.array(d),[]),customStats:s.V5.maybe(s.V5.map(s.V5.number))}).views((e=>({get data(){if(!S.has(Math.abs(e.id)))throw ReferenceError(`Gear ${e.id} not exists.`);return S.get(Math.abs(e.id))}}))).views((e=>({get isFood(){return!1},get name(){return e.data.name},get level(){return e.data.level},get slot(){return e.id>0?e.data.slot:-e.data.slot},get jobs(){return i.jobCategories[e.data.jobCategory]},get equipLevel(){return e.data.equipLevel},get materiaSlot(){return e.data.materiaSlot},get materiaAdvanced(){return e.data.materiaAdvanced},get hq(){return e.data.hq},get customizable(){return e.data.customizable},get source(){return e.data.source},get patch(){return e.data.patch},get color(){const{gearColorScheme:t}=s.dU(e).setting;if("none"===t)return"white";const{rarity:a,source:i=""}=e.data;return"source"===t&&h[i.slice(0,2)]||g[a]},get syncedLevel(){let{jobLevel:t,syncLevel:a}=s.nc(e,j);return void 0===a&&t<this.equipLevel&&(a=i.syncLevelOfJobLevels[t]),a<this.level?a:void 0},get caps(){return i.getCaps(e.data)},get bareStats(){return e.data.stats},get materiaStats(){const t={};for(const a of e.materias)if(void 0!==a.stat){const e=i.materias[a.stat][a.grade-1];t[a.stat]=(t[a.stat]??0)+e}return t},get stats(){let t={},a=this.bareStats;if(this.customizable&&(a={...a,...e.customStats.toJSON()}),void 0!==this.syncedLevel){const s=i.getCaps(e.data,this.syncedLevel);for(const e of Object.keys(a))t[e]=Math.min(a[e]??0,s[e])}else if(0===this.materiaSlot)t=a;else for(const e of Object.keys(a).concat(Object.keys(this.materiaStats)))t[e]=Math.min((a[e]??0)+(this.materiaStats[e]??0),Math.max(a[e]??0,this.caps[e]));return t},get totalMeldableStats(){const e={};for(const t of Object.keys(this.caps))e[t]=this.caps[t]-(this.bareStats[t]??0);return e},get currentMeldableStats(){const e={};for(const t of Object.keys(this.caps))e[t]=this.totalMeldableStats[t]-(this.materiaStats[t]??0);return e},get statHighlights(){const e={};for(const t of Object.keys(this.bareStats))e[t]=i.statHighlight[t]&&(this.bareStats[t]??0)>=(this.caps[t]??1/0);return e},get isInstalled(){return!(this.patch>i.patches.current)},get isEquipped(){return s.nc(e,j).equippedGears.get(this.slot.toString())===e},get isMelded(){for(const t of e.materias)if(void 0!==t.stat)return!0;return void 0!==e.customStats&&e.customStats.size>0}}))).actions((e=>({setCustomStat(t,a){a>0?e.customStats.set(t,a<=i.customStatMax?a:i.customStatMax):e.customStats.delete(t)},initialize(){const t=e.materiaAdvanced?5:e.materiaSlot;e.materias.length>t&&e.materias.splice(0,t,5),e.materias.length<t&&e.materias.push(...new Array(t-e.materias.length).fill({})),e.customizable&&void 0===e.customStats&&(e.customStats={})},afterCreate(){p.gx((()=>S.has(Math.abs(e.id))),this.initialize)}}))).postProcessSnapshot((e=>(void 0===e.customStats&&delete e.customStats,e))),g={1:"white",2:"green",3:"blue",4:"purple",7:"red"},h={点数:"red",天书:"purple",绝境:"purple"},u=s.V5.model("Food",{id:s.V5.identifierNumber}).views((e=>({get data(){if(!S.has(e.id))throw ReferenceError(`Food ${e.id} not exists.`);return S.get(e.id)}}))).views((e=>({get isFood(){return!0},get name(){return e.data.name},get level(){return e.data.level},get slot(){return e.data.slot},get jobs(){return i.jobCategories[e.data.jobCategory]},get hq(){return!0},get patch(){return e.data.patch},get color(){return"white"},get stats(){return e.data.stats},get statRates(){return e.data.statRates},get requiredStats(){const e={};for(const t of Object.keys(this.stats)){const a=this.statRates[t];void 0!==a&&(e[t]=Math.ceil(100*this.stats[t]/a))}return e},get effectiveStats(){const t=s.nc(e,j),a={};for(const e of Object.keys(this.stats)){const s=t.equippedStatsWithoutFood[e]??1,i=this.statRates[e]??1/0;a[e]=Math.min(this.stats[e],C(s*i/100))}return a},get statHighlights(){return{[e.data.statMain]:!0}},get utilization(){let e=0,t=0;for(const a of Object.keys(this.stats))e+=this.stats[a],t+=this.effectiveStats[a];return C(t/e*100)},get utilizationOpacity(){return Math.max(.2,(this.utilization/100)**2)},get isInstalled(){return!(this.patch>i.patches.current)},get isEquipped(){return s.nc(e,j).equippedGears.get("-1")===e}}))),x=s.V5.union({dispatcher:e=>{const t=S.get(Math.abs(e.id));return void 0!==t?(void 0!==e.materias&&-1===t.slot&&delete e.materias,-1!==t.slot?m:u):void 0!==e.materias?m:u}},m,u),f=s.V5.maybe(s.V5.reference(x,{get(e,t){const a=t?s.Q0(x,t,e):void 0;return a&&S.has(Math.abs(a.id))?a:void 0},set:e=>e?.$treenode.unnormalizedIdentifier}));var b=a(6713);const v="ffxiv-gearing.dt.clan",j=s.V5.model("Store",{mode:s.V5.optional(s.V5.string,"edit"),job:s.V5.maybe(s.V5.string),jobLevel:s.V5.optional(s.V5.number,100),minLevel:s.V5.optional(s.V5.number,0),maxLevel:s.V5.optional(s.V5.number,0),syncLevel:s.V5.maybe(s.V5.number),filterPatch:s.V5.optional(s.V5.string,"all"),filterFocus:s.V5.optional(s.V5.string,"no"),showAllFoods:s.V5.optional(s.V5.boolean,!1),duplicateToolMateria:s.V5.optional(s.V5.boolean,!0),gears:s.V5.map(x),equippedGears:s.V5.map(f)}).volatile((()=>({promotion:c.create(),clan:Number(localStorage.getItem(v))||0,autoSelectScheduled:!1,materiaOverallActiveTab:0}))).views((e=>({get setting(){return s.dU(e).setting},get filteredIds(){if(void 0===e.job)return[];if("view"===e.mode)return Array.from(e.gears.keys(),(e=>Number(e)));const t=p.rg((()=>e.equippedGears.toJSON())),a=[];for(const s of M.get()){const{job:o,minLevel:r,maxLevel:n,filterPatch:l}=e;!i.jobCategories[s.jobCategory][o]||"all"!==l&&("next"!==l||s.patch>i.patches.next)&&("current"!==l||s.patch>i.patches.current)||!(-1===s.slot?e.showAllFoods||"best"in s:17===s.slot||2===s.slot&&"FSH"===o||s.level>=r&&s.level<=n&&(!s.obsolete||!this.setting.hideObsoleteGears))?(t[s.slot]===s.id&&a.push(s.id),t[-s.slot]===-s.id&&a.push(-s.id)):(a.push(s.id),12===s.slot&&a.push(-s.id))}return a}}))).views((e=>({get isLoading(){return y.get()},get isViewing(){return"view"===e.mode},get schema(){if(void 0===e.job)throw new ReferenceError;return i.jobSchemas[e.job]},get groupedGears(){const t={};for(const a of e.filteredIds){const s=e.gears.get(a.toString());("no"===e.filterFocus||s.isFood||s.isMelded)&&(s.slot in t||(t[s.slot]=[]),t[s.slot].push(s))}return t},get baseStats(){if(void 0===e.job)return{};const t=i.jobLevelModifiers[e.jobLevel],a={PDMG:0,MDMG:0};for(const s of this.schema.stats){const o=i.baseStats[s]??0;a[s]="number"==typeof o?o:C(t[o]*(this.schema.statModifiers[s]??100)/100)+(i.clanStats[s]?.[e.clan]??0)}return a},get equippedStatsWithoutFood(){if(void 0===e.job)return{};const t={...this.baseStats};for(const a of e.equippedGears.values())if(void 0!==a&&!a.isFood)for(const e of Object.keys(a.stats))t[e]=t[e]+a.stats[e];return t},get equippedStats(){if(void 0===e.job)return{};const t=e.equippedGears.get("-1");if(void 0===t)return this.equippedStatsWithoutFood;const a={};for(const e of Object.keys(this.equippedStatsWithoutFood))a[e]=this.equippedStatsWithoutFood[e]+(t.effectiveStats[e]??0);return a},get equippedLevel(){let t=0,a=0;for(const s of this.schema.slots)t+=(e.equippedGears.get(s.slot)?.level??0)*(s.levelWeight??1),a+=s.levelWeight??1;return C(t/a)},get isMateriaNamesSameWidth(){let t=-1;for(const a of e.equippedGears.values())if(void 0!==a&&!a.isFood)for(const{name:e}of a.materias){if(0===e.length)continue;let a=0;for(let t=0;t<e.length;t++)a+=e.charCodeAt(t)<256?1:2;if(-1!==t&&a!==t)return!1;t=a}return!0},get materiaConsumption(){const t={};for(const a of e.equippedGears.values()){if(void 0===a||a.isFood)continue;const s=e.duplicateToolMateria&&(1===a.slot||2===a.slot)&&this.schema.toolMateriaDuplicates||1;for(const e of a.materias){if(void 0===e.stat)continue;void 0===t[e.stat]&&(t[e.stat]={}),void 0===t[e.stat][e.grade]&&(t[e.stat][e.grade]={safe:0,expectation:0,confidence90:0,confidence99:0,rates:[]});const a=t[e.stat][e.grade];for(let t=0;t<s;t++)100===e.successRate?a.safe+=1:(a.expectation+=100/e.successRate,a.rates.push(e.successRate/100))}}for(const e of Object.values(t))for(const t of Object.values(e)){t.expectation=t.safe+Math.round(t.expectation);const e=t.rates;if(0===e.length){t.confidence90=t.confidence99=t.safe;continue}const a=[];let s=1,i=0;for(;;){a[s]=[],a[s][e.length-1]=1-(1-e[e.length-1])**s;for(let t=e.length-2;t>=0&&!(e.length-t>s);t--){a[s][t]=0;for(let i=1;i<=s-(e.length-t)+1;i++)a[s][t]+=(1-e[t])**(i-1)*e[t]*a[s-i][t+1]}if(a[s][0]>.9&&0===i&&(i=s),a[s][0]>.99)break;s++}t.confidence90=t.safe+i,t.confidence99=t.safe+s}return t},get syncLevelText(){return void 0!==e.syncLevel?e.syncLevel.toString():e.jobLevel!==this.schema.jobLevel?e.jobLevel+"级":void 0},get raceName(){return i.races[C(e.clan/2)]},get clanName(){return i.clans[e.clan]}}))).views((e=>({get equippedEffects(){const{statModifiers:t,mainStat:a,traitDamageMultiplier:s,partyBonus:o}=e.schema;if(void 0===t||void 0===a||void 0===s)return;const r=i.jobLevelModifiers[e.jobLevel],{main:n,sub:l,div:c,det:d,detTrunc:p}=r,{CRT:m,DET:g,DHT:h,TEN:u,SKS:x,SPS:f,VIT:b,PIE:v,PDMG:j,MDMG:S}=e.equippedStats,_="VIT"===a?"STR":a,y="BLU"===e.job?200:0,N=C(200*(m-l)/c+50+y)/1e3,T=C(200*(m-l)/c+1400)/1e3,w=C((140*(g-n)/d+1e3)/p)*p/1e3,D=C(550*(h-l)/c+y)/1e3,L=C(112*((u??l)-l)/c+1e3)/1e3;return{crtChance:N,crtDamage:T,detDamage:w,dhtChance:D,tenDamage:L,damage:.01*(C(n*t[_]/1e3)+(("MND"===a||"INT"===a?S:j)??0)+("BLU"===e.job?i.bluMdmgAdditions[e.equippedStats.INT-e.baseStats.INT]??0:0))*(C(("VIT"===a?r.apTank:r.ap)*(C((e.equippedStats[_]??0)*(o??1.05))-n)/n+100)/100)*w*L*s*((T-1)*N+1)*(.25*D+1),gcd:C(C(2500*(1e3-C(130*((x??f)-l)/c))/1e3)*(e.jobLevel>=80&&t.gcd||100)/1e3)/100,ssDamage:C(130*((x??f)-l)/c+1e3)/1e3,hp:r.hp*t.hp+C(("VIT"===a?r.vitTank:r.vit)*(b-n)),mp:C(150*((v??n)-n)/c+200)}},get equippedTiers(){const{statModifiers:t}=e.schema;if(void 0===t)return;const{main:a,sub:s,div:o,det:r,detTrunc:n}=i.jobLevelModifiers[e.jobLevel],{CRT:l,DET:c,DHT:d,TEN:p,SKS:m,SPS:g,PIE:h}=e.equippedStats;function u(e,t){if(Number.isNaN(e))return;const a=C(e/t);return{prev:k(a*t)-1-e,next:k((a+1)*t)-e}}function x(e,t,a){if(Number.isNaN(e))return;const s=C(C(2.5*(1e3-C(e/t)))*a);return{prev:k((C(1e3-k((s+1)/a)/2.5)+1)*t)-1-e,next:k((C(1e3-k(s/a)/2.5)+1)*t)-e}}return{CRT:u(l-s,o/200),DET:u(c-a,r/140*n),DHT:u(d-s,o/550),TEN:u(p-s,o/112),SKS:x(m-s,o/130,(t.gcd??100)/1e3),SPS:x(g-s,o/130,(t.gcd??100)/1e3),PIE:u(h-a,o/150)}},get materiaDetDhtOptimized(){const t=e=>(e.DET??0)<<16|(e.DHT??0),a=e=>[e>>16,65535&e],o=(e,t,a)=>{const s=e.get(t)??[];s.push(a),e.set(t,s)},r=new Map;let n,l=t(e.baseStats);const c=[],d=[],m=[],g=new Map,h=[],u=[];p.z((()=>{const i=j.create(s.vM(e));i.unprotect();for(const e of i.equippedGears.values()){if(void 0===e)continue;if(e.isFood){n=e;continue}const s=e.materias.filter((e=>"DET"===e.stat||"DHT"===e.stat||void 0===e.stat)),i={DET:[0,0],DHT:[0,0],all:[0,0]};for(const e of s){e.grade=e.meldableGrades[0];const t=e.isRestricted?1:0;"DET"===e.stat&&i.DET[t]++,"DHT"===e.stat&&i.DHT[t]++,i.all[t]++}r.set(e.id,i);for(const e of s)e.stat="DET";const p=t(e.stats),g=e.currentMeldableStats.DET<0;for(const e of s)e.stat="DHT";const x=t(e.stats),f=e.currentMeldableStats.DHT<0;if(p===x)l+=p;else if(g||f||0!==c.length&&e.materias[0].meldableGrades[0]!==c[0].materias[0].meldableGrades[0]){h.push(e);const i=s.filter((e=>!e.isRestricted)),r=s.filter((e=>e.isRestricted)),n=new Map;for(let a=0;a<=i.length;a++){a>0&&(i[a-1].stat="DET");for(const e of r)e.stat="DHT";for(let s=0;s<=r.length;s++){s>0&&(r[s-1].stat="DET");const i=t(e.stats);o(n,i,[a,s])}}for(const e of n.keys()){const[t,s]=a(e);for(const i of n.keys()){if(e===i)continue;const[o,r]=a(i);if(t<=o&&s<=r){n.delete(e);break}}}u.push(n)}else{c.push(e);for(const e of s)(e.isRestricted?m:d).push(e)}}for(let e=0;e<=d.length;e++){e>0&&(d[e-1].stat="DET");for(const e of m)e.stat="DHT";for(let a=0;a<=m.length;a++){a>0&&(m[a-1].stat="DET");const s=c.reduce(((e,a)=>e+t(a.stats)),0);o(g,s,[e,a])}}}));const{main:x,sub:f,div:b,det:v,detTrunc:S}=i.jobLevelModifiers[e.jobLevel],_="BLU"===e.job?200:0,y=n?.stats?.DET??0,N=n?.statRates?.DET??1/0,T=n?.stats?.DHT??0,w=n?.statRates?.DHT??1/0;let D=0,L=0;const M=new Map,k=new Map,I=[g].concat(u),E=[],P=(e,s)=>{if(s<I.length)for(const t of I[s].keys())E[s]=t,P(e+t,s+1);else{let[s,i]=a(e);s+=Math.min(y,C(s*N/100)),i+=Math.min(T,C(i*w/100));const r=C((140*(s-x)/v+1e3)/S)*S/1e3*(C(550*(i-f)/b+_)/1e3*.25+1);if(r>D&&(D=r,L=.9997*r),r>L){const e=t({DET:s,DHT:i});o(M,r,e),o(k,e,E.slice())}}};P(l,0);for(const e of M.keys())e<=L&&M.delete(e);const G=new Float64Array(M.keys()).sort().reverse(),R=[];for(const e of G)R.push(...new Set(M.get(e)).values());const V={DET:[0,0],DHT:[0,0],all:[0,0]},H=[],O=new Map;for(const e of c){for(const[t,a]of Object.entries(V))a[0]+=r.get(e.id)[t][0],a[1]+=r.get(e.id)[t][1];O.set(e.id,[])}for(let t=0;t<5;t++)for(const a of c){const s=e.gears.get(a.id);t<s.materias.length&&(O.get(a.id)[t]=H.length,H.push(s.materias[t]))}const z=Array.from({length:I.length},(()=>new Map)),F=Array.from({length:I.length},(()=>new Map)),q=R.map((t=>{const s=k.get(t);let i,o=1/0;for(const t of s){let a=0;for(let s=0;s<t.length;s++){const i=t[s];let o=z[s].get(i);if(void 0===o){o=1/0;let t=[];const a=I[s].get(i);for(const i of a){let a=0;const n=0===s?H:e.gears.get(h[s-1].id).materias,l=0===s?V:r.get(h[s-1].id),c=n.map((e=>e.stat));for(const e of[0,1]){const t={DET:i[e],DHT:l.all[e]-i[e]};for(const s of["DET","DHT"]){let i=l[s][e]-t[s],o=n.length-1;for(;i>0;){const t=n[o];t.stat===s&&t.isRestricted===(1===e)&&(a+=1e3+t.gear.materias.length-t.index,c[o]=void 0,i--),o--}}for(const a of["DET","DHT"]){let s=t[a]-l[a][e],i=0;for(;s>0;)void 0===c[i]&&(c[i]=a,s--),i++}}a<o&&(o=a,t=c.slice())}z[s].set(i,o),F[s].set(i,t)}a+=o}a<o&&(o=a,i=t)}const n=new Map;for(let e=0;e<i.length;e++){const t=i[e],a=F[e].get(t);if(0===e)for(const[e,t]of O.entries())n.set(e,t.map((e=>a[e])));else n.set(h[e-1].id,a)}const[l,c]=a(t);return{DET:l,DHT:c,gearMateriaStats:n}}));return q},get share(){if(void 0===e.job)return"";const t=[];for(const a of e.schema.slots){const s=e.equippedGears.get(a.slot.toString());void 0!==s&&t.push({id:s.data.id,materias:s.isFood||void 0!==s.syncedLevel?[]:s.materias.map((e=>void 0!==e.stat?[e.stat,e.grade]:null)),customStats:s.customStats?.toJSON()})}return b.P({job:e.job,jobLevel:e.jobLevel,syncLevel:e.syncLevel,gears:t})},get shareUrl(){return window.location.origin+window.location.pathname+"?"+this.share}}))).actions((e=>({createGears(){for(const t of e.filteredIds)e.gears.has(t.toString())||e.gears.put(x.create({id:t}))},setMode(t){e.mode=t},setJob(t){const a=e.job&&i.jobSchemas[e.job],s=i.jobSchemas[t];e.job=t,s.jobLevel===a?.jobLevel&&s.levelSyncable||(e.jobLevel=s.jobLevel,e.syncLevel=void 0),s.defaultItemLevel!==a?.defaultItemLevel&&(e.minLevel=s.defaultItemLevel[0],e.maxLevel=s.defaultItemLevel[1]);for(const[a,s]of e.equippedGears.entries())void 0===s||s.jobs[t]||e.equippedGears.delete(a);e.autoSelectScheduled=s.skeletonGears??!1},setMinLevel(t){e.minLevel=t},setMaxLevel(t){e.maxLevel=t},setSyncLevel(t,a){e.syncLevel=t,e.jobLevel=a??e.schema.jobLevel},setFilterPatch(t){e.filterPatch=t},setFilterFocus(t){e.filterFocus=t},setMateriaOverallActiveTab(t){e.materiaOverallActiveTab=t},setMateriaDetDhtOptimization(t){for(const[a,s]of t.entries()){const t=e.gears.get(a);for(let e=0;e<t.materias.length;e++){const a=t.materias[e];a.stat=s[e],"DET"!==a.stat&&"DHT"!==a.stat||(a.grade=a.meldableGrades[0])}}},toggleShowAllFoods(){e.showAllFoods=!e.showAllFoods},toggleDuplicateToolMateria(){e.duplicateToolMateria=!e.duplicateToolMateria},startEditing(){e.mode="edit";let t=1/0,a=-1/0;for(const s of e.schema.slots){const i=e.equippedGears.get(s.slot.toString());void 0!==i&&0!==s.levelWeight&&17726!==i.id&&(i.level<t&&(t=i.level),i.level>a&&(a=i.level))}e.minLevel=t,e.maxLevel=a},equip(t){const a=t.slot.toString();e.equippedGears.get(a)===t?e.equippedGears.delete(a):e.equippedGears.set(a,t)},setClan(t){e.clan=t,localStorage.setItem(v,t.toString())},autoSelect(){if(e.autoSelectScheduled){e.autoSelectScheduled=!1;for(const t of Object.values(e.groupedGears)){let e=t[t.length-1];if(void 0!==e&&!e.isFood&&17!==e.slot){for(let a=t.length-1;a>=0;a--)if(t[a].materiaAdvanced){e=t[a];break}e.isEquipped||this.equip(e)}}}},unprotect(){s.pc(e)}}))).actions((e=>({afterCreate(){for(const t of Object.values(e.equippedGears.toJSON()))w(Math.abs(t));p.EH((()=>L(e.minLevel,e.maxLevel))),p.U5((()=>e.filteredIds),e.createGears,{fireImmediately:!0}),p.U5((()=>e.autoSelectScheduled&&e.groupedGears),e.autoSelect)}}))),S=p.LO.map({},{deep:!1});p.z((()=>{for(const e of a(1571).Z)S.set(e.id,e);for(const e of a(7637).default)S.set(e.id,e)}));const _=p.LO.map({}),y=p.Fl((function(){for(const e of _.values())if("loading"===e)return!0;return!1})),N=async e=>{if(void 0===e||_.has(e))return;p.z((()=>_.set(e,"loading")));const t=(await a(4947)(`./gears-${e}`)).default;p.z((()=>{for(const e of t)S.has(e.id)||S.set(e.id,e);_.set(e,"finished")}))},T=a(8953).Z,w=e=>N(T[e]),D=a(3460).Z,L=(e,t)=>{let a=0;for(;D[a+1]<=e;)a++;for(;D[a]<=t;)N(D[a]),a++};_.set(D[D.length-1],"finished");const M=p.LO.box([],{deep:!1});function C(e){return Math.trunc(e+1e-7)}function k(e){return Math.ceil(e-1e-7)}p.EH((()=>{y.get()||p.z((()=>{M.set(Array.from(S.values()).sort(((e,t)=>{const a=e.level-t.level;return 0!==a?a:e.id-t.id})))}))}));const I=j.create(o.z(),{setting:n.create()});s.cf(I,(e=>{void 0!==e.job&&"view"!==e.mode&&o.a(e)})),a(2277),window.store=I,window.game=i,s.pc(I),console.log("You can access window.store for data store of this app, and window.game for ffxiv related constants.")},22:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2716%27 height=%274%27%3E%3Cpath d=%27M4 0h6L7 4%27/%3E%3C/svg%3E"},5647:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2736%27 height=%2712%27%3E%3Cpath fill=%27rgba%2817, 17, 17, 0.9%29%27 d=%27M2.658 0h32.004c-6 0-11.627 12.002-16.002 12.002C14.285 12.002 8.594 0 2.658 0Z%27/%3E%3C/svg%3E"}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={id:e,exports:{}};return s[e].call(a.exports,a,a.exports,o),a.exports}o.m=s,e=[],o.O=(t,a,s,i)=>{if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],i=e[d][2];for(var n=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every((e=>o.O[e](a[l])))?a.splice(l--,1):(n=!1,i<r&&(r=i));if(n){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,s,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[])),o.u=e=>({43:"gears-70",215:"gears-340",221:"gears-401",225:"gears-470",254:"gears-210",336:"gears-255",402:"gears-645",437:"gears-136",675:"gears-661",733:"gears-385",772:"gears-1",881:"gears-271",928:"gears-515",949:"gears-600",999:"gears-531"}[e]+"."+{43:"ece66e35d1",215:"34c126c9d3",221:"8bd488a7e6",225:"70f7ec1deb",254:"42f226d26a",336:"76e23f8e90",402:"70685db313",437:"d04a0e7713",675:"fdd59e6a14",733:"386cbe58c8",772:"3ab4d33729",881:"2d14870a7e",928:"b7cc4c82a0",949:"9cf04bfb18",999:"2951d21d68"}[e]+".js"),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},a="ffxiv-gearing:",o.l=(e,s,i,r)=>{if(t[e])t[e].push(s);else{var n,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var p=c[d];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==a+i){n=p;break}}n||(l=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.setAttribute("data-webpack",a+i),n.src=e),t[e]=[s];var m=(a,s)=>{n.onerror=n.onload=null,clearTimeout(g);var i=t[e];if(delete t[e],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((e=>e(s))),a)return a(s)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{o.b=document.baseURI||self.location.href;var e={179:0};o.f.j=(t,a)=>{var s=o.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var i=new Promise(((a,i)=>s=e[t]=[a,i]));a.push(s[2]=i);var r=o.p+o.u(t),n=new Error;o.l(r,(a=>{if(o.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;n.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",n.name="ChunkLoadError",n.type=i,n.request=r,s[1](n)}}),"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,a)=>{var s,i,r=a[0],n=a[1],l=a[2],c=0;if(r.some((t=>0!==e[t]))){for(s in n)o.o(n,s)&&(o.m[s]=n[s]);if(l)var d=l(o)}for(t&&t(a);c<r.length;c++)i=r[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},a=self.webpackChunkffxiv_gearing=self.webpackChunkffxiv_gearing||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),o.nc=void 0;var r=o.O(void 0,[912,126,619],(()=>o(3805)));r=o.O(r)})();