(()=>{var e={5467:function(e,t,a){var s={"./gears-401":["7058","73"],"./gears-1":["345","166"],"./gears-600.js":["1138","439"],"./gears-70.js":["4017","371"],"./gears-645.js":["2431","178"],"./gears-1.js":["345","166"],"./gears-385.js":["8404","839"],"./gears-470.js":["935","611"],"./gears-recent.js":["7637"],"./gears-340":["5441","501"],"./gears-340.js":["5441","501"],"./gears-470":["935","611"],"./gears-645":["2431","178"],"./gears-531":["2413","412"],"./gears-255.js":["7205","347"],"./gears-271.js":["8602","801"],"./gears-401.js":["7058","73"],"./gears-70":["4017","371"],"./gears-136.js":["2398","707"],"./gears-661.js":["8345","410"],"./gears-661":["8345","410"],"./gears-136":["2398","707"],"./gears-271":["8602","801"],"./gears-recent":["7637"],"./gears-210":["4291","51"],"./gears-515":["8937","526"],"./gears-255":["7205","347"],"./gears-210.js":["4291","51"],"./gears-515.js":["8937","526"],"./gears-600":["1138","439"],"./gears-385":["8404","839"],"./gears-531.js":["2413","412"]};function i(e){if(!a.o(s,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],i=t[0];return Promise.all(t.slice(1).map(a.e)).then(function(){return a(i)})}i.keys=()=>Object.keys(s),i.id="5467",e.exports=i},445:function(e,t,a){var s={"./chevron-right.svg":"810","./help.svg":"7338","./hq.svg":"9290","./jobs/ALC.svg":"5959","./jobs/ARM.svg":"7955","./jobs/AST.svg":"196","./jobs/BLM.svg":"4655","./jobs/BLU.svg":"2150","./jobs/BRD.svg":"879","./jobs/BSM.svg":"8118","./jobs/BTN.svg":"6815","./jobs/CRP.svg":"5640","./jobs/CUL.svg":"7297","./jobs/DNC.svg":"4331","./jobs/DRG.svg":"8428","./jobs/DRK.svg":"8583","./jobs/FSH.svg":"6305","./jobs/GNB.svg":"1080","./jobs/GSM.svg":"4918","./jobs/LTW.svg":"7045","./jobs/MCH.svg":"1325","./jobs/MIN.svg":"6921","./jobs/MNK.svg":"4006","./jobs/NIN.svg":"8286","./jobs/PCT.svg":"5169","./jobs/PLD.svg":"7462","./jobs/RDM.svg":"9302","./jobs/RPR.svg":"2010","./jobs/SAM.svg":"690","./jobs/SCH.svg":"7961","./jobs/SGE.svg":"8474","./jobs/SMN.svg":"9367","./jobs/VPR.svg":"5438","./jobs/WAR.svg":"1283","./jobs/WHM.svg":"916","./jobs/WVR.svg":"6172","./meteo.svg":"28","./more.svg":"7940","./open-in-new.svg":"5630","./sync.svg":"9436"};function i(e){return a(o(e))}function o(e){if(!a.o(s,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=o,e.exports=i,i.id="445"},8134:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(8081),i=a.n(s),o=a(3645),r=a.n(o)()(i());r.push([e.id,`body{min-width:1080px;padding-left:mod(100% - 1px,2px);overflow-x:auto;overflow-y:scroll;line-height:1.15;text-align:center;background-color:#f2f2f2;cursor:auto}svg{fill:currentColor;transform:translateZ(0)}.app{position:relative;display:inline-block;font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,微软雅黑,sans-serif;text-align:initial;color:rgba(0,0,0,.871)}.app:not(.app-high-saturation) ::selection{background-color:#c8e1ff}.app-edit{padding-bottom:48px}.card{background-color:#fff;background-color:var(--mdc-theme-surface,#fff);border-radius:4px;border-radius:var(--mdc-shape-medium,4px);box-shadow:0 2px 1px -1px #0003,0 1px 1px 0 #00000024,0 1px 3px 0 #0000001f;overflow:hidden}.table{line-height:36px;color:rgba(0,0,0,.871)}.table td,.table th{padding-top:0;padding-bottom:0;white-space:nowrap}.table th{padding-top:1px;font-weight:400;color:#0009}.table td{border-top:1px solid #e0e0e0}.table tbody:first-child tr:first-child td{border-top:none}.table tbody tr:hover{background-color:rgba(0,0,0,.039)}.table tbody tr.-selected{background-color:#6200ee14}.app-high-saturation .table tbody tr.-selected{background-color:#6200ee29}.badge-button .mdc-button__label{position:relative}.badge-button_badge{top:-3px;right:-8px;min-width:8px;height:8px;padding:0;transform:none}.rmwc-badge--exited{transform:scale(0)}.job-selector{position:relative;margin-left:3px}.job-selector_column{position:relative;display:inline-block;width:160px;padding:6px 16px 24px;vertical-align:top}.job-selector_group{line-height:34px}.job-selector_group:not(:first-child){margin-top:16px}.job-selector_group-name{padding-left:16px;font-weight:700}.job-selector_item{display:block;padding-left:16px;font-size:14px;color:inherit;text-decoration:none;border-radius:4px}.job-selector_icon{height:18px;margin-left:1px;vertical-align:-4px}.job-selector_background-icon{position:absolute;right:0;bottom:0;width:380px;height:391px;border-bottom-right-radius:4px;overflow:hidden;color:#6200ee;opacity:.08;pointer-events:none}.job-selector_background-icon>svg{width:480px}.job-select-panel{min-width:810px;padding-top:16px;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.job-select-panel_tip{position:absolute;bottom:13px;right:18px;line-height:1;font-style:italic;color:#0009}.gears_slot{margin-top:10px;margin-bottom:10px}.app-edit .gears_item[data-id]{cursor:pointer}.gears_item.-group-end+.gears_item td{border-top-width:4px;border-top-color:#ededed}.gears_inline-slot{margin-right:6px;font-weight:700;font-size:13px;vertical-align:top}.gears_left{width:320px;padding-left:16px;padding-right:16px}th.gears_left{font-weight:700;text-align:left;color:rgba(0,0,0,.871)}.gears_name{display:inline-block;max-width:230px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.app-view .gears_name{max-width:198px}.gears_color-red .gears_name{color:#721c24}.app-high-saturation .gears_color-red .gears_name{color:#9c0010}.gears_color-green .gears_name{color:#155724}.app-high-saturation .gears_color-green .gears_name{color:#007a2b}.gears_color-blue .gears_name{color:#003085}.app-high-saturation .gears_color-blue .gears_name{color:#003899}.gears_color-purple .gears_name{color:#36037c}.app-high-saturation .gears_color-purple .gears_name{color:#3e0094}.gears_hq{width:12px;vertical-align:-1px}.gears_patch{margin-left:4px;line-height:1}.gears_level,.gears_patch{color:rgba(0,0,0,.376);font-size:12px}.gears_level{float:right;margin-left:12px;line-height:34px;margin-top:2px}.gears_more{float:right;margin:6px -10px 0 4px;fill:#000000c4}.gears_toogle-all-foods{float:right;height:29px;margin-top:4px;margin-right:-11px;font-size:12px}.gears_materias{position:relative;z-index:0;width:277px;padding-left:13px;padding-right:13px;border-left:1px solid #0000001f;border-right:1px solid #0000001f}.gears_materias-synced{position:absolute;z-index:2;top:10px;left:0;right:0;line-height:1;text-align:center;pointer-events:none}.gears_materias-synced>svg{width:16px;color:#0009}.gears_food-utilization{margin-left:4px}.gears_food-utilization.-full{font-weight:700}.gears_stat{width:60px;text-align:center}.gears_stat.-skeleton{width:86px;white-space:nowrap}.gears_item.-food .gears_stat{line-height:1}.gears_stat-value.-full{font-weight:700}.gears_stat-value.-skeleton{display:inline-block;width:50%;font-weight:700;text-align:right}.gears_stat-value.-skeleton:last-child{margin-right:50%}.gears_stat-caps{display:inline-block;width:50%;padding-left:1px;text-align:left;font-size:12px;line-height:1;color:#0009}.gears_stat-requirement{display:block;margin-bottom:-2px;font-size:12px;line-height:8px;color:#0000008a;transform:scale(.9)}.gears_custom-stat-input{width:36px}.gears_empty{color:rgba(0,0,0,.376)}.gears_materia{position:relative;display:inline-block;width:54px;margin:auto -2px;line-height:26px;text-align:center;border-radius:2px}.gears_materia:not(:empty):after{content:" ";position:absolute;left:5px;right:5px;bottom:4px;border-bottom:2px solid;opacity:.1}.gears_materias-same-width .gears_materia:not(:empty):after{display:none}.app-edit .gears_materia:hover{z-index:1;background-color:rgba(0,0,0,.059)}.app-edit .gears_materia.-active,.app-edit .gears_materia:active{z-index:1;background-color:rgba(0,0,0,.102)}.app-edit .gears_materia:empty:before{content:" ";display:inline-block;height:16px;width:16px;vertical-align:-3px;border:2px solid #0000;border-radius:50%}.gears_item.-synced .gears_materia{opacity:.2}.gears_materia.-normal{color:#155724}.app-high-saturation .gears_materia.-normal{color:#007a2b}.gears_materia.-normal:empty:before{border-color:rgba(0,149,34,.235)}.gears_materia.-advanced{color:#721c24}.app-high-saturation .gears_materia.-advanced{color:#9c0010}.gears_materia.-advanced:empty:before{border-color:rgba(210,0,22,.224)}.condition{position:relative;margin-top:10px;overflow:visible}.condition_divider{display:inline-block;margin:9px 0;height:24px;width:1px;background-color:rgba(0,0,0,.122);vertical-align:top}.condition_right{float:right}.condition_job{display:inline-block;padding:0 12px;margin:4px;line-height:34px;border-radius:4px;vertical-align:top}.condition_job-icon{width:20px;padding-bottom:2px;margin-left:-2px}.condition_tip{display:inline-block;margin-top:5px;font-size:12px;line-height:34px;color:#0009;text-decoration:none;vertical-align:top}.condition_tip:hover{text-decoration:underline}.condition_tip.-highlight{font-weight:700;color:#b00020}.condition_level{display:inline-block;padding-left:16px;line-height:42px;vertical-align:top}.condition_level-value{margin-right:2px}.condition_level-input{width:36px}.condition_level-input .mdc-text-field__input{-moz-appearance:textfield}.condition_level-input .mdc-text-field__input::-webkit-inner-spin-button,.condition_level-input .mdc-text-field__input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.condition_level-separator{margin:0 4px}.condition_button{height:34px;min-width:48px;margin:4px 8px;vertical-align:top}.condition_button+.condition_button{margin-left:-4px}.condition_text{padding:0 16px;line-height:42px;vertical-align:top}.condition_filter{margin-left:6px;margin-right:6px}.condition_setting{margin-right:6px}.condition_level-sync-icon{width:14px;vertical-align:-2px}.condition_welcome-promotion{position:absolute;top:66px;right:0;border-radius:4px;transform:rotate(6deg);transform-origin:right 38%;transition:box-shadow .1s ease-in-out;box-shadow:0 2px 1px -1px #0003,0 1px 1px 0 #00000024,0 1px 3px 0 #0000001f}.condition_welcome-promotion:hover{box-shadow:0 3px 1px -2px #0003,0 2px 2px 0 #00000024,0 1px 5px 0 #0000001f}.summary{display:flex;align-items:flex-end;overflow:visible}@media(min-width:1080px){.app-edit .summary{position:fixed;bottom:0;padding:0 12px;margin-left:-12px;border-bottom-left-radius:0;border-bottom-right-radius:0;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}}.app-view .summary>span:not(.summary_divider){margin-top:-2px;margin-bottom:2px}.summary_divider{align-self:stretch;border-left:1px solid #0000001f;margin:0 -.5px}.summary_left{position:relative;width:320px;height:49px}.summary_middle{position:relative;width:277px}.summary_clan{position:absolute;left:4px;bottom:5px;height:35px;padding:0 12px}.summary_equipped-level{position:absolute;left:260px;bottom:0;font-size:12px;line-height:44px;color:rgba(0,0,0,.376)}.summary_tiers-toggle{position:absolute;left:10px;bottom:5px;height:35px}.summary_tiers-spacer{height:16px}.summary_stat{width:60px;padding-top:9px;padding-bottom:4px;line-height:18px;text-align:center}.summary_stat.-skeleton{width:86px}.summary_stat-tier{margin-top:2px;font-size:12px;line-height:14px}.summary_stat-next,.summary_stat-prev{display:inline-block;width:21px;vertical-align:top;white-space:nowrap}.summary_stat-prev{text-align:left}.summary_stat-next{text-align:right}.summary_stat-name{font-size:13px;color:#000000a6}.summary_stat-effect{font-size:12px;white-space:nowrap}.summary_stat-effect.-tip{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:default}.summary_stat-effect+.summary_stat-name{display:none}.summary_stat-small{display:inline-block;margin:0 -2px;transform:scale(.83) translateY(1px)}.app-view .summary_stat:last-child .summary_stat-effect-hp{transform:translateX(-4px)}.summary_damage{float:right;width:120px}.summary_damage-tip{display:inline-block;width:16px;margin:-1px -6px -1px 1px;vertical-align:1px;color:#0000008c}.about{margin-top:10px;margin-bottom:10px;font-size:13px;line-height:19px;text-align:center;color:rgba(0,0,0,.502)}.about_separator{margin:0 4px}.about_version{margin-left:4px}.about_link{color:rgba(0,0,0,.502);text-decoration:none}.about_link:hover{text-decoration:underline}.filter{min-width:500px;padding:16px;line-height:20px;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.filter_section{margin-bottom:3px}.filter_section:not(:first-child){margin-top:20px}.filter_title{font-weight:700}.filter_sub{margin-left:6px;font-size:12px;line-height:1;vertical-align:-1px;color:#0009}.filter_controls{margin-left:-9px}.filter_controls>.mdc-form-field{display:flex;margin-right:20px;margin-bottom:-6px}.level-sync{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.level-sync .rmwc-collapsible-list__children{transition:none}.level-sync_group{font-weight:700}.level-sync_group-icon{width:24px}.level-sync_levels{width:288px;margin:0 4px}.level-sync_job-level-sync,.level-sync_level{display:inline-block;width:48px;line-height:36px;text-align:center;vertical-align:top;border-radius:4px;cursor:pointer}.-popular.level-sync_job-level-sync,.level-sync_level.-popular{font-weight:700}.-selected.level-sync_job-level-sync,.level-sync_level.-selected{background-color:#6200ee14}.app-high-saturation .-selected.level-sync_job-level-sync,.app-high-saturation .level-sync_level.-selected{background-color:#6200ee29}.-selected.level-sync_job-level-sync:before,.level-sync_level.-selected:before{opacity:0}.level-sync_job-level-sync{float:right;width:auto;padding:0 12px}.level-sync_cancel{margin:5px 8px 0}.materia-overall{overflow:visible;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.materia-overall_tabbar{border-bottom:1px solid rgba(0,0,0,.122)}.materia-overall_tabbar .mdc-tab{padding:0 12px;height:40px;flex-grow:0}.materia-overall_tabbar .mdc-tab:first-child>.mdc-tab__ripple{border-top-left-radius:4px}.materia-overall_tabbar .mdc-tab__content{padding-top:2px}.materia-overall_tabbar .mdc-tab__text-label{position:relative}.materia-overall_badge{top:-3px;right:-8px;min-width:8px;height:8px;padding:0;transform:none}.materia-consumption{text-align:center}.materia-consumption th{width:72px;color:inherit}.materia-consumption td:first-child,.materia-consumption th:first-child{padding-left:15px;padding-right:8px;text-align:left}.materia-consumption_empty td:first-child{padding:0;text-align:center;color:rgba(0,0,0,.376)}.materia-consumption_tip{line-height:20px}.table tbody .materia-consumption_tip:hover{background:none}.materia-consumption_tip td{padding-top:8px;padding-bottom:8px}.materia-consumption_tool-duplicates{font-weight:700;line-height:24px}.materia-consumption_tool-duplicates.-disabled{text-decoration:line-through}.materia-consumption_tool-duplicates-switch{margin-left:6px;vertical-align:-2px}.materia-det-dht-optimization{width:360px}.materia-det-dht-optimization_introduce{padding:9px 16px 4px;line-height:20px;border-bottom:1px solid #e0e0e0}.materia-det-dht-optimization_introduce p{margin-top:0;margin-bottom:5px}.materia-det-dht-optimization_solutions{width:100%}.materia-det-dht-optimization_solutions td{padding-left:16px;padding-right:16px}.materia-det-dht-optimization_use-solution{height:32px;margin-left:-7px;vertical-align:initial}.materia-det-dht-optimization_tip{border-top:1px solid #e0e0e0;padding:12px 16px 14px}.share{min-width:300px;padding:16px;line-height:20px;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.share_url{display:block;font-size:12px;color:#6200ee;text-decoration:none}.share_url:hover{text-decoration:underline}.share_tip{margin-top:4px;margin-bottom:-2px;font-size:12px;font-style:italic}.share_copy{position:absolute;bottom:8px;right:8px;height:34px}.import{padding:16px;line-height:20px;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.import_title{font-weight:700}.import_bookmarklet{display:block;text-align:center;margin:8px 0;padding:8px;color:#6200ee;text-decoration:none;border:1px dashed #6200ee99;border-radius:4px}.import_bookmarklet:hover{text-decoration:underline}.import_warn{margin-top:4px;font-weight:700;color:#721c24}.setting{min-width:500px;padding:8px 16px 10px;line-height:20px;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.setting_section{margin-top:8px}.setting_title{font-weight:700}.setting_sub{margin-left:6px;font-size:12px;line-height:1;vertical-align:-1px;color:#0009}.setting_controls{margin-left:-9px}.setting_controls>.mdc-form-field{margin-right:20px}.gear-menu{padding:9px 0;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.gear-menu_item{display:block;padding-left:16px;padding-right:32px;line-height:32px;color:inherit;text-decoration:none}.gear-menu_divider{height:1px;margin:8px 0;background-color:rgba(0,0,0,.122)}.gear-menu_divider+.gear-menu_divider,.gear-menu_divider:first-child,.gear-menu_divider:last-child{display:none}.gear-menu_external{height:1em;fill:currentColor;vertical-align:-2px;opacity:.75}.materias{box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.materias tbody tr:hover{background-color:#0000}.materias td{padding:0 12px}.materias td:first-child{padding-left:16px}.materias td:last-child{padding-right:16px}.materias_stat-name{text-align:center;border-right:1px solid #0000001f}.materias_row.-invalid{color:#0003}.materias_grade,.materias_remove{cursor:pointer;text-align:center}.materias_grade:hover,.materias_remove:hover{background-color:rgba(0,0,0,.039)}.materias_grade:active,.materias_remove:active{background-color:rgba(0,0,0,.102)}.materias_grade.-selected,.materias_remove.-selected{background-color:#6200ee14}.app-high-saturation .materias_grade.-selected,.app-high-saturation .materias_remove.-selected{background-color:#6200ee29}td.materias_meldable{text-align:right;padding-right:0;min-width:40px}td.materias_meldable.-overflowed{color:#dc3545;font-weight:700}.materias_meldable-title{text-align:center;border-right:1px solid #0000001f}.clan{padding:8px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.clan_race{text-align:right;font-weight:700;padding:0 8px}.clan_item{padding:0 8px;line-height:34px;text-align:center;vertical-align:top;border-radius:4px}td:not(:first-child)>.clan_item{margin-left:-2px}`,""]);let l=r},1873:function(e,t,a){"use strict";let s;a.d(t,{a:function(){return l},z:function(){return n}});function i(){return window.history.state?.archiveKey||void 0}function o(e){window.history.replaceState({archiveKey:e},"")}function r(){if(void 0!==s){let e=i();void 0===e&&o(e=function(){let e;do e=`ffxiv-gearing.dt.archive.${Math.random().toString(36).slice(2,6)}`;while(null!==sessionStorage.getItem(e));return e}()),sessionStorage.setItem(e,JSON.stringify(s)),s=void 0}}function l(e){s=e}function n(e){if(void 0===e?e=i():o(e),void 0!==e){let t=sessionStorage.getItem(e);return null===t&&null!==(t=localStorage.getItem(e))&&sessionStorage.setItem(e,t),t?JSON.parse(t):void 0}}setInterval(r,5e3),window.addEventListener("beforeunload",r),window.addEventListener("popstate",()=>{s=void 0})},9975:function(e,t,a){"use strict";a.r(t),a.d(t,{baseStats:function(){return h},bluMdmgAdditions:function(){return $},clanStats:function(){return A},clans:function(){return q},customStatMax:function(){return u},getCaps:function(){return c},getMateriaName:function(){return z},jobCategories:function(){return C},jobLevelModifiers:function(){return p},jobLevels:function(){return m},jobSchemas:function(){return M},materiaGradeNames:function(){return H},materiaGradeRequiredLevels:function(){return G},materiaGrades:function(){return E},materiaGradesAdvanced:function(){return P},materiaNames:function(){return V},materiaStatNames:function(){return O},materiaSuccessRates:function(){return R},materias:function(){return I},patches:function(){return s.Z},races:function(){return F},statHighlight:function(){return k},statNames:function(){return i},syncLevelIsPopular:function(){return W},syncLevelOfJobLevels:function(){return Z},syncLevels:function(){return B}});var s=a(1612);let i={STR:"力量",DEX:"灵巧",INT:"智力",MND:"精神",VIT:"耐力",CRT:"暴击",DHT:"直击",DET:"信念",SKS:"技速",SPS:"咏唱",TEN:"坚韧",PIE:"信仰",CMS:"作业精度",CRL:"加工精度",CP:"制作力",GTH:"获得力",PCP:"鉴别力",GP:"采集力",PDMG:"物理基本性能",MDMG:"魔法基本性能",DLY:"攻击间隔"},o=a(5841).Z,r=a(5153).Z,l=a(7910).Z,n={};o.level.forEach((e,t)=>{n[e]=t});let d={};function c(e,t){let a=t??e.level,s=e.rawSlot??e.slot,c=e.role,p=`${a},${s},${c}`;if(!(p in d)){let e={};for(let t of Object.keys(i))e[t]="DLY"===t?1/0:Math.round(o[t][n[a]]*r[t][s]*l[t][c]/1e5);d[p]=e}return d[p]}let p={50:{main:202,sub:341,div:341,det:202,detTrunc:5,ap:75,apTank:53,hp:14,vit:11.2,vitTank:15.5},60:{main:218,sub:354,div:600,det:600,detTrunc:2,ap:100,apTank:78,hp:15,vit:12.9,vitTank:17.5},70:{main:292,sub:364,div:900,det:900,detTrunc:1,ap:125,apTank:105,hp:17,vit:14,vitTank:18.8},80:{main:340,sub:380,div:1300,det:1300,detTrunc:1,ap:165,apTank:115,hp:20,vit:18.8,vitTank:26.6},90:{main:390,sub:400,div:1900,det:1900,detTrunc:1,ap:195,apTank:156,hp:30,vit:24.3,vitTank:34.6},100:{main:440,sub:420,div:2780,det:2780,detTrunc:1,ap:237,apTank:190,hp:40,vit:30.1,vitTank:43}},m=Object.keys(p).map(e=>Number(e)),g=m[m.length-1],h={STR:"main",DEX:"main",INT:"main",MND:"main",VIT:"main",CRT:"sub",DHT:"sub",DET:"main",SKS:"sub",SPS:"sub",TEN:"sub",PIE:"main",CMS:0,CRL:0,CP:180,GTH:0,PCP:0,GP:400},u=1e3,f=["STR","CRT","DET","DHT","SKS","TEN","VIT"],x=["MND","CRT","DET","DHT","SPS","PIE","VIT"],v=["STR","CRT","DET","DHT","SKS","VIT"],b=["DEX","CRT","DET","DHT","SKS","VIT"],j=["INT","CRT","DET","DHT","SPS","VIT"],S=["CMS","CRL","CP"],_=["GTH","PCP","GP"],y=[{slot:3,name:"头部防具",uiGroup:"left"},{slot:4,name:"身体防具",uiGroup:"left"},{slot:5,name:"手部防具",uiGroup:"left"},{slot:7,name:"腿部防具",uiGroup:"left"},{slot:8,name:"脚部防具",uiGroup:"left"},{slot:9,name:"耳饰",uiGroup:"right"},{slot:10,name:"项链",uiGroup:"right"},{slot:11,name:"手镯",uiGroup:"right"},{slot:12,name:"戒指",uiGroup:"right"},{slot:-12,name:"戒指",uiGroup:"right"},{slot:-1,name:"食品",levelWeight:0,uiGroup:"misc"}],N=[{slot:13,name:"武器",levelWeight:2,uiGroup:"weapon"},...y],w=[{slot:1,name:"主工具",shortName:"主手",uiGroup:"weapon"},{slot:2,name:"副工具",shortName:"副手",uiGroup:"weapon"},...y],T=[...w.slice(0,-1),{slot:17,name:"灵魂水晶",shortName:"水晶",levelWeight:0,uiGroup:"misc"},w[w.length-1],{slot:-2,name:"药品",levelWeight:0,uiGroup:"misc"}],D=[710,735],L=[690,700],M={PLD:{name:"骑士",stats:f,slots:[{slot:1,name:"武器",uiGroup:"weapon"},{slot:2,name:"盾牌",uiGroup:"weapon"},...y],defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{STR:100,VIT:110,hp:140},mainStat:"VIT",traitDamageMultiplier:1},WAR:{name:"战士",stats:f,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{STR:105,VIT:110,hp:145},mainStat:"VIT",traitDamageMultiplier:1},DRK:{name:"暗黑骑士",stats:f,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{STR:105,VIT:110,hp:140},mainStat:"VIT",traitDamageMultiplier:1},GNB:{name:"绝枪战士",stats:f,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{STR:100,VIT:110,hp:140},mainStat:"VIT",traitDamageMultiplier:1},WHM:{name:"白魔法师",stats:x,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{MND:115,VIT:100,hp:105},mainStat:"MND",traitDamageMultiplier:1.3},SCH:{name:"学者",stats:x,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{MND:115,VIT:100,hp:105},mainStat:"MND",traitDamageMultiplier:1.3},AST:{name:"占星术士",stats:x,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{MND:115,VIT:100,hp:105},mainStat:"MND",traitDamageMultiplier:1.3},SGE:{name:"贤者",stats:x,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{MND:115,VIT:100,hp:105},mainStat:"MND",traitDamageMultiplier:1.3},MNK:{name:"武僧",stats:v,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{STR:110,VIT:100,hp:110,gcd:80,gcdReason:"“疾风迅雷”状态中"},mainStat:"STR",traitDamageMultiplier:1},DRG:{name:"龙骑士",stats:v,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{STR:115,VIT:105,hp:115},mainStat:"STR",traitDamageMultiplier:1},NIN:{name:"忍者",stats:b,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:110,VIT:100,hp:108,gcd:85,gcdReason:"“风遁”状态中"},mainStat:"DEX",traitDamageMultiplier:1},SAM:{name:"武士",stats:v,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{STR:112,VIT:100,hp:109,gcd:87,gcdReason:"“风花”状态中"},mainStat:"STR",traitDamageMultiplier:1},RPR:{name:"钐镰客",stats:v,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{STR:115,VIT:105,hp:115},mainStat:"STR",traitDamageMultiplier:1},VPR:{name:"蝰蛇剑士",stats:b,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:110,VIT:100,hp:111,gcd:85,gcdReason:"“疾速”状态中"},mainStat:"DEX",traitDamageMultiplier:1},BRD:{name:"吟游诗人",stats:b,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:115,VIT:100,hp:105},mainStat:"DEX",traitDamageMultiplier:1.2},MCH:{name:"机工士",stats:b,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:115,VIT:100,hp:105},mainStat:"DEX",traitDamageMultiplier:1.2},DNC:{name:"舞者",stats:b,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{DEX:115,VIT:100,hp:105},mainStat:"DEX",traitDamageMultiplier:1.2},BLM:{name:"黑魔法师",stats:j,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.3},SMN:{name:"召唤师",stats:j,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.3},RDM:{name:"赤魔法师",stats:j,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.3},PCT:{name:"绘灵法师",stats:j,slots:N,defaultItemLevel:D,jobLevel:g,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.3},BLU:{name:"青魔法师",stats:j,slots:[{slot:13,name:"武器",levelWeight:0,uiGroup:"weapon"},...y],defaultItemLevel:[520,530],jobLevel:80,levelSyncable:!0,statModifiers:{INT:115,VIT:100,hp:105},mainStat:"INT",traitDamageMultiplier:1.5,partyBonus:1.01},CRP:{name:"刻木匠",stats:S,slots:T,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},BSM:{name:"锻铁匠",stats:S,slots:T,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},ARM:{name:"铸甲匠",stats:S,slots:T,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},GSM:{name:"雕金匠",stats:S,slots:T,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},LTW:{name:"制革匠",stats:S,slots:T,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},WVR:{name:"裁衣匠",stats:S,slots:T,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},ALC:{name:"炼金术士",stats:S,slots:T,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},CUL:{name:"烹调师",stats:S,slots:T,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:8},MIN:{name:"采矿工",stats:_,slots:w,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:2},BTN:{name:"园艺工",stats:_,slots:w,defaultItemLevel:L,jobLevel:g,skeletonGears:!0,toolMateriaDuplicates:2},FSH:{name:"捕鱼人",stats:_,slots:w,defaultItemLevel:L,jobLevel:g,skeletonGears:!0}},C=a(9282).Z,k={PIE:!0,TEN:!0,DHT:!0,CRT:!0,DET:!0,SKS:!0,SPS:!0},I={PIE:[1,2,3,4,6,16,8,24,12,36,18,54],DHT:[1,2,3,4,6,16,8,24,12,36,18,54],CRT:[1,2,3,4,6,16,8,24,12,36,18,54],DET:[1,2,3,4,6,16,8,24,12,36,18,54],SPS:[1,2,3,4,6,16,8,24,12,36,18,54],SKS:[1,2,3,4,6,16,8,24,12,36,18,54],TEN:[1,2,3,4,6,16,8,24,12,36,18,54],CMS:[3,4,5,6,11,16,14,21,18,27,22,33],CRL:[1,2,3,4,7,10,9,13,12,18,15,23],CP:[1,2,3,4,6,8,7,9,8,10,9,11],GTH:[3,4,5,6,10,15,12,20,14,25,20,36],PCP:[3,4,5,6,10,15,12,20,14,25,20,36],GP:[1,2,3,4,6,8,7,9,8,10,9,11]},E=[12,11,10,9,8,7,6,5,4,3,2,1],P=[11,9,7,5,4,3,2,1],G=[15,30,45,70,160,290,420,420,560,560,690,690],R=[[90,82,70,58,17,17,17,17,17,17,17,17],[48,44,38,32,10,0,10,0,10,0,10,0],[28,26,22,20,7,0,7,0,7,0,7,0],[16,16,14,12,5,0,5,0,5,0,5,0]],V={CRT:"武略",DHT:"神眼",DET:"雄略",SKS:"战技",SPS:"咏唱",TEN:"刚柔",PIE:"信力",CMS:"名匠",CRL:"巨匠",CP:"魔匠",GTH:"达识",PCP:"博识",GP:"器识"},H=["壹","贰","叁","肆","伍","陆","柒","捌","玖","拾","拾壹","拾贰"],O={...i,CP:"CP",GP:"GP"};function z(e,t,a,s=4){return a?O[e].slice(0,2)+I[e][t-1]:V[e].slice(0,s-H[t-1].length)+H[t-1]}let F=["人族","精灵族","拉拉菲尔族","猫魅族","鲁加族","敖龙族","硌狮族","维埃拉族"],q=["中原之民","高地之民","森林之民","黑影之民","平原之民","沙漠之民","逐日之民","护月之民","北洋之民","红焰之民","晨曦之民","暮晖之民","掠日之民","迷踪之民","密林之民","山林之民"],A={STR:[22,23,20,20,19,19,22,19,22,20,19,23,23,23,20,19].map(e=>e-20),DEX:[19,20,23,20,23,21,23,22,19,18,22,20,17,17,23,20].map(e=>e-20),VIT:[20,22,19,19,19,18,20,18,23,23,19,22,23,23,18,19].map(e=>e-20),INT:[23,18,22,23,22,22,19,21,18,20,20,20,17,17,21,23].map(e=>e-20),MND:[19,20,19,21,20,23,19,23,21,22,23,18,23,23,21,22].map(e=>e-20)},B=a(3676).Z,W={300:!0,345:!0,375:!0,475:!0,605:!0,635:!0,695:!0},Z={50:130,60:270,70:400,80:530,90:660,100:790},$=a(1636).Z},9957:function(e,t,a){"use strict";let s,i,o,r;var l=a("5893");a("4365");var n=a("745"),d=a("8949");a("1479"),a("3206");var c=a("3461"),p=a("6877"),m=a("7026"),g=a("7294");let h=g.createContext(void 0);function u(){return g.useContext(h)}var f=a("5931"),x=a("9975"),v=a("9274");let b=a(445),j=g.memo(({className:e,name:t})=>{let a=b("./"+t+".svg").default;return(0,l.jsx)("svg",{className:e,viewBox:a.viewBox,children:(0,l.jsx)("use",{xlinkHref:"#"+a.id})})});var S=a("3935"),_=a("6600");let y=e=>{let[t,a]=g.useState(!1),s=g.Children.only(e.children);if(!g.isValidElement(s))return null;let i=()=>S.flushSync(()=>a(!0)),o=g.cloneElement(s,{...s.props,onFocus:i,onPointerEnter:i,onTouchStart:i,onMouseEnter:i});return t?(0,l.jsx)(_.HW,{...e}):o},N=g.forwardRef(({icon:e,className:t,...a},s)=>(0,l.jsx)(y,{unbounded:!0,children:(0,l.jsx)("button",{...a,ref:s,className:(0,m.Z)("mdc-icon-button","mdc-icon-button--dense",t),type:"button",children:(0,l.jsx)(j,{className:"mdc-icon-button__icon",name:e})})}));var w=a("5703");let T=p.Pi(e=>{let[t,a]=g.useState(!1),[s,i]=g.useState(null),o=e=>{a(!t),e&&e.stopPropagation()};return(0,l.jsxs)(l.Fragment,{children:[e.label({ref:i,expanded:t,toggle:o}),t&&(0,l.jsx)(D,{...e,setExpanded:a,labelElement:s,toggle:o})]})}),D=p.Pi(e=>{let{popper:t,placement:a,modifiers:o,strategy:r,setExpanded:n,labelElement:d,toggle:c}=e,[p,m]=g.useState(null),h=w.D(d,p,{placement:a,modifiers:o,strategy:r}),u=document.getElementById("popper");return s=e=>{let t=e.target;t&&d&&p&&!d.contains(t)&&!p.contains(t)&&(n(!1),s=void 0,e._isClosingDropdown=!0)},i=e=>{let t=e.target;t&&("BODY"===t.tagName||t===d)&&"Escape"===e.key&&(n(!1),i=void 0)},g.useEffect(()=>()=>{s=void 0,i=void 0},[]),u&&S.createPortal((0,l.jsx)("div",{ref:m,style:h.styles.popper,...h.attributes.popper,onClick:e=>e.stopPropagation(),children:g.createElement(t,{toggle:c,labelElement:d})}),u)});window.addEventListener("click",e=>s?.(e),!0),window.addEventListener("keyup",e=>i?.(e),!0);var L=a("6964"),M=a.n(L);let C=p.Pi(({gear:e,toggle:t})=>{let a=u();return(0,l.jsxs)("div",{className:"gear-menu card",children:[(0,l.jsx)(y,{children:(0,l.jsx)("div",{children:(0,l.jsxs)(M(),{className:"gear-menu_item",component:"div","data-clipboard-text":e.name,onClick:t,children:["复制道具名",!e.isFood&&e.source&&("source"===a.setting.gearDisplayName||!e.isInstalled)&&"："+e.name]})})}),(0,l.jsx)("div",{className:"gear-menu_divider"}),!e.isFood&&e.source&&"name"===a.setting.gearDisplayName&&e.isInstalled&&(0,l.jsxs)("div",{className:"gear-menu_item",children:["获取途径：",e.source]}),void 0!==e.stats.PDMG&&(0,l.jsxs)("div",{className:"gear-menu_item",children:["物理基本性能：",e.stats.PDMG]}),void 0!==e.stats.MDMG&&(0,l.jsxs)("div",{className:"gear-menu_item",children:["魔法基本性能：",e.stats.MDMG]}),void 0!==e.stats.DLY&&(0,l.jsxs)("div",{className:"gear-menu_item",children:["攻击间隔：",(e.stats.DLY/1e3).toFixed(2)]}),(0,l.jsx)("div",{className:"gear-menu_divider"}),e.isInstalled&&(0,l.jsx)(y,{children:(0,l.jsxs)("a",{className:"gear-menu_item",href:`https://ff14.huijiwiki.com/wiki/%E7%89%A9%E5%93%81:${encodeURI(e.name)}`,target:"_blank",tabIndex:0,children:["在 最终幻想XIV中文维基 中查看 ",(0,l.jsx)(j,{className:"gear-menu_external",name:"open-in-new"})]})}),(0,l.jsx)(y,{children:(0,l.jsxs)("a",{className:"gear-menu_item",href:`http://www.garlandtools.org/db/#item/${Math.abs(e.id)}`,target:"garlandtools",tabIndex:0,children:["在 Garland Data 中查看 ",(0,l.jsx)(j,{className:"gear-menu_external",name:"open-in-new"})]})}),(0,l.jsx)(y,{children:(0,l.jsxs)("a",{className:"gear-menu_item",href:`./lodestone?jp:${Math.abs(e.id)}`,target:"_blank",tabIndex:0,children:["在 The Lodestone 中查看 ",(0,l.jsx)(j,{className:"gear-menu_external",name:"open-in-new"})]})})]})}),k=p.Pi(({materia:e,labelElement:t})=>{let a=u();return(0,l.jsx)("table",{className:"materias table card",children:(0,l.jsxs)("tbody",{children:[a.schema.stats.map(a=>a in x.materias&&(0,l.jsxs)("tr",{className:(0,m.Z)("materias_row",e.gear.currentMeldableStats[a]<=0&&"-invalid"),children:[(0,l.jsx)("td",{className:(0,m.Z)("materias_meldable",e.gear.currentMeldableStats[a]<0&&"-overflowed"),children:e.gear.currentMeldableStats[a]}),(0,l.jsx)("td",{className:"materias_stat-name",children:x.materiaStatNames[a].slice(0,2)}),e.meldableGrades.map(s=>(0,l.jsx)("td",{className:(0,m.Z)("materias_grade",e.stat===a&&e.grade===s&&"-selected"),onClick:()=>{if(void 0===e.stat){let e=t?.nextElementSibling;null===e&&t?.click(),e?.childNodes.length===0&&e.click()}e.meld(a,s)},children:"+"+x.materias[a][s-1]},s))]},a)),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"materias_meldable-title",colSpan:2,children:"可镶嵌值"}),(0,l.jsx)("td",{className:(0,m.Z)("materias_remove",void 0===e.stat&&"-selected"),colSpan:e.meldableGrades.length,onClick:()=>e.meld(void 0),children:"不镶嵌魔晶石"})]})]})})}),I=p.Pi(({materia:e})=>{let t=u();return(0,l.jsx)(T,{label:({ref:a,expanded:s,toggle:i})=>(0,l.jsx)("span",{ref:a,className:(0,m.Z)("gears_materia",e.isAdvanced?"-advanced":"-normal",s&&"-active"),onClick:t.isViewing?void 0:i,onContextMenu:t.isViewing?void 0:t=>{!document.getSelection()?.toString()&&(t.preventDefault(),e.meld(void 0))},children:e.name}),popper:({labelElement:t})=>(0,l.jsx)(k,{materia:e,labelElement:t}),placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[-104-50*e.index,0]}}]})}),E=p.Pi(({gear:e,slot:t,isGroupEnd:a})=>{let s=u();return void 0===e?t?.levelWeight===0?null:(0,l.jsxs)("tr",{className:(0,m.Z)("gears_item",a&&"-group-end"),children:[(0,l.jsxs)("td",{className:"gears_left",children:[void 0!==t&&(0,l.jsx)("span",{className:"gears_inline-slot",children:(t.shortName??t.name).slice(0,2)}),(0,l.jsx)("span",{className:"gears_empty",children:s.isViewing?"无装备":"无匹配"})]}),(0,l.jsx)("td",{className:"gears_materias"}),(0,l.jsx)("td",{colSpan:s.schema.stats.length})]}):(0,l.jsxs)("tr",{"data-id":e.id,className:(0,m.Z)("gears_item",e.isFood&&"-food",!s.isViewing&&e.isEquipped&&"-selected",a&&"-group-end",!e.isFood&&void 0!==e.syncedLevel&&"-synced"),onClick:s.isViewing?void 0:t=>{if(!t.nativeEvent._isClosingDropdown)!(t.timeStamp-G<200)&&s.equip(e)},children:[(0,l.jsxs)("td",{className:(0,m.Z)("gears_left",`gears_color-${e.color}`),children:[void 0!==t&&(0,l.jsx)("span",{className:"gears_inline-slot",children:(t.shortName??t.name).slice(0,2)}),"source"===s.setting.gearDisplayName&&!e.isFood&&e.source?(0,l.jsxs)("span",{className:"gears_name",children:[e.source,!e.isInstalled&&(0,l.jsx)("span",{className:"gears_patch",children:e.patch})]}):e.isInstalled?(0,l.jsxs)("span",{className:"gears_name",children:[e.name,e.hq&&(0,l.jsx)(j,{className:"gears_hq",name:"hq"})]}):(0,l.jsxs)("span",{className:"gears_name",children:[(0,l.jsx)("span",{className:"gears_origin",children:e.isFood?e.name:"*"+e.source}),(0,l.jsx)("span",{className:"gears_patch",children:e.patch})]}),(0,l.jsx)(T,{label:({ref:e,toggle:t})=>(0,l.jsx)(N,{ref:e,className:"gears_more",icon:"more",onClick:t}),popper:({toggle:t})=>(0,l.jsx)(C,{gear:e,toggle:t}),placement:"bottom-end"}),(0,l.jsxs)("span",{className:"gears_level",children:["il",e.level]})]}),(0,l.jsxs)("td",{className:"gears_materias",children:[!e.isFood&&e.materias.map((e,t)=>(0,l.jsx)(I,{materia:e},t)),e.isFood&&(s.isViewing?(0,l.jsxs)("span",{className:"gears_food-utilization",children:["利用率",e.utilization,"%"]}):(0,l.jsxs)("span",{className:(0,m.Z)("gears_food-utilization",100===e.utilization&&"-full"),style:{opacity:e.utilizationOpacity},children:[e.utilization,"%"]})),!e.isFood&&void 0!==e.syncedLevel&&(0,l.jsx)("div",{className:"gears_materias-synced",children:(0,l.jsx)(j,{name:"sync"})})]}),s.schema.stats.map(t=>(0,l.jsxs)("td",{className:(0,m.Z)("gears_stat",s.schema.skeletonGears&&"-skeleton"),children:[s.isViewing||e.isFood||!e.customizable||t in e.bareStats||"DHT"===t&&!(e.equipLevel<=60)&&!(s.schema.stats.length<7)?(0,l.jsx)("span",{className:(0,m.Z)("gears_stat-value",e.statHighlights[t]&&"-full",s.schema.skeletonGears&&!e.isFood&&17!==e.slot&&"-skeleton"),children:(e.isFood||e.customizable||void 0!==e.syncedLevel||s.setting.displayMeldedStats?e.stats:e.bareStats)[t]}):(0,l.jsx)(P,{displayValue:e.stats[t],editValue:e.customStats.get(t),onChange:a=>e.setCustomStat(t,a)}),s.schema.skeletonGears&&!e.isFood&&e.materias.length>0&&(0,l.jsxs)("span",{className:"gears_stat-caps",children:["/",e.caps[t]]}),!s.isViewing&&"VIT"!==t&&e.isFood&&e.requiredStats[t]&&(0,l.jsxs)("span",{className:(0,m.Z)("gears_stat-requirement",s.equippedStatsWithoutFood[t]>=e.requiredStats[t]&&"-enough"),children:[e.requiredStats[t],"+"]})]},t))]})}),P=p.Pi(({displayValue:e,editValue:t,onChange:a})=>{let[s,i]=g.useState(e?.toString()??""),[o,r]=g.useState(e);return e!==o&&(i(e?.toString()??""),r(e)),(0,l.jsx)(v.n,{className:"gears_custom-stat-input mdc-text-field--compact",value:s,onChange:e=>{i(e.target.value)},onFocus:e=>{e.target.value=t?.toString()??"",i(e.target.value),e.target.select()},onBlur:()=>{r(-1),a(parseInt(s,10))},onClick:e=>{e.stopPropagation()},onKeyPress:e=>{"Enter"===e.key&&e.target.blur()}})}),G=0;window.addEventListener("focusout",e=>{e.target?.tagName==="INPUT"&&(G=e.timeStamp)});let R=p.Pi(({slot:e})=>{let t=u(),a=t.groupedGears[e.slot];return("melded"!==t.filterFocus||a?.length>0)&&("comparable"!==t.filterFocus||a?.length>1)?(0,l.jsxs)("table",{className:"gears_slot table card",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsxs)("th",{className:"gears_left",children:[e.name,-1===e.slot&&(0,l.jsx)(f.z,{className:"gears_toogle-all-foods",children:t.showAllFoods?"显示最优":"显示全部",onClick:t.toggleShowAllFoods}),-2===e.slot&&(0,l.jsx)(f.z,{className:"gears_toogle-all-foods",children:t.showAllPotions?"显示最优":"显示全部",onClick:t.toggleShowAllPotions})]}),(0,l.jsx)("th",{className:"gears_materias",children:-1===e.slot||-2===e.slot?"利用率":"魔晶石"}),t.schema.stats.map(e=>(0,l.jsx)("th",{className:(0,m.Z)("gears_stat",t.schema.skeletonGears&&"-skeleton"),children:x.statNames[e]},e))]})}),(0,l.jsx)("tbody",{children:void 0!==a?a.map(e=>(0,l.jsx)(E,{gear:e},e.id)):(0,l.jsx)(E,{gear:void 0})})]}):null}),V=p.Pi(()=>{let e=u();return(0,l.jsxs)("table",{className:"gears_slot table card",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"gears_left-compact",children:"装备"}),(0,l.jsx)("th",{className:"gears_materias",children:"魔晶石"}),e.schema.stats.map(e=>(0,l.jsx)("th",{className:"gears_stat",children:x.statNames[e]},e))]})}),(0,l.jsx)("tbody",{className:(0,m.Z)(e.isMateriaNamesSameWidth&&"gears_materias-same-width"),children:e.schema.slots.map((t,a)=>(0,l.jsx)(E,{gear:e.equippedGears.get(t.slot.toString()),slot:t,isGroupEnd:a<e.schema.slots.length-1&&t.uiGroup!==e.schema.slots[a+1].uiGroup},t.slot))})]})});var H=a("8947");let O=g.forwardRef(({promotion:e,className:t,onClick:a,children:s,...i},o)=>{let r=u();return(0,l.jsxs)(f.z,{...i,ref:o,className:(0,m.Z)(t,"badge-button"),onClick:()=>(r.promotion.off(e),a()),children:[s,(0,l.jsx)(H.C,{className:"badge-button_badge",exited:!r.promotion.get(e)})]})}),z=p.Pi(()=>(0,l.jsxs)("div",{className:"job-selector",children:[(0,l.jsxs)("div",{className:"job-selector_column",children:[(0,l.jsxs)(F,{name:"防护职业",children:[(0,l.jsx)(q,{job:"PLD"}),(0,l.jsx)(q,{job:"WAR"}),(0,l.jsx)(q,{job:"DRK"}),(0,l.jsx)(q,{job:"GNB"})]}),(0,l.jsxs)(F,{name:"近战职业",children:[(0,l.jsx)(q,{job:"MNK"}),(0,l.jsx)(q,{job:"DRG"}),(0,l.jsx)(q,{job:"NIN"}),(0,l.jsx)(q,{job:"SAM"}),(0,l.jsx)(q,{job:"RPR"}),(0,l.jsx)(q,{job:"VPR"})]})]}),(0,l.jsxs)("div",{className:"job-selector_column",children:[(0,l.jsxs)(F,{name:"治疗职业",children:[(0,l.jsx)(q,{job:"WHM"}),(0,l.jsx)(q,{job:"SCH"}),(0,l.jsx)(q,{job:"AST"}),(0,l.jsx)(q,{job:"SGE"})]}),(0,l.jsxs)(F,{name:"远程物理职业",children:[(0,l.jsx)(q,{job:"BRD"}),(0,l.jsx)(q,{job:"MCH"}),(0,l.jsx)(q,{job:"DNC"})]}),(0,l.jsxs)(F,{name:"远程魔法职业",children:[(0,l.jsx)(q,{job:"BLM"}),(0,l.jsx)(q,{job:"SMN"}),(0,l.jsx)(q,{job:"RDM"}),(0,l.jsx)(q,{job:"PCT"}),(0,l.jsx)(q,{job:"BLU"})]})]}),(0,l.jsx)("div",{className:"job-selector_column",children:(0,l.jsxs)(F,{name:"能工巧匠",children:[(0,l.jsx)(q,{job:"CRP"}),(0,l.jsx)(q,{job:"BSM"}),(0,l.jsx)(q,{job:"ARM"}),(0,l.jsx)(q,{job:"GSM"}),(0,l.jsx)(q,{job:"LTW"}),(0,l.jsx)(q,{job:"WVR"}),(0,l.jsx)(q,{job:"ALC"}),(0,l.jsx)(q,{job:"CUL"})]})}),(0,l.jsx)("div",{className:"job-selector_column",children:(0,l.jsxs)(F,{name:"大地使者",children:[(0,l.jsx)(q,{job:"MIN"}),(0,l.jsx)(q,{job:"BTN"}),(0,l.jsx)(q,{job:"FSH"})]})}),(0,l.jsx)("div",{className:"job-selector_background-icon",children:(0,l.jsx)(j,{name:"meteo"})})]})),F=p.Pi(({name:e,children:t})=>(0,l.jsxs)("div",{className:"job-selector_group",children:[(0,l.jsx)("div",{className:"job-selector_group-name",children:e}),t]})),q=p.Pi(({job:e})=>{let t=u(),a=x.jobSchemas[e];return(0,l.jsx)(y,{children:(0,l.jsxs)("a",{className:"job-selector_item",href:`?${e}`,onClick:a=>{a.preventDefault(),t.setJob(e),window.history.pushState(window.history.state,document.title,window.location.href)},children:[a.name,(0,l.jsx)(j,{className:"job-selector_icon",name:"jobs/"+e})]})})});var A=a("7926");let B=p.Pi(()=>{let e=u();return(0,l.jsxs)("div",{className:"filter card",children:[(0,l.jsxs)("div",{className:"filter_section",children:[(0,l.jsx)("span",{className:"filter_title",children:"实装版本"}),(0,l.jsx)("span",{className:"filter_sub",children:"即使选择只显示国服项目，数值（如发生过变更）也仍为国际服版本"})]}),(0,l.jsxs)("div",{className:"filter_controls",children:[(0,l.jsx)(A.Y,{label:"显示全部",checked:"all"===e.filterPatch,onChange:()=>e.setFilterPatch("all")}),(0,l.jsx)(A.Y,{label:`显示国服已实装和即将实装的项目（≤${x.patches.next}）`,checked:"next"===e.filterPatch,onChange:()=>e.setFilterPatch("next")}),(0,l.jsx)(A.Y,{label:`只显示国服已实装的项目（≤${x.patches.current}）`,checked:"current"===e.filterPatch,onChange:()=>e.setFilterPatch("current")})]}),(0,l.jsxs)("div",{className:"filter_section",children:[(0,l.jsx)("span",{className:"filter_title",children:"“聚焦”模式"}),(0,l.jsx)("span",{className:"filter_sub",children:"隐藏大部分装备，对比某几件"})]}),(0,l.jsxs)("div",{className:"filter_controls",children:[(0,l.jsx)(A.Y,{label:"不启用",checked:"no"===e.filterFocus,onChange:()=>e.setFilterFocus("no")}),(0,l.jsx)(A.Y,{label:"只显示镶嵌了魔晶石的装备和已选中的装备",checked:"melded"===e.filterFocus,onChange:()=>e.setFilterFocus("melded")}),(0,l.jsx)(A.Y,{label:"只显示镶嵌了魔晶石的装备，并隐藏仅有一件装备可供选择的部位",checked:"comparable"===e.filterFocus,onChange:()=>e.setFilterFocus("comparable")})]})]})});var W=a("1288"),Z=a("697"),$=a("4173");let K=p.Pi(({toggle:e})=>{let t=u();return(0,l.jsx)("div",{className:"level-sync card",children:(0,l.jsxs)(W.a,{children:[x.jobLevels.map(a=>a<=t.schema.jobLevel&&(0,l.jsx)(Z.i,{defaultOpen:a===(void 0===t.syncLevelText?Y:t.jobLevel),handle:(0,l.jsx)($.ug,{className:"level-sync_group",text:`${a}级`,metaIcon:(0,l.jsx)(j,{className:"level-sync_group-icon",name:"chevron-right"})}),children:(0,l.jsxs)("div",{className:"level-sync_levels",children:[x.syncLevels[a].map(s=>(0,l.jsx)(y,{children:(0,l.jsx)("span",{className:(0,m.Z)("level-sync_level",x.syncLevelIsPopular[s]&&"-popular",s===t.syncLevel&&"-selected"),onClick:()=>{t.setSyncLevel(s,a),e()},children:s})},s)),a!==t.schema.jobLevel&&(0,l.jsx)(y,{children:(0,l.jsx)("span",{className:(0,m.Z)("level-sync_job-level-sync",a===t.jobLevel&&void 0===t.syncLevel&&"-selected"),onClick:()=>{t.setSyncLevel(void 0,a),e()},children:"仅同步等级"})})]})},a)),(t.jobLevel!==t.schema.jobLevel||void 0!==t.syncLevel)&&(0,l.jsx)(f.z,{className:"level-sync_cancel",onClick:()=>{t.setSyncLevel(void 0,void 0),e()},children:"取消同步"})]})})}),Y=(()=>{for(let e=x.jobLevels.length-1;e>0;e--)for(let t of x.syncLevels[x.jobLevels[e]])if(x.syncLevelIsPopular[t])return x.jobLevels[e]})();var U=a("3225"),X=a("4513"),J=a("868");let Q=p.Pi(()=>{let e=u(),t=!e.isViewing&&void 0!==e.schema.mainStat,a=e.materiaOverallActiveTab;return 1===a&&!t&&(a=0),(0,l.jsxs)("div",{className:"materia-overall card",children:[(0,l.jsx)("div",{className:"materia-overall_tabbar",children:(0,l.jsxs)(U.n,{activeTabIndex:a,onActivate:t=>{e.setMateriaOverallActiveTab(t.detail.index),1===a&&e.promotion.off("materiaDetDhtOptimization")},children:[(0,l.jsx)(X.O,{children:"用量预估"}),t&&(0,l.jsxs)(X.O,{children:["信念/直击分配优化",(0,l.jsx)(H.C,{className:"badge-button_badge",exited:!e.promotion.get("materiaDetDhtOptimization")})]})]})}),0===a&&(0,l.jsxs)("table",{className:"materia-consumption table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"魔晶石"}),(0,l.jsx)("th",{children:"安全孔"}),(0,l.jsx)("th",{children:"期望"}),(0,l.jsx)("th",{children:"90%*"}),(0,l.jsx)("th",{children:"99%*"})]})}),(0,l.jsxs)("tbody",{children:[(()=>{let t=[];for(let a of e.schema.stats.filter(t=>t in e.materiaConsumption))for(let s of x.materiaGrades){let i=e.materiaConsumption[a][s];void 0!==i&&t.push((0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:x.getMateriaName(a,s,"stat"===e.setting.materiaDisplayName)}),(0,l.jsx)("td",{children:i.safe}),(0,l.jsx)("td",{children:i.expectation}),(0,l.jsx)("td",{children:i.confidence90}),(0,l.jsx)("td",{children:i.confidence99})]},a+s))}return t})(),0===Object.keys(e.materiaConsumption).length&&(0,l.jsx)("tr",{className:"materia-consumption_empty",children:(0,l.jsx)("td",{colSpan:5,children:"未镶嵌魔晶石"})}),(0,l.jsx)("tr",{className:"materia-consumption_tip",children:(0,l.jsxs)("td",{colSpan:5,children:["*以此总体成功率完成全部镶嵌所需的数量",e.schema.toolMateriaDuplicates>1&&(0,l.jsxs)("div",{className:(0,m.Z)("materia-consumption_tool-duplicates",!e.duplicateToolMateria&&"-disabled"),children:[`主副手的用量按照${e.schema.toolMateriaDuplicates}套计算`,(0,l.jsx)(J.r,{className:"materia-consumption_tool-duplicates-switch",checked:e.duplicateToolMateria,onChange:e.toggleDuplicateToolMateria})]})]})})]})]}),1===a&&(0,l.jsx)(ee,{})]})}),ee=p.Pi(()=>{let e=u(),t=g.useMemo(()=>d.rg(()=>e.materiaDetDhtOptimized),[]);return(0,l.jsxs)("div",{className:"materia-det-dht-optimization",children:[(0,l.jsxs)("div",{className:"materia-det-dht-optimization_introduce",children:[(0,l.jsx)("p",{children:"根据增伤期望优化配装的信念、直击魔晶石分配。"}),(0,l.jsx)("p",{children:"直击属性对必定直击型技能的固定增伤量与对一般技能期望增伤量存在小幅差距，直击类团辅也会小幅降低直击属性的收益，这些因素未被纳入考虑。"}),(0,l.jsx)("p",{children:"选中的装备中，已镶嵌信念或直击魔晶石的孔洞和空置的孔洞将被视为可使用孔洞，每个可使用孔洞将会被镶嵌此孔洞可镶嵌的最高等级魔晶石。"})]}),(0,l.jsxs)("table",{className:"materia-det-dht-optimization_solutions table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"信念"}),(0,l.jsx)("th",{children:"直击"}),(0,l.jsx)("th",{style:{width:"99%"}})]})}),(0,l.jsx)("tbody",{children:t.map((t,a)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:t.DET}),(0,l.jsx)("td",{children:t.DHT}),(0,l.jsx)("td",{children:t.DET===e.equippedStats.DET&&t.DHT===e.equippedStats.DHT?"已使用此方案":(0,l.jsx)(f.z,{className:"materia-det-dht-optimization_use-solution",onClick:()=>e.setMateriaDetDhtOptimization(t.gearMateriaStats),children:"使用此方案"})})]},a))})]}),(0,l.jsx)("div",{className:"materia-det-dht-optimization_tip",children:"方案按增伤期望从高到低排序，所有方案的差距小于万分之三。"})]})}),et=p.Pi(()=>{let e=u();return(0,l.jsxs)("div",{className:"share card",children:[(0,l.jsx)("a",{className:"share_url",href:e.shareUrl,target:"_blank",children:e.shareUrl}),(0,l.jsx)("div",{className:"share_tip",children:"分享时只会包含选中的装备。"}),(0,l.jsx)(M(),{className:"share_copy",component:"span","data-clipboard-text":e.shareUrl,children:(0,l.jsx)(f.z,{children:"复制"})})]})}),ea=p.Pi(()=>(0,l.jsxs)("div",{className:"import card",children:[(0,l.jsx)("div",{className:"import_title",children:"使用方法："}),(0,l.jsx)("div",{children:"将下方的链接添加为浏览器书签（一种较方便的方式是拖拽下方链接至书签栏），"}),(0,l.jsx)("div",{children:"然后打开想导入的配装所在的页面，点击此书签。"}),(0,l.jsx)("a",{ref:e=>e?.setAttribute("href",encodeURI("javascript:void(document.body.appendChild(document.createElement('script')).src='"+window.location.origin+window.location.pathname+"import.js?'+Math.random())")),className:"import_bookmarklet",onClick:e=>e.preventDefault(),children:"导入配装"}),(0,l.jsx)("div",{className:"import_title",children:"目前支持从以下配装器导入："}),(0,l.jsx)("div",{children:"Ariyala's Final Fantasy XIV Toolkit (ffxiv.ariyala.com)"}),(0,l.jsx)("div",{children:"FF14俺tools：装備シミュレータ (ffxiv.es.exdreams.net)"}),(0,l.jsx)("div",{children:"Etro (etro.gg)"}),(0,l.jsx)("div",{children:"FFXIV Teamcraft (ffxivteamcraft.com)"}),(0,l.jsx)("div",{children:"XivGear (xivgear.app)"}),(0,l.jsx)("div",{className:"import_warn",children:"此功能可能因上述站点的设计变动而失效，如遇到不可用请反馈。"})]})),es=p.Pi(()=>{let e=u();return(0,l.jsxs)("div",{className:"setting card",children:[(0,l.jsxs)("div",{className:"setting_section",children:[(0,l.jsx)("span",{className:"setting_title",children:"装备名显示方式"}),(0,l.jsx)("span",{className:"setting_sub",children:"国服未实装的装备总会显示为获取途径"})]}),(0,l.jsxs)("div",{className:"setting_controls",children:[(0,l.jsx)(A.Y,{label:"显示装备名",checked:"name"===e.setting.gearDisplayName,onChange:()=>e.setting.setGearDisplayName("name")}),(0,l.jsx)(A.Y,{label:"显示获取途径",checked:"source"===e.setting.gearDisplayName,onChange:()=>e.setting.setGearDisplayName("source")})]}),(0,l.jsx)("div",{className:"setting_section",children:(0,l.jsx)("span",{className:"setting_title",children:"装备颜色方案"})}),(0,l.jsxs)("div",{className:"setting_controls",children:[(0,l.jsx)(A.Y,{label:"区分竞品",checked:"source"===e.setting.gearColorScheme,onChange:()=>e.setting.setGearColorScheme("source")}),(0,l.jsx)(A.Y,{label:"按稀有度上色",checked:"rarity"===e.setting.gearColorScheme,onChange:()=>e.setting.setGearColorScheme("rarity")}),(0,l.jsx)(A.Y,{label:"不上色",checked:"none"===e.setting.gearColorScheme,onChange:()=>e.setting.setGearColorScheme("none")})]}),(0,l.jsx)("div",{className:"setting_section",children:(0,l.jsx)("span",{className:"setting_title",children:"魔晶石显示方式"})}),(0,l.jsxs)("div",{className:"setting_controls",children:[(0,l.jsx)(A.Y,{label:"显示增益的属性",checked:"stat"===e.setting.materiaDisplayName,onChange:()=>e.setting.setMateriaDisplayName("stat")}),(0,l.jsx)(A.Y,{label:"显示魔晶石本身的名字",checked:"materia"===e.setting.materiaDisplayName,onChange:()=>e.setting.setMateriaDisplayName("materia")})]}),(0,l.jsx)("div",{className:"setting_section",children:(0,l.jsx)("span",{className:"setting_title",children:"展示包含魔晶石增益的装备属性"})}),(0,l.jsxs)("div",{className:"setting_controls",children:[(0,l.jsx)(A.Y,{label:"是，展示实际生效的属性",checked:e.setting.displayMeldedStats,onChange:()=>e.setting.setDisplayMeldedStats(!0)}),(0,l.jsx)(A.Y,{label:"否，展示装备的原始属性",checked:!e.setting.displayMeldedStats,onChange:()=>e.setting.setDisplayMeldedStats(!1)})]}),(0,l.jsxs)("div",{className:"setting_section",children:[(0,l.jsx)("span",{className:"setting_title",children:"隐藏已废弃的装备"}),(0,l.jsx)("span",{className:"setting_sub",children:"部分粉色稀有度的装备、未强化的旧点数装备"})]}),(0,l.jsxs)("div",{className:"setting_controls",children:[(0,l.jsx)(A.Y,{label:"隐藏",checked:e.setting.hideObsoleteGears,onChange:()=>e.setting.setHideObsoleteGears(!0)}),(0,l.jsx)(A.Y,{label:"显示",checked:!e.setting.hideObsoleteGears,onChange:()=>e.setting.setHideObsoleteGears(!1)})]}),(0,l.jsxs)("div",{className:"setting_section",children:[(0,l.jsx)("span",{className:"setting_title",children:"高饱和度模式"}),(0,l.jsx)("span",{className:"setting_sub",children:"如果默认高亮颜色难以辨识请启用此模式"})]}),(0,l.jsxs)("div",{className:"setting_controls",children:[(0,l.jsx)(A.Y,{label:"不启用",checked:!e.setting.highSaturation,onChange:()=>e.setting.setHighSaturation(!1)}),(0,l.jsx)(A.Y,{label:"启用",checked:e.setting.highSaturation,onChange:()=>e.setting.setHighSaturation(!0)})]})]})}),ei=p.Pi(()=>{let e=u(),t=void 0===e.job,s=!e.isViewing&&void 0!==e.job,i=e.isViewing&&void 0!==e.job;return(0,l.jsxs)("div",{className:"condition card",style:void 0===e.job?{width:"900px"}:{},children:[t&&(0,l.jsx)("span",{className:"condition_job -empty",children:"选择一个职业开始配装"}),t&&(0,l.jsx)("a",{className:(0,m.Z)("condition_tip",e.promotion.get("legacyLink")&&"-highlight"),href:"./ew/",children:"此工具已适配至《金曦之遗辉》资料片，如需使用《晓月之终途》版本请点击此处",onClick:e.promotion.get("legacyLink")?()=>e.promotion.off("legacyLink"):void 0,onMouseLeave:e.promotion.get("legacyLink")?()=>e.promotion.off("legacyLink"):void 0}),s&&(0,l.jsx)(T,{label:({ref:t,toggle:a})=>(0,l.jsx)(y,{children:(0,l.jsxs)("span",{ref:t,className:"condition_job",onClick:a,children:[(0,l.jsx)(j,{className:"condition_job-icon",name:"jobs/"+e.job}),(0,l.jsx)("span",{className:"condition_job-name",children:e.schema.name})]})}),popper:()=>(0,l.jsxs)("div",{className:"job-select-panel card",children:[(0,l.jsx)(z,{}),(0,l.jsx)("div",{className:"job-select-panel_tip",children:"中键点击职业（或右键菜单-在新标签页中打开链接）可新建一份空白配装"})]}),placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[-4,0]}}]}),i&&(0,l.jsxs)("span",{className:"condition_job",children:[(0,l.jsx)(j,{className:"condition_job-icon",name:"jobs/"+e.job}),(0,l.jsx)("span",{className:"condition_job-name",children:e.schema.name})]}),s&&(0,l.jsx)("span",{className:"condition_divider"}),s&&(0,l.jsxs)("span",{className:"condition_level",children:[(0,l.jsxs)("span",{className:"condition_level-value",children:[(0,l.jsx)(eo,{value:e.minLevel,onChange:t=>e.setMinLevel(t)}),(0,l.jsx)("span",{className:"condition_level-separator",children:"-"}),(0,l.jsx)(eo,{value:e.maxLevel,onChange:t=>e.setMaxLevel(t)})]}),"品级"]}),s&&(0,l.jsx)(T,{label:({ref:e,toggle:t})=>(0,l.jsx)(O,{ref:e,className:"condition_button condition_filter",promotion:"filter",onClick:t,children:"筛选"}),popper:B,placement:"bottom-start"}),(s||i)&&(0,l.jsx)("span",{className:"condition_divider"}),i&&e.schema.levelSyncable&&void 0!==e.syncLevelText&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"condition_text",children:[(0,l.jsx)(j,{className:"condition_level-sync-icon",name:"sync"}),e.syncLevelText]}),(0,l.jsx)("span",{className:"condition_divider"})]}),s&&e.schema.levelSyncable&&(0,l.jsx)(T,{label:({ref:t,toggle:a})=>(0,l.jsxs)(f.z,{ref:t,className:"condition_button",onClick:a,children:[void 0!==e.syncLevelText&&(0,l.jsx)(j,{className:"condition_level-sync-icon",name:"sync"}),e.syncLevelText??"品级同步"]}),popper:K,placement:"bottom-start"}),(s||i)&&(0,l.jsx)(T,{label:({ref:t,toggle:a})=>(0,l.jsxs)(f.z,{ref:t,className:"condition_button badge-button",onClick:a,children:["魔晶石",(0,l.jsx)(H.C,{className:"badge-button_badge",exited:e.isViewing||!e.promotion.get("materiaDetDhtOptimization")})]}),popper:Q,placement:"bottom-start"}),(0,l.jsxs)("span",{className:"condition_right",children:[s&&(0,l.jsx)(T,{label:({ref:e,toggle:t})=>(0,l.jsx)(f.z,{ref:e,className:"condition_button",onClick:t,children:"分享"}),popper:et,placement:"bottom-end"}),(t||s)&&(0,l.jsx)(T,{label:({ref:e,toggle:t})=>(0,l.jsx)(f.z,{ref:e,className:"condition_button",onClick:t,children:"导入"}),popper:ea,placement:"bottom-end"}),i&&(0,l.jsx)(f.z,{className:"condition_button",onClick:()=>{e.startEditing(),window.history.pushState(null,document.title,window.location.href.replace(/\?.*$/,""))},children:"编辑"}),(s||i)&&(0,l.jsx)(T,{label:({ref:e,toggle:t})=>(0,l.jsx)(f.z,{ref:e,className:"condition_button condition_setting",onClick:t,children:"设置"}),popper:es,placement:"bottom-end"}),(0,l.jsx)("span",{className:"condition_divider"}),(0,l.jsxs)("span",{className:"condition_text",children:["数据版本 ",x.patches.data]})]}),t&&(0,l.jsx)(z,{}),t&&(0,l.jsx)("a",{href:"https://www.bilibili.com/video/BV1pt4y1W7pX",title:"【视频】如何自助配装？高难本配装原理详解",target:"_blank",children:(0,l.jsx)("img",{className:"condition_welcome-promotion",src:a(9106),srcSet:a(1855)+" 2x",alt:""})})]})});let eo=(o=!1,r=null,p.Pi(({value:e,onChange:t})=>{let[a,s]=g.useState(e.toString()),[i,n]=g.useState(e);e!==i&&(s(e.toString()),n(e));let c=g.useRef(null);g.useEffect(()=>{let e=e=>{if(e.preventDefault(),0!==e.deltaY){e.target.focus();let t=e.deltaY<0?5:-5;s(e=>(parseInt(e,10)+t).toString())}},t=c.current;return t.addEventListener("wheel",e,{passive:!1}),()=>t.removeEventListener("wheel",e)},[]);let p=()=>t(parseInt(a,10)||0);return(0,l.jsx)(v.n,{inputRef:c,className:"condition_level-input mdc-text-field--compact",type:"number",step:"5",value:a,onChange:e=>{s(e.target.value)},onFocus:e=>{e.target.select(),o=!0},onBlur:()=>{setTimeout(()=>{o?r=p:d.z(()=>{r?.(),r=null,p()})},0),o=!1},onKeyPress:e=>{"Enter"===e.key&&e.target.blur()}})})),er=p.Pi(({toggle:e})=>{let t=u();return(0,l.jsx)("div",{className:"clan card",children:(0,l.jsx)("table",{children:(0,l.jsx)("tbody",{children:x.races.map((a,s)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"clan_race",children:a}),[2*s,2*s+1].map(a=>(0,l.jsx)("td",{children:(0,l.jsx)(y,{children:(0,l.jsx)("div",{className:"clan_item",onClick:()=>{t.setClan(a),e()},children:x.clans[a]})})},a))]},s))})})})}),el=p.Pi(()=>{let e=u(),t=e.equippedEffects;return(0,l.jsxs)("div",{className:"summary card",children:[(0,l.jsxs)("span",{className:"summary_left",children:[(0,l.jsx)(T,{label:({ref:t,toggle:a})=>(0,l.jsxs)(f.z,{ref:t,className:"summary_clan",onClick:a,children:[e.raceName," - ",e.clanName]}),popper:er,placement:"top-start",modifiers:[{name:"offset",options:{offset:[-8,0]}}],strategy:"fixed"}),(0,l.jsxs)("span",{className:"summary_equipped-level",children:["il",e.equippedLevel]})]}),(0,l.jsx)("span",{className:"summary_divider"}),(0,l.jsxs)("span",{className:"summary_middle",children:[t&&(0,l.jsx)(f.z,{className:"summary_tiers-toggle",children:`${e.tiersShown?"隐藏":"显示"}阈值(差值)`,onClick:e.toggleTiersShown}),t&&(0,l.jsxs)("span",{className:"summary_stat summary_damage",children:[t.damage.toFixed(5),(0,l.jsx)("span",{className:"summary_damage-tip","aria-label":"BLU"!==e.job?"包括食品和组队加成，不包括其他任何手动施放的增益（如爆发药、连环计、身形、天语等）":"包括食品和组队加成，包括“以太复制：进攻”，不包括其他手动施放的增益",role:"tooltip",children:(0,l.jsx)(j,{name:"help"})}),(0,l.jsx)("div",{className:"summary_stat-name",children:"每威力伤害期望"})]})]}),(0,l.jsx)("span",{className:"summary_divider"}),e.schema.stats.map(a=>(0,l.jsxs)("span",{className:(0,m.Z)("summary_stat",e.schema.skeletonGears&&"-skeleton"),children:[t&&e.tiersShown&&e.equippedTiers?.[a]!==void 0&&(0,l.jsxs)("div",{className:"summary_stat-tier",children:[(0,l.jsx)("span",{className:"summary_stat-prev",children:e.equippedTiers[a].prev}),(0,l.jsxs)("span",{className:"summary_stat-next",children:["+",e.equippedTiers[a].next]})]}),e.equippedStats[a],t&&(0,l.jsxs)(l.Fragment,{children:[("SKS"===a||"SPS"===a)&&(0,l.jsx)("div",{className:(0,m.Z)("summary_stat-effect",e.jobLevel>=80&&e.schema.statModifiers?.gcdReason&&"-tip"),"aria-label":e.jobLevel>=80?e.schema.statModifiers?.gcdReason:void 0,role:"tooltip",children:t.gcd.toFixed(2)+"s"}),"VIT"===a&&(0,l.jsxs)("div",{className:"summary_stat-effect summary_stat-effect-hp",children:[t.hp,(0,l.jsx)("span",{className:"summary_stat-small",children:"HP"})]}),"TEN"===a&&(0,l.jsxs)("div",{className:"summary_stat-effect",children:["-",(100*t.tenMitigation).toFixed(1),"%"]}),"PIE"===a&&(0,l.jsxs)("div",{className:"summary_stat-effect",children:[t.mp,(0,l.jsx)("span",{className:"summary_stat-small",children:"MP"}),"/3s"]})]}),(0,l.jsx)("div",{className:"summary_stat-name",children:x.statNames[a]})]},a))]})}),en=p.Pi(()=>(0,l.jsxs)("div",{className:"about",children:[(0,l.jsx)("span",{className:"about_name",children:"最终幻想14配装器"}),(0,l.jsx)("span",{className:"about_version",title:`发布于 ${new Date(1731393322469).toLocaleString()}`,children:"2411a"}),(0,l.jsx)("span",{className:"about_separator",children:"\xb7"}),(0,l.jsx)("a",{className:"about_link",href:"https://github.com/Asvel/ffxiv-gearing/blob/master/CHANGELOG.md",target:"_blank",children:"更新记录"}),(0,l.jsx)("span",{className:"about_separator",children:"\xb7"}),(0,l.jsx)("a",{className:"about_link",href:"https://github.com/Asvel/ffxiv-gearing#license",target:"_blank",children:"许可协议"}),(0,l.jsx)("span",{className:"about_separator",children:"\xb7"}),(0,l.jsx)("a",{className:"about_link",href:"https://github.com/Asvel/ffxiv-gearing",target:"_blank",children:"源代码"})]})),ed=p.Pi(({store:e})=>e.isLoading?null:(0,l.jsx)(h.Provider,{value:e,children:(0,l.jsxs)("div",{className:(0,m.Z)("app",`app-${e.mode}`,e.setting.highSaturation&&"app-high-saturation"),children:[(0,l.jsx)(ei,{}),void 0!==e.job&&(e.isViewing?(0,l.jsx)(V,{}):e.schema.slots.map(e=>(0,l.jsx)(R,{slot:e},e.slot))),void 0!==e.job&&(0,l.jsx)(el,{}),(0,l.jsx)(en,{}),e.tiersShown&&!e.isViewing&&e.equippedEffects&&(0,l.jsx)("div",{className:"summary_tiers-spacer"}),(0,l.jsx)("div",{id:"popper"})]})}));var ec=a("3379"),ep=a.n(ec),em=a("7795"),eg=a.n(em),eh=a("569"),eu=a.n(eh),ef=a("3565"),ex=a.n(ef),ev=a("9216"),eb=a.n(ev),ej=a("4589"),eS=a.n(ej),e_=a("8134"),ey={};ey.styleTagTransform=eS(),ey.setAttributes=ex(),ey.insert=eu().bind(null,"head"),ey.domAPI=eg(),ey.insertStyleElement=eb(),ep()(e_.Z,ey),e_.Z&&e_.Z.locals&&e_.Z.locals,d.EH(()=>{void 0!==c.h.title&&(document.title=c.h.title)});let eN=document.createElement("div");document.body.appendChild(eN),n.createRoot(eN).render((0,l.jsx)(ed,{store:c.h})),navigator.serviceWorker?.register("./serviceworker.js")},4365:function(){if(null===localStorage.getItem("ffxiv-gearing.dt.promotion")&&null!==localStorage.getItem("ffxiv-gearing.ew.promotion")){for(let e of Array.from({length:localStorage.length},(e,t)=>localStorage.key(t)))if(e.startsWith("ffxiv-gearing.ew.")){let t=e.slice(17);if(t.startsWith("archive."))continue;localStorage.setItem(`ffxiv-gearing.dt.${t}`,localStorage.getItem(e))}}window.history.state?.archiveKey?.startsWith("ffxiv-gearing.ew.")&&(window.history.replaceState(window.history.state,document.title,window.location.href.replace(/\/([^\/]*)$/,"/ew/$1")),window.location.reload())},8339:function(e,t,a){"use strict";var s,i;a.d(t,{Q:()=>f,P:()=>u});let o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[];for(let e=0;e<o.length;e++)r[o[e].charCodeAt(0)]=BigInt(e);let l=e=>{let t={};for(let a=0;a<e.length;a++)t[e[a]]=a;return t},n=[{job:"PLD",statDecode:["CRT","DET","DHT","SKS","TEN"]},{job:"WAR",statDecode:["CRT","DET","DHT","SKS","TEN"]},{job:"DRK",statDecode:["CRT","DET","DHT","SKS","TEN"]},{job:"GNB",statDecode:["CRT","DET","DHT","SKS","TEN"]},{job:"WHM",statDecode:["CRT","DET","DHT","SPS","PIE"]},{job:"SCH",statDecode:["CRT","DET","DHT","SPS","PIE"]},{job:"AST",statDecode:["CRT","DET","DHT","SPS","PIE"]},{job:"SGE",statDecode:["CRT","DET","DHT","SPS","PIE"]},{job:"MNK",statDecode:["CRT","DET","DHT","SKS"]},{job:"DRG",statDecode:["CRT","DET","DHT","SKS"]},{job:"NIN",statDecode:["CRT","DET","DHT","SKS"]},{job:"SAM",statDecode:["CRT","DET","DHT","SKS"]},{job:"RPR",statDecode:["CRT","DET","DHT","SKS"]},{job:"VPR",statDecode:["CRT","DET","DHT","SKS"]},{job:"BRD",statDecode:["CRT","DET","DHT","SKS"]},{job:"MCH",statDecode:["CRT","DET","DHT","SKS"]},{job:"DNC",statDecode:["CRT","DET","DHT","SKS"]},{job:"BLM",statDecode:["CRT","DET","DHT","SPS"]},{job:"SMN",statDecode:["CRT","DET","DHT","SPS"]},{job:"RDM",statDecode:["CRT","DET","DHT","SPS"]},{job:"PCT",statDecode:["CRT","DET","DHT","SPS"]},{job:"BLU",statDecode:["CRT","DET","DHT","SPS"]},{job:"CRP",statDecode:["CMS","CRL","CP"]},{job:"BSM",statDecode:["CMS","CRL","CP"]},{job:"ARM",statDecode:["CMS","CRL","CP"]},{job:"GSM",statDecode:["CMS","CRL","CP"]},{job:"LTW",statDecode:["CMS","CRL","CP"]},{job:"WVR",statDecode:["CMS","CRL","CP"]},{job:"ALC",statDecode:["CMS","CRL","CP"]},{job:"CUL",statDecode:["CMS","CRL","CP"]},{job:"MIN",statDecode:["GTH","PCP","GP"]},{job:"BTN",statDecode:["GTH","PCP","GP"]},{job:"FSH",statDecode:["GTH","PCP","GP"]}],d={};for(let e=0;e<n.length;e++){let t=n[e],a=l(t.statDecode);d[t.job]={index:e,statEncode:a}}let c=[50,60,70,80,90,100],p=l(c);(i=s||(s={}))[i.Special=6]="Special",i[i.Customizable=7]="Customizable";let m=[10337,10338,10339,10340,10341,10342,10343,10344,17726],g=l(m);class h{version=77;job=0;jobLevel=0;syncLevel=0;gearType=0;gearId=0;materiaSlot=0;materiaStat=0;materiaGrade=0;specialGear=0;customStat=0;_version=4;useVersion(e){this._version=e,e>=5&&(this.job=33,this.jobLevel=6,this.syncLevel=800,this.gearType=8,this.gearId=6e4,this.materiaSlot=6,this.materiaGrade=12,this.specialGear=9,this.customStat=1001)}useJob(e){this.materiaStat=n[d[e].index].statDecode.length}}function u({job:e,jobLevel:t,syncLevel:a,gears:s}){let i=new h;i.useVersion(5),i.useJob(e);let{statEncode:r}=d[e],{statDecode:l}=n[d[e].index],m=[],u=[],f=!1;for(let{id:e,materias:t,customStats:a}of(u[i.materiaGrade]=[],s))if(e in g)m[6]=1;else if(void 0!==a)m[7]=1;else for(let e of(m[t.length]=1,t))null!==e&&void 0!==r[e[0]]?(u[e[1]]??=[],u[e[1]][r[e[0]]]=1):f=!0;let x=0;for(let e=0;e<i.gearType;e++)void 0!==m[e]&&(m[e]=x,x+=1);let v=0;for(let e=i.materiaGrade;e>=1;e--)if(void 0!==u[e])for(let t=0;t<i.materiaStat;t++)void 0!==u[e][t]&&(u[e][t]=v,v+=1);f&&(v+=1);let b=0;for(;!f&&void 0===u[b];)b++;let j=[],S=[];for(let{id:e,materias:t,customStats:a}of s){if(!(e>0)){console.warn(`share.stringify: gear id ${e} invalid.`);continue}if(e in g)S.push(e);else{let s=[];for(let e of t)s.push(null===e||void 0===r[e[0]]?v-1:u[e[1]][r[e[0]]]);j.push({id:e,materias:s,customStats:a})}}if(0===j.length&&0===S.length)return"";let _=j.length-1;for(;j[_]?.materias.length===0;)_--;let y=j[_-1]?.id>j[_]?.id;j.sort((e,t)=>e.id-t.id);let N=0;for(let e=1;e<j.length;e++){let t=j[e].id-j[e-1].id;t>N&&(N=t)}N+=1;let w=1;j.length>1&&((N>=j[0].id||j[1].id-j[0].id<j[j.length-1].id-j[j.length-2].id)&&(w=-1,j.reverse()),j[j.length-1].id-j[j.length-2].id==w*N-1&&(N+=1));let T=0n,D=(e,t)=>{T=T*BigInt(t)+BigInt(e<t?e:t-1)},L=e=>D(e?1:0,2);for(let e=j.length-1;e>=0;e--){let{id:t,materias:a,customStats:s}=j[e];if(e>0?D((t-j[e-1].id)*w+(e===j.length-1?1:0),N):(L(y),L(1===w),D(N,t),D(t,i.gearId)),void 0!==s)for(let e=l.length-1;e>=0;e--)D(s[l[e]]??0,i.customStat);else for(let e=a.length-1;e>=0;e--)D(a[e],v);D(m[void 0===s?a.length:7],x)}for(let e of S)D(g[e],i.specialGear),D(m[6],x);for(let e=b;e<=i.materiaGrade;e++)if(0!==e)for(let t=i.materiaStat-1;t>=0;t--)L(u[e]?.[t]!==void 0);D(b,i.materiaGrade+1);for(let e=i.gearType-1;e>=0;e--)L(void 0!==m[e]);return void 0!==a||t!==c[i.jobLevel-1]?(D(a??0,i.syncLevel),D(p[t],i.jobLevel),L(!0)):L(!1),D(d[e].index,i.job),D(5,i.version),function(e){let t="";do t=o[e%62n]+t,e/=62n;while(e>0);return t}(T)}function f(e){let t=function(e){let t=0n;for(let a of e)t=62n*t+r[a.charCodeAt(0)];return t}(e),a=e=>{let a=BigInt(e),s=t%a;return t/=a,Number(s)},s=()=>1===a(2),i=new h,o=a(i.version);if(o<4)return"shb";if(o<5)return"ew";i.useVersion(o);let{job:l,statDecode:d}=n[a(i.job)];i.useJob(l);let p=s(),g=c[p?a(i.jobLevel):i.jobLevel-1],u=p&&a(i.syncLevel)||void 0,f=[];for(let e=0;e<i.gearType;e++)s()&&f.push(e);let x=a(i.materiaGrade+1),v=[];for(let e=i.materiaGrade;e>=x;e--)if(0!==e)for(let t=0;t<i.materiaStat;t++)s()&&v.push([d[t],e]);0===x&&v.push(null);let b=[],j=0,S=0,_=!1,y=-1;for(;0n!==t;){let e;let o=f[a(f.length)],r=[];if(6===o){let e=m[a(i.specialGear)];b.push({id:e,materias:r});continue}if(7===o)for(let t of(e={},d)){let s=a(i.customStat);s>0&&(e[t]=s)}else for(let e=0;e<o;e++)r[e]=v[a(v.length)];-1===y?(y=a(i.gearId),j=a(y),S=s()?1:-1,_=s()):y+=(a(j)-(0n===t?1:0))*S,b.push({id:y,materias:r,customStats:e})}return _!==(-1===S)&&b.reverse(),{job:l,jobLevel:g,syncLevel:u,gears:b}}},2327:function(e,t,a){"use strict";a.r(t);var s=a(8949),i=a(7090),o=a(9975),r=a(1873),l=a(8339),n=a(3461);let d=s.LO.box(void 0,{deep:!1});s.EH(()=>{let e=d.get();if(void 0===e||""===window.location.search||n.l9.get())return;let t=o.jobSchemas[e.job],a={mode:"view",job:e.job,jobLevel:t.levelSyncable?e.jobLevel:t.jobLevel,syncLevel:t.levelSyncable?e.syncLevel:void 0,gears:{},equippedGears:{}};for(let t of e.gears)if(n.pS.has(t.id)){let{slot:e}=n.pS.get(t.id),s=void 0===a.equippedGears[e]?t.id:-t.id,i=t.materias.map(e=>({stat:null===e?void 0:e[0],grade:null===e?void 0:e[1]})),o=t.customStats;a.gears[s]={id:s,materias:i,customStats:o},a.equippedGears[s>0?e:-e]=s}i.Xx(n.h,a)});let c=()=>{let e=window.location.search.slice(1);if(e in o.jobSchemas)n.h.setJob(e),window.history.replaceState(window.history.state,document.title,window.location.href.replace(/\?.*$/,""));else{if(e.startsWith("import-")){let t=JSON.parse(decodeURIComponent(e.slice(7))),a=o.jobSchemas[t.job];if(a.levelSyncable){if(void 0!==t.syncLevel){let e=Object.entries(o.syncLevels).find(e=>e[1].includes(t.syncLevel))?.[0];void 0===e&&(e=Object.entries(o.syncLevelOfJobLevels).find(e=>e[1]===t.syncLevel)?.[0],delete t.syncLevel),void 0!==e&&(t.jobLevel=parseInt(e,10))}!o.jobLevels.includes(t.jobLevel)&&(t.jobLevel=a.jobLevel)}else t.jobLevel=a.jobLevel,t.syncLevel=void 0;e=l.P(t),window.history.replaceState(window.history.state,document.title,window.location.href.replace(/\?.*$/,`?${e}`))}if(e.length>3){let t=l.Q(e);if("string"==typeof t){window.location.href=window.location.href.replace("/?",`/${t}/?`);return}for(let e of t.gears)(0,n.oG)(e.id);s.z(()=>d.set(t)),n.h.setMode("view")}}};c(),window.addEventListener("popstate",s.aD(()=>{let e=r.z();void 0!==e?i.Xx(n.h,e):(i.Xx(n.h,i.vM(n.yh.create())),c())}))},3461:function(e,t,a){"use strict";a.d(t,{mD:()=>I,GW:()=>k,pS:()=>_,MI:()=>M,h:()=>E,l9:()=>N,V6:()=>C,oG:()=>D,rL:()=>x,j_:()=>c,LW:()=>d,pE:()=>l,jr:()=>u,XV:()=>m,JT:()=>f,yh:()=>S});var s=a("7090"),i=a("9975"),o=a("1873");let r="ffxiv-gearing.dt.setting",l=s.V5.model({gearDisplayName:s.V5.optional(s.V5.string,"name"),gearColorScheme:s.V5.optional(s.V5.string,"source"),materiaDisplayName:s.V5.optional(s.V5.string,"stat"),displayMeldedStats:s.V5.optional(s.V5.boolean,!0),hideObsoleteGears:s.V5.optional(s.V5.boolean,!0),highSaturation:s.V5.optional(s.V5.boolean,!1)}).actions(e=>({afterCreate(){s.Xx(e,JSON.parse(localStorage.getItem(r)??"{}")),s.cf(e,e=>localStorage.setItem(r,JSON.stringify(e)))},setGearDisplayName(t){e.gearDisplayName=t},setGearColorScheme(t){e.gearColorScheme=t},setMateriaDisplayName(t){e.materiaDisplayName=t},setDisplayMeldedStats(t){e.displayMeldedStats=t},setHideObsoleteGears(t){e.hideObsoleteGears=t},setHighSaturation(t){e.highSaturation=t}})),n="ffxiv-gearing.dt.promotion",d=s.V5.model({filter:s.V5.optional(s.V5.boolean,!0),legacyLink:s.V5.optional(s.V5.boolean,!0),materiaDetDhtOptimization:s.V5.optional(s.V5.boolean,!0)}).views(e=>({get:t=>e[t]??!1})).actions(e=>({afterCreate(){let t=localStorage.getItem(n),a=JSON.parse(t??"{}");if(null===t){for(let t of Object.keys(s.vM(e)))a[t]=!1;localStorage.setItem(n,JSON.stringify(a))}s.Xx(e,a),s.cf(e,e=>localStorage.setItem(n,JSON.stringify(e)))},off(t){!0===e[t]&&(e[t]=!1)}})),c=s.V5.model({stat:s.V5.maybe(s.V5.string),grade:s.V5.maybe(s.V5.number)}).views(e=>({get index(){return Number(e.$treenode.subpath)},get gear(){return s.nc(e,m)},get store(){return s.nc(e,S)}})).views(e=>({get name(){return void 0===e.stat?"":i.getMateriaName(e.stat,e.grade,"stat"===e.store.setting.materiaDisplayName,3)},get isAdvanced(){return e.index>=e.gear.materiaSlot},get isRestricted(){return e.index>e.gear.materiaSlot},get meldableGrades(){return(this.isRestricted?i.materiaGradesAdvanced:i.materiaGrades).filter(t=>e.gear.level>=i.materiaGradeRequiredLevels[t-1])},get successRate(){if(void 0===e.grade)return;let t=e.index-e.gear.materiaSlot;return t<0?100:i.materiaSuccessRates[t][e.grade-1]}})).actions(e=>({meld(t,a){e.stat=t,e.grade=a}}));var p=a("8949");let m=s.V5.model("Gear",{id:s.V5.identifierNumber,materias:s.V5.optional(s.V5.array(c),[]),customStats:s.V5.maybe(s.V5.map(s.V5.number))}).views(e=>({get data(){if(!_.has(Math.abs(e.id)))throw ReferenceError(`Gear ${e.id} not exists.`);return _.get(Math.abs(e.id))},get store(){return s.nc(e,S)}})).views(e=>({get isFood(){return!1},get name(){return e.data.name},get level(){return e.data.level},get slot(){return e.id>0?e.data.slot:-e.data.slot},get jobs(){return i.jobCategories[e.data.jobCategory]},get equipLevel(){return e.data.equipLevel},get equipLevelVariable(){return e.data.equipLevelVariable},get materiaSlot(){return e.data.materiaSlot},get materiaAdvanced(){return e.data.materiaAdvanced},get hq(){return e.data.hq},get customizable(){return e.data.customizable},get source(){return e.data.source},get patch(){return e.data.patch},get color(){let{gearColorScheme:t}=e.store.setting;if("none"===t)return"white";let{rarity:a,source:s=""}=e.data;return"source"===t&&h[s.slice(0,2)]||g[a]},get syncedLevel(){let{jobLevel:t,syncLevel:a=1/0}=e.store;if(a>=this.level&&t>=this.equipLevel)return;let s=Math.min(this.level,i.syncLevelOfJobLevels[t]);return this.equipLevelVariable?Math.min(a,s):a<this.level?a:s},get caps(){return i.getCaps(e.data)},get bareStats(){return e.data.stats},get materiaStats(){let t={};for(let a of e.materias)if(void 0!==a.stat){let e=i.materias[a.stat][a.grade-1];t[a.stat]=(t[a.stat]??0)+e}return t},get stats(){let t={},a=this.bareStats;if(this.customizable&&(a={...a,...e.customStats.toJSON()}),void 0!==this.syncedLevel){let s=i.getCaps(e.data,this.syncedLevel);for(let e of Object.keys(a))t[e]=Math.min(a[e]??0,s[e])}else if(0===this.materiaSlot)t=a;else for(let e of Object.keys(a).concat(Object.keys(this.materiaStats)))t[e]=Math.min((a[e]??0)+(this.materiaStats[e]??0),Math.max(a[e]??0,this.caps[e]));return t},get totalMeldableStats(){let e={};for(let t of Object.keys(this.caps))e[t]=this.caps[t]-(this.bareStats[t]??0);return e},get currentMeldableStats(){let e={};for(let t of Object.keys(this.caps))e[t]=this.totalMeldableStats[t]-(this.materiaStats[t]??0);return e},get statHighlights(){let e={};for(let t of Object.keys(this.bareStats))e[t]=i.statHighlight[t]&&(this.bareStats[t]??0)>=(this.caps[t]??1/0);return e},get isInstalled(){return!(this.patch>i.patches.current)},get isEquipped(){return e.store.equippedGears.get(this.slot.toString())===e},get isMelded(){for(let t of e.materias)if(void 0!==t.stat)return!0;return void 0!==e.customStats&&e.customStats.size>0}})).actions(e=>({setCustomStat(t,a){a>0?e.customStats.set(t,a<=i.customStatMax?a:i.customStatMax):e.customStats.delete(t)},initialize(){let t=e.materiaAdvanced?5:e.materiaSlot;e.materias.length>t&&e.materias.splice(t,5),e.materias.length<t&&e.materias.push(...Array(t-e.materias.length).fill({})),e.customizable&&void 0===e.customStats&&(e.customStats={})},afterCreate(){p.gx(()=>_.has(Math.abs(e.id)),this.initialize)}})).postProcessSnapshot(e=>(void 0===e.customStats&&delete e.customStats,e)),g={1:"white",2:"green",3:"blue",4:"purple",7:"red"},h={点数:"red",天书:"purple",绝境:"purple"},u=s.V5.model("Food",{id:s.V5.identifierNumber}).views(e=>({get data(){if(!_.has(e.id))throw ReferenceError(`Food ${e.id} not exists.`);return _.get(e.id)},get store(){return s.nc(e,S)}})).views(e=>({get isFood(){return!0},get name(){return e.data.name},get level(){return e.data.level},get slot(){return e.data.slot},get jobs(){return i.jobCategories[e.data.jobCategory]},get hq(){return!0},get patch(){return e.data.patch},get color(){return"white"},get stats(){return e.data.stats},get statRates(){return e.data.statRates},get requiredStats(){let e={};for(let t of Object.keys(this.stats)){let a=this.statRates[t];void 0!==a&&(e[t]=Math.ceil(100*this.stats[t]/a))}return e},get effectiveStats(){let t={};for(let a of Object.keys(this.stats)){let s=e.store.equippedStatsWithoutFood[a]??1,i=this.statRates[a]??1/0;t[a]=Math.min(this.stats[a],k(s*i/100))}return t},get statHighlights(){return{[e.data.statMain]:!0}},get utilization(){let e=0,t=0;for(let a of Object.keys(this.stats))e+=this.stats[a],t+=this.effectiveStats[a];return k(t/e*100)},get utilizationOpacity(){return Math.max(.2,(this.utilization/100)**2)},get isInstalled(){return!(this.patch>i.patches.current)},get isEquipped(){return e.store.equippedGears.get(this.slot)===e}})),f=s.V5.union({dispatcher:e=>{let t=_.get(Math.abs(e.id));if(void 0===t)return void 0!==e.materias?m:u;{let a=-1===t.slot||-2===t.slot;return void 0!==e.materias&&a&&delete e.materias,a?u:m}}},m,u),x=s.V5.maybe(s.V5.reference(f,{get(e,t){let a=t?s.Q0(f,t,e):void 0;return a&&_.has(Math.abs(a.id))?a:void 0},set:e=>e?.$treenode.unnormalizedIdentifier}));var v=a("8339");let b="ffxiv-gearing.dt.clan",j="ffxiv-gearing.dt.tiers-shown",S=s.V5.model("Store",{mode:s.V5.optional(s.V5.string,"edit"),job:s.V5.maybe(s.V5.string),jobLevel:s.V5.optional(s.V5.number,100),minLevel:s.V5.optional(s.V5.number,0),maxLevel:s.V5.optional(s.V5.number,0),syncLevel:s.V5.maybe(s.V5.number),filterPatch:s.V5.optional(s.V5.string,"all"),filterFocus:s.V5.optional(s.V5.string,"no"),showAllFoods:s.V5.optional(s.V5.boolean,!1),showAllPotions:s.V5.optional(s.V5.boolean,!1),duplicateToolMateria:s.V5.optional(s.V5.boolean,!0),gears:s.V5.map(f),equippedGears:s.V5.map(x)}).volatile(()=>({setting:l.create(),promotion:d.create(),clan:Number(localStorage.getItem(b))||0,tiersShown:"true"===localStorage.getItem(j),autoSelectScheduled:!1,materiaOverallActiveTab:0})).views(e=>({get filteredIds(){if(void 0===e.job)return[];if("view"===e.mode)return Array.from(e.gears.keys(),e=>Number(e));let t=p.rg(()=>e.equippedGears.toJSON()),a=[];for(let s of C.get()){let{job:o,minLevel:r,maxLevel:l,filterPatch:n}=e;i.jobCategories[s.jobCategory][o]&&("all"===n||"next"===n&&!(s.patch>i.patches.next)||"current"===n&&!(s.patch>i.patches.current))&&(-1===s.slot?e.showAllFoods||"best"in s:-2===s.slot?e.showAllPotions||"best"in s:17===s.slot||2===s.slot&&"FSH"===o||s.level>=r&&s.level<=l&&!(s.obsolete&&this.setting.hideObsoleteGears))?(a.push(s.id),12===s.slot&&a.push(-s.id)):(t[s.slot]===s.id&&a.push(s.id),t[-s.slot]===-s.id&&a.push(-s.id))}return a}})).views(e=>({get isLoading(){return N.get()},get isViewing(){return"view"===e.mode},get schema(){if(void 0===e.job)throw ReferenceError();return i.jobSchemas[e.job]},get groupedGears(){let t={};for(let a of e.filteredIds){let s=e.gears.get(a.toString());if(!!s.isFood||!!s.isMelded||("melded"!==e.filterFocus||!!s.isEquipped)&&"comparable"!==e.filterFocus)!(s.slot in t)&&(t[s.slot]=[]),t[s.slot].push(s)}return t},get baseStats(){if(void 0===e.job)return{};let t=i.jobLevelModifiers[e.jobLevel],a={PDMG:0,MDMG:0};for(let s of this.schema.stats){let o=i.baseStats[s]??0;"number"==typeof o?a[s]=o:a[s]=k(t[o]*(this.schema.statModifiers[s]??100)/100)+(i.clanStats[s]?.[e.clan]??0)}return a},get equippedStatsWithoutFood(){if(void 0===e.job)return{};let t={...this.baseStats};for(let a of e.equippedGears.values())if(void 0!==a&&!a.isFood)for(let e of Object.keys(a.stats))t[e]=t[e]+a.stats[e];return t},get equippedStats(){if(void 0===e.job)return{};let t={...this.equippedStatsWithoutFood};for(let a of["-1","-2"]){let s=e.equippedGears.get(a);if(void 0!==s)for(let e of Object.keys(this.equippedStatsWithoutFood))t[e]+=s.effectiveStats[e]??0}return t},get equippedLevel(){let t=0,a=0;for(let s of this.schema.slots)t+=(e.equippedGears.get(s.slot)?.level??0)*(s.levelWeight??1),a+=s.levelWeight??1;return k(t/a)},get isMateriaNamesSameWidth(){let t=-1;for(let a of e.equippedGears.values())if(void 0!==a&&!a.isFood)for(let{name:e}of a.materias){if(0===e.length)continue;let a=0;for(let t=0;t<e.length;t++)a+=256>e.charCodeAt(t)?1:2;if(-1!==t&&a!==t)return!1;t=a}return!0},get materiaConsumption(){let t={};for(let a of e.equippedGears.values()){if(void 0===a||a.isFood)continue;let s=e.duplicateToolMateria&&(1===a.slot||2===a.slot)&&this.schema.toolMateriaDuplicates||1;for(let e of a.materias){if(void 0===e.stat)continue;void 0===t[e.stat]&&(t[e.stat]={}),void 0===t[e.stat][e.grade]&&(t[e.stat][e.grade]={safe:0,expectation:0,confidence90:0,confidence99:0,rates:[]});let a=t[e.stat][e.grade];for(let t=0;t<s;t++)100===e.successRate?a.safe+=1:(a.expectation+=100/e.successRate,a.rates.push(e.successRate/100))}}let a=0;for(let e of Object.values(t))for(let t of Object.values(e))t.rates.length>0&&a++;let s=.9**(1/a),i=.99**(1/a),o=[],r=[];for(let e of Object.values(t))for(let t of Object.values(e)){t.expectation=t.safe+Math.round(t.expectation);let e=t.rates;if(0===e.length){t.confidence90=t.confidence99=t.safe;continue}let a=[],l=1,n=0;for(;;){a[l]=[],a[l][e.length-1]=1-(1-e[e.length-1])**l;for(let t=e.length-2;t>=0&&!(e.length-t>l);t--){a[l][t]=0;for(let s=1;s<=l-(e.length-t)+1;s++)a[l][t]+=(1-e[t])**(s-1)*e[t]*a[l-s][t+1]}if(a[l][0]>s&&0===n&&(n=l),a[l][0]>i)break;l++}t.confidence90=t.safe+n-1,t.confidence99=t.safe+l-1,o.push({pBelow:a[n-1][0],pAbove:a[n][0],increase:()=>t.confidence90++}),r.push({pBelow:a[l-1][0],pAbove:a[l][0],increase:()=>t.confidence99++})}for(let[e,t]of[[o,.9],[r,.99]]){e.sort((e,t)=>e.pBelow-t.pBelow);let a=1;for(let t of e)a*=t.pBelow;for(let s of e)if(s.increase(),(a=a/s.pBelow*s.pAbove)>t)break}return t},get syncLevelText(){if(void 0!==e.syncLevel)return e.syncLevel.toString();if(e.jobLevel!==this.schema.jobLevel)return e.jobLevel+"级"},get raceName(){return i.races[k(e.clan/2)]},get clanName(){return i.clans[e.clan]}})).views(e=>({get equippedEffects(){if(void 0===e.job)return;let{statModifiers:t,mainStat:a,traitDamageMultiplier:s,partyBonus:o}=e.schema;if(void 0===t||void 0===a||void 0===s)return;let r=i.jobLevelModifiers[e.jobLevel],{main:l,sub:n,div:d,det:c,detTrunc:p}=r,{CRT:m,DET:g,DHT:h,TEN:u,SKS:f,SPS:x,VIT:v,PIE:b,PDMG:j,MDMG:S}=e.equippedStats,_="VIT"===a?"STR":a,y="BLU"===e.job?200:0,N=k(200*(m-n)/d+50+y)/1e3,w=k(200*(m-n)/d+1400)/1e3,T=k((140*(g-l)/c+1e3)/p)*p/1e3,D=k(550*(h-n)/d+y)/1e3,L=k(112*((u??n)-n)/d+1e3)/1e3,M=k(200*((u??n)-n)/d)/1e3,C=k(l*t[_]/1e3)+(("MND"===a||"INT"===a?S:j)??0)+("BLU"===e.job?i.bluMdmgAdditions[e.equippedStats.INT-e.baseStats.INT]??0:0),I=k(("VIT"===a?r.apTank:r.ap)*(k((e.equippedStats[_]??0)*(o??1.05))-l)/l+100)/100,E=k(k((1e3-k(130*((f??x)-n)/d))*2500/1e3)*(e.jobLevel>=80&&t.gcd||100)/1e3)/100,P=k(130*((f??x)-n)/d+1e3)/1e3,G=r.hp*t.hp+k(("VIT"===a?r.vitTank:r.vit)*(v-l));return{crtChance:N,crtDamage:w,detDamage:T,dhtChance:D,tenDamage:L,tenMitigation:M,damage:.01*C*I*T*L*s*((w-1)*N+1)*(.25*D+1),gcd:E,ssDamage:P,hp:G,mp:k(150*((b??l)-l)/d+200)}},get equippedTiers(){let{statModifiers:s}=e.schema;if(void 0===s)return;let{main:o,sub:r,div:l,det:n,detTrunc:d}=i.jobLevelModifiers[e.jobLevel],{CRT:c,DET:p,DHT:m,TEN:g,SKS:h,SPS:u,PIE:f}=e.equippedStats;function t(e,t){if(Number.isNaN(e))return;let a=k(e/t),s=I(a*t)-1-e;return{prev:s,next:I((a+1)*t)-e}}function a(e,t,a){if(Number.isNaN(e))return;let s=k(k((1e3-k(e/t))*2.5)*a),i=I((k(1e3-I((s+1)/a)/2.5)+1)*t)-1-e;return{prev:i,next:I((k(1e3-I(s/a)/2.5)+1)*t)-e}}return{CRT:t(c-r,l/200),DET:t(p-o,n/140*d),DHT:t(m-r,l/550),TEN:t(g-r,l/112),SKS:a(h-r,l/130,(s.gcd??100)/1e3),SPS:a(u-r,l/130,(s.gcd??100)/1e3),PIE:t(f-o,l/150)}},get materiaDetDhtOptimized(){let t;let a=e=>(e.DET??0)<<16|(e.DHT??0),o=e=>[e>>16,65535&e],r=(e,t,a)=>{let s=e.get(t)??[];s.push(a),e.set(t,s)},l=new Map,n=a(e.baseStats),d=[],c=[],m=[],g=new Map,h=[],u=[];p.z(()=>{let i=S.create(s.vM(e));for(let e of(i.unprotect(),i.equippedGears.values())){if(void 0===e)continue;if(e.isFood){t=e;continue}let s=e.materias.filter(e=>"DET"===e.stat||"DHT"===e.stat||void 0===e.stat),i={DET:[0,0],DHT:[0,0],all:[0,0]};for(let e of s){e.grade=e.meldableGrades[0];let t=e.isRestricted?1:0;"DET"===e.stat&&i.DET[t]++,"DHT"===e.stat&&i.DHT[t]++,i.all[t]++}for(let t of(l.set(e.id,i),s))t.stat="DET";let p=a(e.stats),g=e.currentMeldableStats.DET<0;for(let e of s)e.stat="DHT";let f=a(e.stats),x=e.currentMeldableStats.DHT<0;if(p===f)n+=p;else if(g||x||0!==d.length&&e.materias[0].meldableGrades[0]!==d[0].materias[0].meldableGrades[0]){h.push(e);let t=s.filter(e=>!e.isRestricted),i=s.filter(e=>e.isRestricted),l=new Map;for(let s=0;s<=t.length;s++){for(let e of(s>0&&(t[s-1].stat="DET"),i))e.stat="DHT";for(let t=0;t<=i.length;t++)t>0&&(i[t-1].stat="DET"),r(l,a(e.stats),[s,t])}for(let e of l.keys()){let[t,a]=o(e);for(let s of l.keys()){if(e===s)continue;let[i,r]=o(s);if(t<=i&&a<=r){l.delete(e);break}}}u.push(l)}else for(let t of(d.push(e),s))(t.isRestricted?m:c).push(t)}for(let e=0;e<=c.length;e++){for(let t of(e>0&&(c[e-1].stat="DET"),m))t.stat="DHT";for(let t=0;t<=m.length;t++)t>0&&(m[t-1].stat="DET"),r(g,d.reduce((e,t)=>e+a(t.stats),0),[e,t])}});let{main:f,sub:x,div:v,det:b,detTrunc:j}=i.jobLevelModifiers[e.jobLevel],_="BLU"===e.job?200:0,y=t?.stats?.DET??0,N=t?.statRates?.DET??1/0,w=t?.stats?.DHT??0,T=t?.statRates?.DHT??1/0,D=0,L=0,M=new Map,C=new Map,I=[g].concat(u),E=[],P=(e,t)=>{if(t<I.length)for(let a of I[t].keys())E[t]=a,P(e+a,t+1);else{let[t,s]=o(e);t+=Math.min(y,k(t*N/100)),s+=Math.min(w,k(s*T/100));let i=k((140*(t-f)/b+1e3)/j)*j/1e3,l=k(550*(s-x)/v+_)/1e3,n=i*(.25*l+1);if(n>D&&(D=n,L=.9997*n),n>L){let e=a({DET:t,DHT:s});r(M,n,e),r(C,e,E.slice())}}};for(let e of(P(n,0),M.keys()))e<=L&&M.delete(e);let G=new Float64Array(M.keys()).sort().reverse(),R=[];for(let e of G)R.push(...new Set(M.get(e)).values());let V={DET:[0,0],DHT:[0,0],all:[0,0]},H=[],O=new Map;for(let e of d){for(let[t,a]of Object.entries(V))a[0]+=l.get(e.id)[t][0],a[1]+=l.get(e.id)[t][1];O.set(e.id,[])}for(let t=0;t<5;t++)for(let a of d){let s=e.gears.get(a.id);t<s.materias.length&&(O.get(a.id)[t]=H.length,H.push(s.materias[t]))}let z=Array.from({length:I.length},()=>new Map),F=Array.from({length:I.length},()=>new Map);return R.map(t=>{let a;let s=C.get(t),i=1/0;for(let t of s){let s=0;for(let a=0;a<t.length;a++){let i=t[a],o=z[a].get(i);if(void 0===o){o=1/0;let t=[];for(let s of I[a].get(i)){let i=0,r=0===a?H:e.gears.get(h[a-1].id).materias,n=0===a?V:l.get(h[a-1].id),d=r.map(e=>e.stat);for(let e of[0,1]){let t={DET:s[e],DHT:n.all[e]-s[e]};for(let a of["DET","DHT"]){let s=n[a][e]-t[a],o=r.length-1;for(;s>0;){let t=r[o];t.stat===a&&t.isRestricted===(1===e)&&(i+=1e3+t.gear.materias.length-t.index,d[o]=void 0,s--),o--}}for(let a of["DET","DHT"]){let s=t[a]-n[a][e],i=0;for(;s>0;)void 0===d[i]&&(d[i]=a,s--),i++}}i<o&&(o=i,t=d.slice())}z[a].set(i,o),F[a].set(i,t)}s+=o}s<i&&(i=s,a=t)}let r=new Map;for(let e=0;e<a.length;e++){let t=a[e],s=F[e].get(t);if(0===e)for(let[e,t]of O.entries())r.set(e,t.map(e=>s[e]));else r.set(h[e-1].id,s)}let[n,d]=o(t);return{DET:n,DHT:d,gearMateriaStats:r}})},get share(){if(void 0===e.job)return"";let t=[];for(let a of e.schema.slots){let s=e.equippedGears.get(a.slot.toString());void 0!==s&&t.push({id:s.data.id,materias:s.isFood||void 0!==s.syncedLevel?[]:s.materias.map(e=>void 0!==e.stat?[e.stat,e.grade]:null),customStats:s.customStats?.toJSON()})}return v.P({job:e.job,jobLevel:e.jobLevel,syncLevel:e.syncLevel,gears:t})},get shareUrl(){return window.location.origin+window.location.pathname+"?"+this.share},get title(){let t="最终幻想14配装器";if(void 0===e.job)return t;if(e.isLoading)return;let a=void 0!==e.schema.mainStat?`il${e.equippedLevel}/${this.equippedEffects.gcd.toFixed(2)}s`:e.schema.stats.map(t=>e.equippedStats[t]).join("/");return`${e.schema.name}(${a}) - ${t}`}})).actions(e=>({createGears(){for(let t of e.filteredIds)!e.gears.has(t.toString())&&e.gears.put(f.create({id:t}))},setMode(t){e.mode=t},setJob(t){let a=e.job&&i.jobSchemas[e.job],s=i.jobSchemas[t];for(let[i,o]of(e.job=t,(s.jobLevel!==a?.jobLevel||!s.levelSyncable)&&(e.jobLevel=s.jobLevel,e.syncLevel=void 0),s.defaultItemLevel!==a?.defaultItemLevel&&(e.minLevel=s.defaultItemLevel[0],e.maxLevel=s.defaultItemLevel[1]),e.equippedGears.entries()))void 0!==o&&!o.jobs[t]&&e.equippedGears.delete(i);e.autoSelectScheduled=s.skeletonGears??!1},setMinLevel(t){e.minLevel=t},setMaxLevel(t){e.maxLevel=t},setSyncLevel(t,a){e.syncLevel=t,e.jobLevel=a??e.schema.jobLevel},setFilterPatch(t){e.filterPatch=t},setFilterFocus(t){e.filterFocus=t},setMateriaOverallActiveTab(t){e.materiaOverallActiveTab=t},setMateriaDetDhtOptimization(t){for(let[a,s]of t.entries()){let t=e.gears.get(a);for(let e=0;e<t.materias.length;e++){let a=t.materias[e];a.stat=s[e],("DET"===a.stat||"DHT"===a.stat)&&(a.grade=a.meldableGrades[0])}}},toggleShowAllFoods(){e.showAllFoods=!e.showAllFoods},toggleShowAllPotions(){e.showAllPotions=!e.showAllPotions},toggleDuplicateToolMateria(){e.duplicateToolMateria=!e.duplicateToolMateria},startEditing(){e.mode="edit";let t=1/0,a=-1/0;for(let s of e.schema.slots){let i=e.equippedGears.get(s.slot.toString());void 0!==i&&0!==s.levelWeight&&17726!==i.id&&(i.level<t&&(t=i.level),i.level>a&&(a=i.level))}e.minLevel=t,e.maxLevel=a},equip(t){let a=t.slot.toString();e.equippedGears.get(a)===t?e.equippedGears.delete(a):e.equippedGears.set(a,t)},setClan(t){e.clan=t,localStorage.setItem(b,t.toString())},toggleTiersShown(){e.tiersShown=!e.tiersShown,localStorage.setItem(j,e.tiersShown.toString())},autoSelect(){if(e.autoSelectScheduled)for(let[t,a]of(e.autoSelectScheduled=!1,Object.entries(e.groupedGears))){if(void 0!==e.equippedGears.get(t))continue;let s=a[a.length-1];if(void 0!==s&&!s.isFood&&17!==s.slot){for(let e=a.length-1;e>=0;e--)if(a[e].materiaAdvanced){s=a[e];break}!s.isEquipped&&this.equip(s)}}},unprotect(){s.pc(e)}})).actions(e=>({afterCreate(){for(let t of Object.values(e.equippedGears.toJSON()))D(Math.abs(t));p.EH(()=>M(e.minLevel,e.maxLevel)),p.U5(()=>e.filteredIds,e.createGears,{fireImmediately:!0}),p.U5(()=>e.autoSelectScheduled&&e.groupedGears,e.autoSelect)}})),_=p.LO.map({},{deep:!1});p.z(()=>{for(let e of a(1571).Z)_.set(e.id,e);for(let e of a(7637).default)_.set(e.id,e)});let y=p.LO.map({}),N=p.Fl(()=>{for(let e of y.values())if("loading"===e)return!0;return!1}),w=async e=>{if(void 0===e||y.has(e))return;p.z(()=>y.set(e,"loading"));let t=(await a(5467)(`./gears-${e}`)).default;p.z(()=>{for(let e of t)!_.has(e.id)&&_.set(e.id,e);y.set(e,"finished")})},T=a(8953).Z,D=e=>w(T[e]),L=a(3460).Z,M=(e,t)=>{let a=0;for(;L[a+1]<=e;)a++;for(;L[a]<=t;)w(L[a]),a++};y.set(L[L.length-1],"finished");let C=p.LO.box([],{deep:!1});function k(e){return Math.trunc(e+1e-7)}function I(e){return Math.ceil(e-1e-7)}p.EH(()=>{!N.get()&&p.z(()=>{C.set(Array.from(_.values()).sort((e,t)=>{let a=e.level-t.level;return 0!==a?a:e.id-t.id}))})});let E=S.create(o.z());s.cf(E,e=>{void 0!==e.job&&"view"!==e.mode&&o.a(e)}),a(2327),window.store=E,window.game=i;s.pc(E),console.log("You can access window.store for data store of this app, and window.game for ffxiv related constants.")},8653:function(e){"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2716%27 height=%274%27%3E%3Cpath d=%27M4 0h6L7 4%27/%3E%3C/svg%3E"},7081:function(e){"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2736%27 height=%2712%27%3E%3Cpath fill=%27rgba%2817, 17, 17, 0.9%29%27 d=%27M2.658 0h32.004c-6 0-11.627 12.002-16.002 12.002S8.594 0 2.658 0%27/%3E%3C/svg%3E"}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={id:s,exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,s){return a.f[s](e,t),t},[]))},a.u=function(e){return""+({166:"gears-1",178:"gears-645",347:"gears-255",371:"gears-70",410:"gears-661",412:"gears-531",439:"gears-600",501:"gears-340",51:"gears-210",526:"gears-515",611:"gears-470",707:"gears-136",73:"gears-401",801:"gears-271",839:"gears-385"})[e]+"."+({166:"f5796ee1c0",178:"791b234960",347:"c590e9bebc",371:"74a6447a5e",410:"caa23ba8fe",412:"a9fb48de53",439:"24ea07ef01",501:"9db6870980",51:"2dc145a046",526:"d0baccbde3",611:"b62b4c6fb4",707:"5d80026483",73:"27a4ae76bf",801:"35fc0e99ba",839:"065711d3c5"})[e]+".js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},(()=>{var e={},t="ffxiv-gearing:";a.l=function(s,i,o,r){if(e[s]){e[s].push(i);return}if(void 0!==o){for(var l,n,d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var p=d[c];if(p.getAttribute("src")==s||p.getAttribute("data-webpack")==t+o){l=p;break}}}!l&&(n=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+o),l.src=s),e[s]=[i];var m=function(t,a){l.onerror=l.onload=null,clearTimeout(g);var i=e[s];if(delete e[s],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach(function(e){return e(a)}),t)return t(a)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),n&&document.head.appendChild(l)}})(),a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0,(()=>{var e=[];a.O=function(t,s,i,o){if(s){o=o||0;for(var r=e.length;r>0&&e[r-1][2]>o;r--)e[r]=e[r-1];e[r]=[s,i,o];return}for(var l=1/0,r=0;r<e.length;r++){for(var s=e[r][0],i=e[r][1],o=e[r][2],n=!0,d=0;d<s.length;d++)(!1&o||l>=o)&&Object.keys(a.O).every(function(e){return a.O[e](s[d])})?s.splice(d--,1):(n=!1,o<l&&(l=o));if(n){e.splice(r--,1);var c=i();void 0!==c&&(t=c)}}return t}})(),(()=>{a.g.importScripts&&(e=a.g.location+"");var e,t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length){for(var i=s.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=s[i--].src}}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{a.b=document.baseURI||self.location.href;var e={909:0};a.f.j=function(t,s){var i=a.o(e,t)?e[t]:void 0;if(0!==i){if(i)s.push(i[2]);else{var o=new Promise(function(a,s){i=e[t]=[a,s]});s.push(i[2]=o);var r=a.p+a.u(t),l=Error();a.l(r,function(s){if(a.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,i[1](l)}},"chunk-"+t,t)}}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i=s[0],o=s[1],r=s[2],l,n,d=0;if(i.some(function(t){return 0!==e[t]})){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(r)var c=r(a)}for(t&&t(s);d<i.length;d++)n=i[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},s=self.webpackChunkffxiv_gearing=self.webpackChunkffxiv_gearing||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=a.O(void 0,["624","945","563"],function(){return a("9957")});s=a.O(s)})();