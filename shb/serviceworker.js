self.addEventListener("install",(()=>{self.skipWaiting()})),addEventListener("activate",(t=>{t.waitUntil((async()=>{self.registration.navigationPreload&&await self.registration.navigationPreload.enable(),await self.clients.claim()})())})),self.addEventListener("fetch",(t=>{const e=t.request;"GET"===e.method&&t.respondWith((async()=>{const a=/^(.*\/[^\/]+\.)\w{10}(\.\w+)$/.exec(e.url);if(null===a){const a=await t.preloadResponse;return void 0!==a?a:fetch(e)}let i=await caches.match(e);return void 0!==i?i:(i=await fetch(e),void 0===i||200!==i.status||"basic"!==i.type?i:(caches.open("ffxiv-gearing-v1").then((async t=>{const n=await t.keys();await t.put(e,i);const s=n.find((t=>t.url.length===e.url.length&&t.url.startsWith(a[1])&&t.url.endsWith(a[2])));void 0!==s&&await t.delete(s)})),i.clone()))})())}));